var LN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var M9=LN((nU,Pl)=>{function FN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Lx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Fx={exports:{}},Ju={},Ux={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var il=Symbol.for("react.element"),UN=Symbol.for("react.portal"),BN=Symbol.for("react.fragment"),VN=Symbol.for("react.strict_mode"),zN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),qN=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),KN=Symbol.for("react.memo"),QN=Symbol.for("react.lazy"),ty=Symbol.iterator;function YN(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var Bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx=Object.assign,zx={};function lo(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Bx}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hx(){}Hx.prototype=lo.prototype;function bm(t,e,n){this.props=t,this.context=e,this.refs=zx,this.updater=n||Bx}var km=bm.prototype=new Hx;km.constructor=bm;Vx(km,lo.prototype);km.isPureReactComponent=!0;var ny=Array.isArray,Wx=Object.prototype.hasOwnProperty,Em={current:null},qx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Wx.call(e,r)&&!qx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:il,type:t,key:i,ref:o,props:s,_owner:Em.current}}function JN(t,e){return{$$typeof:il,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===il}function XN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ry=/\/+/g;function yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XN(""+t.key):e.toString(36)}function wc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case il:case UN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+yh(o,0):r,ny(s)?(n="",t!=null&&(n=t.replace(ry,"$&/")+"/"),wc(s,e,n,"",function(u){return u})):s!=null&&(Sm(s)&&(s=JN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ry,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ny(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+yh(i,a);o+=wc(i,e,n,l,s)}else if(l=YN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+yh(i,a++),o+=wc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bl(t,e,n){if(t==null)return t;var r=[],s=0;return wc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ZN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},xc={transition:null},e_={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:xc,ReactCurrentOwner:Em};function Kx(){throw Error("act(...) is not supported in production builds of React.")}pe.Children={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};pe.Component=lo;pe.Fragment=BN;pe.Profiler=zN;pe.PureComponent=bm;pe.StrictMode=VN;pe.Suspense=GN;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e_;pe.act=Kx;pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Em.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Wx.call(e,l)&&!qx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:il,type:t.type,key:s,ref:i,props:r,_owner:o}};pe.createContext=function(t){return t={$$typeof:WN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};pe.createElement=Gx;pe.createFactory=function(t){var e=Gx.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:qN,render:t}};pe.isValidElement=Sm;pe.lazy=function(t){return{$$typeof:QN,_payload:{_status:-1,_result:t},_init:ZN}};pe.memo=function(t,e){return{$$typeof:KN,type:t,compare:e===void 0?null:e}};pe.startTransition=function(t){var e=xc.transition;xc.transition={};try{t()}finally{xc.transition=e}};pe.unstable_act=Kx;pe.useCallback=function(t,e){return Mt.current.useCallback(t,e)};pe.useContext=function(t){return Mt.current.useContext(t)};pe.useDebugValue=function(){};pe.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};pe.useEffect=function(t,e){return Mt.current.useEffect(t,e)};pe.useId=function(){return Mt.current.useId()};pe.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};pe.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};pe.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};pe.useMemo=function(t,e){return Mt.current.useMemo(t,e)};pe.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};pe.useRef=function(t){return Mt.current.useRef(t)};pe.useState=function(t){return Mt.current.useState(t)};pe.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};pe.useTransition=function(){return Mt.current.useTransition()};pe.version="18.3.1";Ux.exports=pe;var b=Ux.exports;const be=xm(b),Ui=FN({__proto__:null,default:be},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_=b,n_=Symbol.for("react.element"),r_=Symbol.for("react.fragment"),s_=Object.prototype.hasOwnProperty,i_=t_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o_={key:!0,ref:!0,__self:!0,__source:!0};function Qx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)s_.call(e,r)&&!o_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:n_,type:t,key:i,ref:o,props:s,_owner:i_.current}}Ju.Fragment=r_;Ju.jsx=Qx;Ju.jsxs=Qx;Fx.exports=Ju;var c=Fx.exports,Yx={exports:{}},Xt={},Jx={exports:{}},Xx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,R){var T=D.length;D.push(R);e:for(;0<T;){var _=T-1>>>1,A=D[_];if(0<s(A,R))D[_]=R,D[T]=A,T=_;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var R=D[0],T=D.pop();if(T!==R){D[0]=T;e:for(var _=0,A=D.length,B=A>>>1;_<B;){var G=2*(_+1)-1,K=D[G],Y=G+1,z=D[Y];if(0>s(K,T))Y<A&&0>s(z,K)?(D[_]=z,D[Y]=T,_=Y):(D[_]=K,D[G]=T,_=G);else if(Y<A&&0>s(z,T))D[_]=z,D[Y]=T,_=Y;else break e}}return R}function s(D,R){var T=D.sortIndex-R.sortIndex;return T!==0?T:D.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,g=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(D){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=D)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function k(D){if(w=!1,v(D),!g)if(n(l)!==null)g=!0,de(j);else{var R=n(u);R!==null&&H(k,R.startTime-D)}}function j(D,R){g=!1,w&&(w=!1,p(x),x=-1),m=!0;var T=f;try{for(v(R),h=n(l);h!==null&&(!(h.expirationTime>R)||D&&!M());){var _=h.callback;if(typeof _=="function"){h.callback=null,f=h.priorityLevel;var A=_(h.expirationTime<=R);R=t.unstable_now(),typeof A=="function"?h.callback=A:h===n(l)&&r(l),v(R)}else r(l);h=n(l)}if(h!==null)var B=!0;else{var G=n(u);G!==null&&H(k,G.startTime-R),B=!1}return B}finally{h=null,f=T,m=!1}}var C=!1,N=null,x=-1,E=5,I=-1;function M(){return!(t.unstable_now()-I<E)}function O(){if(N!==null){var D=t.unstable_now();I=D;var R=!0;try{R=N(!0,D)}finally{R?F():(C=!1,N=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,oe=q.port2;q.port1.onmessage=O,F=function(){oe.postMessage(null)}}else F=function(){S(O,0)};function de(D){N=D,C||(C=!0,F())}function H(D,R){x=S(function(){D(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,de(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var T=f;f=R;try{return D()}finally{f=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,R){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var T=f;f=D;try{return R()}finally{f=T}},t.unstable_scheduleCallback=function(D,R,T){var _=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?_+T:_):T=_,D){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=T+A,D={id:d++,callback:R,priorityLevel:D,startTime:T,expirationTime:A,sortIndex:-1},T>_?(D.sortIndex=T,e(u,D),n(l)===null&&D===n(u)&&(w?(p(x),x=-1):w=!0,H(k,T-_))):(D.sortIndex=A,e(l,D),g||m||(g=!0,de(j))),D},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(D){var R=f;return function(){var T=f;f=R;try{return D.apply(this,arguments)}finally{f=T}}}})(Xx);Jx.exports=Xx;var a_=Jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_=b,Qt=a_;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zx=new Set,ga={};function Xs(t,e){Bi(t,e),Bi(t+"Capture",e)}function Bi(t,e){for(ga[t]=e,t=0;t<e.length;t++)Zx.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_f=Object.prototype.hasOwnProperty,c_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},iy={};function u_(t){return _f.call(iy,t)?!0:_f.call(sy,t)?!1:c_.test(t)?iy[t]=!0:(sy[t]=!0,!1)}function d_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function h_(t,e,n,r){if(e===null||typeof e>"u"||d_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nm=/[\-:]([a-z])/g;function _m(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nm,_m);mt[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nm,_m);mt[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nm,_m);mt[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(h_(e,n,s,r)&&(n=null),r||s===null?u_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wr=l_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vl=Symbol.for("react.element"),hi=Symbol.for("react.portal"),fi=Symbol.for("react.fragment"),Tm=Symbol.for("react.strict_mode"),Cf=Symbol.for("react.profiler"),e1=Symbol.for("react.provider"),t1=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),n1=Symbol.for("react.offscreen"),oy=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,vh;function zo(t){if(vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vh=e&&e[1]||""}return`
`+vh+t}var wh=!1;function xh(t,e){if(!t||wh)return"";wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zo(t):""}function f_(t){switch(t.tag){case 5:return zo(t.type);case 16:return zo("Lazy");case 13:return zo("Suspense");case 19:return zo("SuspenseList");case 0:case 2:case 15:return t=xh(t.type,!1),t;case 11:return t=xh(t.type.render,!1),t;case 1:return t=xh(t.type,!0),t;default:return""}}function jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fi:return"Fragment";case hi:return"Portal";case Cf:return"Profiler";case Tm:return"StrictMode";case Tf:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case t1:return(t.displayName||"Context")+".Consumer";case e1:return(t._context.displayName||"Context")+".Provider";case Im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jm:return e=t.displayName||null,e!==null?e:jf(t.type)||"Memo";case _r:e=t._payload,t=t._init;try{return jf(t(e))}catch{}}return null}function p_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jf(e);case 8:return e===Tm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function r1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function m_(t){var e=r1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zl(t){t._valueTracker||(t._valueTracker=m_(t))}function s1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=r1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Af(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function i1(t,e){e=e.checked,e!=null&&Cm(t,"checked",e,!1)}function Df(t,e){i1(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pf(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pf(t,e,n){(e!=="number"||Wc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ho=Array.isArray;function _i(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Ho(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function o1(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function a1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?a1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,l1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g_=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(t){g_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ta[e]=ta[t]})});function c1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ta.hasOwnProperty(t)&&ta[t]?(""+e).trim():e+"px"}function u1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=c1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var y_=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Of(t,e){if(e){if(y_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function $f(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lf=null;function Am(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,Ci=null,Ti=null;function dy(t){if(t=ll(t)){if(typeof Ff!="function")throw Error($(280));var e=t.stateNode;e&&(e=nd(e),Ff(t.stateNode,t.type,e))}}function d1(t){Ci?Ti?Ti.push(t):Ti=[t]:Ci=t}function h1(){if(Ci){var t=Ci,e=Ti;if(Ti=Ci=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function f1(t,e){return t(e)}function p1(){}var bh=!1;function m1(t,e,n){if(bh)return t(e,n);bh=!0;try{return f1(t,e,n)}finally{bh=!1,(Ci!==null||Ti!==null)&&(p1(),h1())}}function va(t,e){var n=t.stateNode;if(n===null)return null;var r=nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Uf=!1;if(lr)try{var To={};Object.defineProperty(To,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",To,To),window.removeEventListener("test",To,To)}catch{Uf=!1}function v_(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var na=!1,qc=null,Gc=!1,Bf=null,w_={onError:function(t){na=!0,qc=t}};function x_(t,e,n,r,s,i,o,a,l){na=!1,qc=null,v_.apply(w_,arguments)}function b_(t,e,n,r,s,i,o,a,l){if(x_.apply(this,arguments),na){if(na){var u=qc;na=!1,qc=null}else throw Error($(198));Gc||(Gc=!0,Bf=u)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function g1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(Zs(t)!==t)throw Error($(188))}function k_(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hy(s),t;if(i===r)return hy(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function y1(t){return t=k_(t),t!==null?v1(t):null}function v1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v1(t);if(e!==null)return e;t=t.sibling}return null}var w1=Qt.unstable_scheduleCallback,fy=Qt.unstable_cancelCallback,E_=Qt.unstable_shouldYield,S_=Qt.unstable_requestPaint,We=Qt.unstable_now,N_=Qt.unstable_getCurrentPriorityLevel,Dm=Qt.unstable_ImmediatePriority,x1=Qt.unstable_UserBlockingPriority,Kc=Qt.unstable_NormalPriority,__=Qt.unstable_LowPriority,b1=Qt.unstable_IdlePriority,Xu=null,$n=null;function C_(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Xu,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:j_,T_=Math.log,I_=Math.LN2;function j_(t){return t>>>=0,t===0?32:31-(T_(t)/I_|0)|0}var Wl=64,ql=4194304;function Wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Wo(a):(i&=o,i!==0&&(r=Wo(i)))}else o=n&~s,o!==0?r=Wo(o):i!==0&&(r=Wo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),s=1<<n,r|=t[n],e&=~s;return r}function A_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-kn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=A_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Vf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k1(){var t=Wl;return Wl<<=1,!(Wl&4194240)&&(Wl=64),t}function kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ol(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function P_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-kn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ce=0;function E1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S1,Mm,N1,_1,C1,zf=!1,Gl=[],Br=null,Vr=null,zr=null,wa=new Map,xa=new Map,Tr=[],M_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function Io(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ll(e),e!==null&&Mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function R_(t,e,n,r,s){switch(e){case"focusin":return Br=Io(Br,t,e,n,r,s),!0;case"dragenter":return Vr=Io(Vr,t,e,n,r,s),!0;case"mouseover":return zr=Io(zr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return wa.set(i,Io(wa.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xa.set(i,Io(xa.get(i)||null,t,e,n,r,s)),!0}return!1}function T1(t){var e=Ns(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=g1(n),e!==null){t.blockedOn=e,C1(t.priority,function(){N1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lf=r,n.target.dispatchEvent(r),Lf=null}else return e=ll(n),e!==null&&Mm(e),t.blockedOn=n,!1;e.shift()}return!0}function my(t,e,n){bc(t)&&n.delete(e)}function O_(){zf=!1,Br!==null&&bc(Br)&&(Br=null),Vr!==null&&bc(Vr)&&(Vr=null),zr!==null&&bc(zr)&&(zr=null),wa.forEach(my),xa.forEach(my)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,zf||(zf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,O_)))}function ba(t){function e(s){return jo(s,t)}if(0<Gl.length){jo(Gl[0],t);for(var n=1;n<Gl.length;n++){var r=Gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Br!==null&&jo(Br,t),Vr!==null&&jo(Vr,t),zr!==null&&jo(zr,t),wa.forEach(e),xa.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)T1(n),n.blockedOn===null&&Tr.shift()}var Ii=wr.ReactCurrentBatchConfig,Yc=!0;function $_(t,e,n,r){var s=Ce,i=Ii.transition;Ii.transition=null;try{Ce=1,Rm(t,e,n,r)}finally{Ce=s,Ii.transition=i}}function L_(t,e,n,r){var s=Ce,i=Ii.transition;Ii.transition=null;try{Ce=4,Rm(t,e,n,r)}finally{Ce=s,Ii.transition=i}}function Rm(t,e,n,r){if(Yc){var s=Hf(t,e,n,r);if(s===null)Dh(t,e,r,Jc,n),py(t,r);else if(R_(s,t,e,n,r))r.stopPropagation();else if(py(t,r),e&4&&-1<M_.indexOf(t)){for(;s!==null;){var i=ll(s);if(i!==null&&S1(i),i=Hf(t,e,n,r),i===null&&Dh(t,e,r,Jc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Dh(t,e,r,null,n)}}var Jc=null;function Hf(t,e,n,r){if(Jc=null,t=Am(r),t=Ns(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=g1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jc=t,null}function I1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N_()){case Dm:return 1;case x1:return 4;case Kc:case __:return 16;case b1:return 536870912;default:return 16}default:return 16}}var Or=null,Om=null,kc=null;function j1(){if(kc)return kc;var t,e=Om,n=e.length,r,s="value"in Or?Or.value:Or.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return kc=s.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function gy(){return!1}function Zt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kl:gy,this.isPropagationStopped=gy,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$m=Zt(co),al=Ue({},co,{view:0,detail:0}),F_=Zt(al),Eh,Sh,Ao,Zu=Ue({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ao&&(Ao&&t.type==="mousemove"?(Eh=t.screenX-Ao.screenX,Sh=t.screenY-Ao.screenY):Sh=Eh=0,Ao=t),Eh)},movementY:function(t){return"movementY"in t?t.movementY:Sh}}),yy=Zt(Zu),U_=Ue({},Zu,{dataTransfer:0}),B_=Zt(U_),V_=Ue({},al,{relatedTarget:0}),Nh=Zt(V_),z_=Ue({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),H_=Zt(z_),W_=Ue({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q_=Zt(W_),G_=Ue({},co,{data:0}),vy=Zt(G_),K_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Y_[t])?!!e[t]:!1}function Lm(){return J_}var X_=Ue({},al,{key:function(t){if(t.key){var e=K_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Q_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z_=Zt(X_),eC=Ue({},Zu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Zt(eC),tC=Ue({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),nC=Zt(tC),rC=Ue({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),sC=Zt(rC),iC=Ue({},Zu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oC=Zt(iC),aC=[9,13,27,32],Fm=lr&&"CompositionEvent"in window,ra=null;lr&&"documentMode"in document&&(ra=document.documentMode);var lC=lr&&"TextEvent"in window&&!ra,A1=lr&&(!Fm||ra&&8<ra&&11>=ra),xy=" ",by=!1;function D1(t,e){switch(t){case"keyup":return aC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pi=!1;function cC(t,e){switch(t){case"compositionend":return P1(e);case"keypress":return e.which!==32?null:(by=!0,xy);case"textInput":return t=e.data,t===xy&&by?null:t;default:return null}}function uC(t,e){if(pi)return t==="compositionend"||!Fm&&D1(t,e)?(t=j1(),kc=Om=Or=null,pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return A1&&e.locale!=="ko"?null:e.data;default:return null}}var dC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dC[t.type]:e==="textarea"}function M1(t,e,n,r){d1(r),e=Xc(e,"onChange"),0<e.length&&(n=new $m("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sa=null,ka=null;function hC(t){W1(t,0)}function ed(t){var e=yi(t);if(s1(e))return t}function fC(t,e){if(t==="change")return e}var R1=!1;if(lr){var _h;if(lr){var Ch="oninput"in document;if(!Ch){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Ch=typeof Ey.oninput=="function"}_h=Ch}else _h=!1;R1=_h&&(!document.documentMode||9<document.documentMode)}function Sy(){sa&&(sa.detachEvent("onpropertychange",O1),ka=sa=null)}function O1(t){if(t.propertyName==="value"&&ed(ka)){var e=[];M1(e,ka,t,Am(t)),m1(hC,e)}}function pC(t,e,n){t==="focusin"?(Sy(),sa=e,ka=n,sa.attachEvent("onpropertychange",O1)):t==="focusout"&&Sy()}function mC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed(ka)}function gC(t,e){if(t==="click")return ed(e)}function yC(t,e){if(t==="input"||t==="change")return ed(e)}function vC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sn=typeof Object.is=="function"?Object.is:vC;function Ea(t,e){if(Sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_f.call(e,s)||!Sn(t[s],e[s]))return!1}return!0}function Ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,e){var n=Ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ny(n)}}function $1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L1(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wC(t){var e=L1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$1(n.ownerDocument.documentElement,n)){if(r!==null&&Um(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_y(n,i);var o=_y(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xC=lr&&"documentMode"in document&&11>=document.documentMode,mi=null,Wf=null,ia=null,qf=!1;function Cy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qf||mi==null||mi!==Wc(r)||(r=mi,"selectionStart"in r&&Um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ia&&Ea(ia,r)||(ia=r,r=Xc(Wf,"onSelect"),0<r.length&&(e=new $m("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mi)))}function Ql(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gi={animationend:Ql("Animation","AnimationEnd"),animationiteration:Ql("Animation","AnimationIteration"),animationstart:Ql("Animation","AnimationStart"),transitionend:Ql("Transition","TransitionEnd")},Th={},F1={};lr&&(F1=document.createElement("div").style,"AnimationEvent"in window||(delete gi.animationend.animation,delete gi.animationiteration.animation,delete gi.animationstart.animation),"TransitionEvent"in window||delete gi.transitionend.transition);function td(t){if(Th[t])return Th[t];if(!gi[t])return t;var e=gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F1)return Th[t]=e[n];return t}var U1=td("animationend"),B1=td("animationiteration"),V1=td("animationstart"),z1=td("transitionend"),H1=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){H1.set(t,e),Xs(e,[t])}for(var Ih=0;Ih<Ty.length;Ih++){var jh=Ty[Ih],bC=jh.toLowerCase(),kC=jh[0].toUpperCase()+jh.slice(1);ls(bC,"on"+kC)}ls(U1,"onAnimationEnd");ls(B1,"onAnimationIteration");ls(V1,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(z1,"onTransitionEnd");Bi("onMouseEnter",["mouseout","mouseover"]);Bi("onMouseLeave",["mouseout","mouseover"]);Bi("onPointerEnter",["pointerout","pointerover"]);Bi("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EC=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Iy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b_(r,e,void 0,t),t.currentTarget=null}function W1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Iy(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Iy(s,a,u),i=l}}}if(Gc)throw t=Bf,Gc=!1,Bf=null,t}function Ae(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var r=t+"__bubble";n.has(r)||(q1(e,t,2,!1),n.add(r))}function Ah(t,e,n){var r=0;e&&(r|=4),q1(n,t,r,e)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Sa(t){if(!t[Yl]){t[Yl]=!0,Zx.forEach(function(n){n!=="selectionchange"&&(EC.has(n)||Ah(n,!1,t),Ah(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yl]||(e[Yl]=!0,Ah("selectionchange",!1,e))}}function q1(t,e,n,r){switch(I1(e)){case 1:var s=$_;break;case 4:s=L_;break;default:s=Rm}n=s.bind(null,e,n,t),s=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Dh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ns(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}m1(function(){var u=i,d=Am(n),h=[];e:{var f=H1.get(t);if(f!==void 0){var m=$m,g=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":m=Z_;break;case"focusin":g="focus",m=Nh;break;case"focusout":g="blur",m=Nh;break;case"beforeblur":case"afterblur":m=Nh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nC;break;case U1:case B1:case V1:m=H_;break;case z1:m=sC;break;case"scroll":m=F_;break;case"wheel":m=oC;break;case"copy":case"cut":case"paste":m=q_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wy}var w=(e&4)!==0,S=!w&&t==="scroll",p=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,v;y!==null;){v=y;var k=v.stateNode;if(v.tag===5&&k!==null&&(v=k,p!==null&&(k=va(y,p),k!=null&&w.push(Na(y,k,v)))),S)break;y=y.return}0<w.length&&(f=new m(f,g,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Lf&&(g=n.relatedTarget||n.fromElement)&&(Ns(g)||g[cr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Ns(g):null,g!==null&&(S=Zs(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(w=yy,k="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=wy,k="onPointerLeave",p="onPointerEnter",y="pointer"),S=m==null?f:yi(m),v=g==null?f:yi(g),f=new w(k,y+"leave",m,n,d),f.target=S,f.relatedTarget=v,k=null,Ns(d)===u&&(w=new w(p,y+"enter",g,n,d),w.target=v,w.relatedTarget=S,k=w),S=k,m&&g)t:{for(w=m,p=g,y=0,v=w;v;v=ai(v))y++;for(v=0,k=p;k;k=ai(k))v++;for(;0<y-v;)w=ai(w),y--;for(;0<v-y;)p=ai(p),v--;for(;y--;){if(w===p||p!==null&&w===p.alternate)break t;w=ai(w),p=ai(p)}w=null}else w=null;m!==null&&jy(h,f,m,w,!1),g!==null&&S!==null&&jy(h,S,g,w,!0)}}e:{if(f=u?yi(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=fC;else if(ky(f))if(R1)j=yC;else{j=mC;var C=pC}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=gC);if(j&&(j=j(t,u))){M1(h,j,n,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Pf(f,"number",f.value)}switch(C=u?yi(u):window,t){case"focusin":(ky(C)||C.contentEditable==="true")&&(mi=C,Wf=u,ia=null);break;case"focusout":ia=Wf=mi=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Cy(h,n,d);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Cy(h,n,d)}var N;if(Fm)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else pi?D1(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(A1&&n.locale!=="ko"&&(pi||x!=="onCompositionStart"?x==="onCompositionEnd"&&pi&&(N=j1()):(Or=d,Om="value"in Or?Or.value:Or.textContent,pi=!0)),C=Xc(u,x),0<C.length&&(x=new vy(x,t,null,n,d),h.push({event:x,listeners:C}),N?x.data=N:(N=P1(n),N!==null&&(x.data=N)))),(N=lC?cC(t,n):uC(t,n))&&(u=Xc(u,"onBeforeInput"),0<u.length&&(d=new vy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}W1(h,e)})}function Na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=va(t,n),i!=null&&r.unshift(Na(t,i,s)),i=va(t,e),i!=null&&r.push(Na(t,i,s))),t=t.return}return r}function ai(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=va(n,i),l!=null&&o.unshift(Na(n,l,a))):s||(l=va(n,i),l!=null&&o.push(Na(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function Ay(t){return(typeof t=="string"?t:""+t).replace(SC,`
`).replace(NC,"")}function Jl(t,e,n){if(e=Ay(e),Ay(t)!==e&&n)throw Error($(425))}function Zc(){}var Gf=null,Kf=null;function Qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,_C=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,CC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(TC)}:Yf;function TC(t){setTimeout(function(){throw t})}function Ph(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ba(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ba(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Py(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Pn="__reactFiber$"+uo,_a="__reactProps$"+uo,cr="__reactContainer$"+uo,Jf="__reactEvents$"+uo,IC="__reactListeners$"+uo,jC="__reactHandles$"+uo;function Ns(t){var e=t[Pn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[Pn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Py(t);t!==null;){if(n=t[Pn])return n;t=Py(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[Pn]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function nd(t){return t[_a]||null}var Xf=[],vi=-1;function cs(t){return{current:t}}function Me(t){0>vi||(t.current=Xf[vi],Xf[vi]=null,vi--)}function Ie(t,e){vi++,Xf[vi]=t.current,t.current=e}var rs={},Tt=cs(rs),Bt=cs(!1),Fs=rs;function Vi(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(t){return t=t.childContextTypes,t!=null}function eu(){Me(Bt),Me(Tt)}function My(t,e,n){if(Tt.current!==rs)throw Error($(168));Ie(Tt,e),Ie(Bt,n)}function G1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,p_(t)||"Unknown",s));return Ue({},n,r)}function tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,Fs=Tt.current,Ie(Tt,t),Ie(Bt,Bt.current),!0}function Ry(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=G1(t,e,Fs),r.__reactInternalMemoizedMergedChildContext=t,Me(Bt),Me(Tt),Ie(Tt,t)):Me(Bt),Ie(Bt,n)}var Zn=null,rd=!1,Mh=!1;function K1(t){Zn===null?Zn=[t]:Zn.push(t)}function AC(t){rd=!0,K1(t)}function us(){if(!Mh&&Zn!==null){Mh=!0;var t=0,e=Ce;try{var n=Zn;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zn=null,rd=!1}catch(s){throw Zn!==null&&(Zn=Zn.slice(t+1)),w1(Dm,us),s}finally{Ce=e,Mh=!1}}return null}var wi=[],xi=0,nu=null,ru=0,nn=[],rn=0,Us=null,er=1,tr="";function xs(t,e){wi[xi++]=ru,wi[xi++]=nu,nu=t,ru=e}function Q1(t,e,n){nn[rn++]=er,nn[rn++]=tr,nn[rn++]=Us,Us=t;var r=er;t=tr;var s=32-kn(r)-1;r&=~(1<<s),n+=1;var i=32-kn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,er=1<<32-kn(e)+s|n<<s|r,tr=i+t}else er=1<<i|n<<s|r,tr=t}function Bm(t){t.return!==null&&(xs(t,1),Q1(t,1,0))}function Vm(t){for(;t===nu;)nu=wi[--xi],wi[xi]=null,ru=wi[--xi],wi[xi]=null;for(;t===Us;)Us=nn[--rn],nn[rn]=null,tr=nn[--rn],nn[rn]=null,er=nn[--rn],nn[rn]=null}var Gt=null,qt=null,Oe=!1,wn=null;function Y1(t,e){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,qt=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Us!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,qt=null,!0):!1;default:return!1}}function Zf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ep(t){if(Oe){var e=qt;if(e){var n=e;if(!Oy(t,e)){if(Zf(t))throw Error($(418));e=Hr(n.nextSibling);var r=Gt;e&&Oy(t,e)?Y1(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Gt=t)}}else{if(Zf(t))throw Error($(418));t.flags=t.flags&-4097|2,Oe=!1,Gt=t}}}function $y(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function Xl(t){if(t!==Gt)return!1;if(!Oe)return $y(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qf(t.type,t.memoizedProps)),e&&(e=qt)){if(Zf(t))throw J1(),Error($(418));for(;e;)Y1(t,e),e=Hr(e.nextSibling)}if($y(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Gt?Hr(t.stateNode.nextSibling):null;return!0}function J1(){for(var t=qt;t;)t=Hr(t.nextSibling)}function zi(){qt=Gt=null,Oe=!1}function zm(t){wn===null?wn=[t]:wn.push(t)}var DC=wr.ReactCurrentBatchConfig;function Do(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Zl(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ly(t){var e=t._init;return e(t._payload)}function X1(t){function e(p,y){if(t){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=Kr(p,y),p.index=0,p.sibling=null,p}function i(p,y,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=2,y):v):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,v,k){return y===null||y.tag!==6?(y=Bh(v,p.mode,k),y.return=p,y):(y=s(y,v),y.return=p,y)}function l(p,y,v,k){var j=v.type;return j===fi?d(p,y,v.props.children,k,v.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Ly(j)===y.type)?(k=s(y,v.props),k.ref=Do(p,y,v),k.return=p,k):(k=jc(v.type,v.key,v.props,null,p.mode,k),k.ref=Do(p,y,v),k.return=p,k)}function u(p,y,v,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Vh(v,p.mode,k),y.return=p,y):(y=s(y,v.children||[]),y.return=p,y)}function d(p,y,v,k,j){return y===null||y.tag!==7?(y=Ms(v,p.mode,k,j),y.return=p,y):(y=s(y,v),y.return=p,y)}function h(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bh(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vl:return v=jc(y.type,y.key,y.props,null,p.mode,v),v.ref=Do(p,null,y),v.return=p,v;case hi:return y=Vh(y,p.mode,v),y.return=p,y;case _r:var k=y._init;return h(p,k(y._payload),v)}if(Ho(y)||Co(y))return y=Ms(y,p.mode,v,null),y.return=p,y;Zl(p,y)}return null}function f(p,y,v,k){var j=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:a(p,y,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:return v.key===j?l(p,y,v,k):null;case hi:return v.key===j?u(p,y,v,k):null;case _r:return j=v._init,f(p,y,j(v._payload),k)}if(Ho(v)||Co(v))return j!==null?null:d(p,y,v,k,null);Zl(p,v)}return null}function m(p,y,v,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(v)||null,a(y,p,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Vl:return p=p.get(k.key===null?v:k.key)||null,l(y,p,k,j);case hi:return p=p.get(k.key===null?v:k.key)||null,u(y,p,k,j);case _r:var C=k._init;return m(p,y,v,C(k._payload),j)}if(Ho(k)||Co(k))return p=p.get(v)||null,d(y,p,k,j,null);Zl(y,k)}return null}function g(p,y,v,k){for(var j=null,C=null,N=y,x=y=0,E=null;N!==null&&x<v.length;x++){N.index>x?(E=N,N=null):E=N.sibling;var I=f(p,N,v[x],k);if(I===null){N===null&&(N=E);break}t&&N&&I.alternate===null&&e(p,N),y=i(I,y,x),C===null?j=I:C.sibling=I,C=I,N=E}if(x===v.length)return n(p,N),Oe&&xs(p,x),j;if(N===null){for(;x<v.length;x++)N=h(p,v[x],k),N!==null&&(y=i(N,y,x),C===null?j=N:C.sibling=N,C=N);return Oe&&xs(p,x),j}for(N=r(p,N);x<v.length;x++)E=m(N,p,x,v[x],k),E!==null&&(t&&E.alternate!==null&&N.delete(E.key===null?x:E.key),y=i(E,y,x),C===null?j=E:C.sibling=E,C=E);return t&&N.forEach(function(M){return e(p,M)}),Oe&&xs(p,x),j}function w(p,y,v,k){var j=Co(v);if(typeof j!="function")throw Error($(150));if(v=j.call(v),v==null)throw Error($(151));for(var C=j=null,N=y,x=y=0,E=null,I=v.next();N!==null&&!I.done;x++,I=v.next()){N.index>x?(E=N,N=null):E=N.sibling;var M=f(p,N,I.value,k);if(M===null){N===null&&(N=E);break}t&&N&&M.alternate===null&&e(p,N),y=i(M,y,x),C===null?j=M:C.sibling=M,C=M,N=E}if(I.done)return n(p,N),Oe&&xs(p,x),j;if(N===null){for(;!I.done;x++,I=v.next())I=h(p,I.value,k),I!==null&&(y=i(I,y,x),C===null?j=I:C.sibling=I,C=I);return Oe&&xs(p,x),j}for(N=r(p,N);!I.done;x++,I=v.next())I=m(N,p,x,I.value,k),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?x:I.key),y=i(I,y,x),C===null?j=I:C.sibling=I,C=I);return t&&N.forEach(function(O){return e(p,O)}),Oe&&xs(p,x),j}function S(p,y,v,k){if(typeof v=="object"&&v!==null&&v.type===fi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Vl:e:{for(var j=v.key,C=y;C!==null;){if(C.key===j){if(j=v.type,j===fi){if(C.tag===7){n(p,C.sibling),y=s(C,v.props.children),y.return=p,p=y;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===_r&&Ly(j)===C.type){n(p,C.sibling),y=s(C,v.props),y.ref=Do(p,C,v),y.return=p,p=y;break e}n(p,C);break}else e(p,C);C=C.sibling}v.type===fi?(y=Ms(v.props.children,p.mode,k,v.key),y.return=p,p=y):(k=jc(v.type,v.key,v.props,null,p.mode,k),k.ref=Do(p,y,v),k.return=p,p=k)}return o(p);case hi:e:{for(C=v.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(p,y.sibling),y=s(y,v.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=Vh(v,p.mode,k),y.return=p,p=y}return o(p);case _r:return C=v._init,S(p,y,C(v._payload),k)}if(Ho(v))return g(p,y,v,k);if(Co(v))return w(p,y,v,k);Zl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(p,y.sibling),y=s(y,v),y.return=p,p=y):(n(p,y),y=Bh(v,p.mode,k),y.return=p,p=y),o(p)):n(p,y)}return S}var Hi=X1(!0),Z1=X1(!1),su=cs(null),iu=null,bi=null,Hm=null;function Wm(){Hm=bi=iu=null}function qm(t){var e=su.current;Me(su),t._currentValue=e}function tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ji(t,e){iu=t,Hm=bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},bi===null){if(iu===null)throw Error($(308));bi=t,iu.dependencies={lanes:0,firstContext:t}}else bi=bi.next=t;return e}var _s=null;function Gm(t){_s===null?_s=[t]:_s.push(t)}function eb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gm(e)):(n.next=s.next,s.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function Km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ur(t,n)}return s=r.interleaved,s===null?(e.next=e,Gm(r)):(e.next=s.next,s.next=e),r.interleaved=e,ur(t,n)}function Sc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}function Fy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ou(t,e,n,r){var s=t.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,w=a;switch(f=e,m=n,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=Ue({},h,f);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=h}}function Uy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var cl={},Ln=cs(cl),Ca=cs(cl),Ta=cs(cl);function Cs(t){if(t===cl)throw Error($(174));return t}function Qm(t,e){switch(Ie(Ta,e),Ie(Ca,t),Ie(Ln,cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rf(e,t)}Me(Ln),Ie(Ln,e)}function Wi(){Me(Ln),Me(Ca),Me(Ta)}function nb(t){Cs(Ta.current);var e=Cs(Ln.current),n=Rf(e,t.type);e!==n&&(Ie(Ca,t),Ie(Ln,n))}function Ym(t){Ca.current===t&&(Me(Ln),Me(Ca))}var Le=cs(0);function au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rh=[];function Jm(){for(var t=0;t<Rh.length;t++)Rh[t]._workInProgressVersionPrimary=null;Rh.length=0}var Nc=wr.ReactCurrentDispatcher,Oh=wr.ReactCurrentBatchConfig,Bs=0,Fe=null,nt=null,ot=null,lu=!1,oa=!1,Ia=0,PC=0;function gt(){throw Error($(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sn(t[n],e[n]))return!1;return!0}function Zm(t,e,n,r,s,i){if(Bs=i,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?$C:LC,t=n(r,s),oa){i=0;do{if(oa=!1,Ia=0,25<=i)throw Error($(301));i+=1,ot=nt=null,e.updateQueue=null,Nc.current=FC,t=n(r,s)}while(oa)}if(Nc.current=cu,e=nt!==null&&nt.next!==null,Bs=0,ot=nt=Fe=null,lu=!1,e)throw Error($(300));return t}function eg(){var t=Ia!==0;return Ia=0,t}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Fe.memoizedState=ot=t:ot=ot.next=t,ot}function dn(){if(nt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var e=ot===null?Fe.memoizedState:ot.next;if(e!==null)ot=e,nt=t;else{if(t===null)throw Error($(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?Fe.memoizedState=ot=t:ot=ot.next=t}return ot}function ja(t,e){return typeof e=="function"?e(t):e}function $h(t){var e=dn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=nt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Bs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Fe.lanes|=d,Vs|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Sn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Fe.lanes|=i,Vs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=dn(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Sn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function rb(){}function sb(t,e){var n=Fe,r=dn(),s=e(),i=!Sn(r.memoizedState,s);if(i&&(r.memoizedState=s,Ut=!0),r=r.queue,tg(ab.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Aa(9,ob.bind(null,n,r,s,e),void 0,null),at===null)throw Error($(349));Bs&30||ib(n,e,s)}return s}function ib(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ob(t,e,n,r){e.value=n,e.getSnapshot=r,lb(e)&&cb(t)}function ab(t,e,n){return n(function(){lb(e)&&cb(t)})}function lb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sn(t,n)}catch{return!0}}function cb(t){var e=ur(t,1);e!==null&&En(e,t,1,-1)}function By(t){var e=An();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=OC.bind(null,Fe,t),[e.memoizedState,t]}function Aa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ub(){return dn().memoizedState}function _c(t,e,n,r){var s=An();Fe.flags|=t,s.memoizedState=Aa(1|e,n,void 0,r===void 0?null:r)}function sd(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(nt!==null){var o=nt.memoizedState;if(i=o.destroy,r!==null&&Xm(r,o.deps)){s.memoizedState=Aa(e,n,i,r);return}}Fe.flags|=t,s.memoizedState=Aa(1|e,n,i,r)}function Vy(t,e){return _c(8390656,8,t,e)}function tg(t,e){return sd(2048,8,t,e)}function db(t,e){return sd(4,2,t,e)}function hb(t,e){return sd(4,4,t,e)}function fb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pb(t,e,n){return n=n!=null?n.concat([t]):null,sd(4,4,fb.bind(null,e,t),n)}function ng(){}function mb(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gb(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yb(t,e,n){return Bs&21?(Sn(n,e)||(n=k1(),Fe.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function MC(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Oh.transition;Oh.transition={};try{t(!1),e()}finally{Ce=n,Oh.transition=r}}function vb(){return dn().memoizedState}function RC(t,e,n){var r=Gr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wb(t))xb(e,n);else if(n=eb(t,e,n,r),n!==null){var s=Dt();En(n,t,r,s),bb(n,e,r)}}function OC(t,e,n){var r=Gr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wb(t))xb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Sn(a,o)){var l=e.interleaved;l===null?(s.next=s,Gm(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=eb(t,e,s,r),n!==null&&(s=Dt(),En(n,t,r,s),bb(n,e,r))}}function wb(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function xb(t,e){oa=lu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pm(t,n)}}var cu={readContext:un,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},$C={readContext:un,useCallback:function(t,e){return An().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:Vy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,fb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=An();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=An();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RC.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=An();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:ng,useDeferredValue:function(t){return An().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=MC.bind(null,t[1]),An().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,s=An();if(Oe){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),at===null)throw Error($(349));Bs&30||ib(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Vy(ab.bind(null,r,i,t),[t]),r.flags|=2048,Aa(9,ob.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=An(),e=at.identifierPrefix;if(Oe){var n=tr,r=er;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ia++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LC={readContext:un,useCallback:mb,useContext:un,useEffect:tg,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:gb,useReducer:$h,useRef:ub,useState:function(){return $h(ja)},useDebugValue:ng,useDeferredValue:function(t){var e=dn();return yb(e,nt.memoizedState,t)},useTransition:function(){var t=$h(ja)[0],e=dn().memoizedState;return[t,e]},useMutableSource:rb,useSyncExternalStore:sb,useId:vb,unstable_isNewReconciler:!1},FC={readContext:un,useCallback:mb,useContext:un,useEffect:tg,useImperativeHandle:pb,useInsertionEffect:db,useLayoutEffect:hb,useMemo:gb,useReducer:Lh,useRef:ub,useState:function(){return Lh(ja)},useDebugValue:ng,useDeferredValue:function(t){var e=dn();return nt===null?e.memoizedState=t:yb(e,nt.memoizedState,t)},useTransition:function(){var t=Lh(ja)[0],e=dn().memoizedState;return[t,e]},useMutableSource:rb,useSyncExternalStore:sb,useId:vb,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=Gr(t),i=or(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,s),e!==null&&(En(e,t,s,r),Sc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),s=Gr(t),i=or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wr(t,i,s),e!==null&&(En(e,t,s,r),Sc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=Gr(t),s=or(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wr(t,s,r),e!==null&&(En(e,t,r,n),Sc(e,t,r))}};function zy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ea(n,r)||!Ea(s,i):!0}function kb(t,e,n){var r=!1,s=rs,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Vt(e)?Fs:Tt.current,r=e.contextTypes,i=(r=r!=null)?Vi(t,s):rs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Hy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function rp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Km(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Vt(e)?Fs:Tt.current,s.context=Vi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(np(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&id.enqueueReplaceState(s,s.state,null),ou(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var n="",r=e;do n+=f_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UC=typeof WeakMap=="function"?WeakMap:Map;function Eb(t,e,n){n=or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){du||(du=!0,pp=r),sp(t,e)},n}function Sb(t,e,n){n=or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){sp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){sp(t,e),typeof r!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UC;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=eT.bind(null,t,e,n),e.then(t,t))}function qy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=or(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var BC=wr.ReactCurrentOwner,Ut=!1;function jt(t,e,n,r){e.child=t===null?Z1(e,null,n,r):Hi(e,t.child,n,r)}function Ky(t,e,n,r,s){n=n.render;var i=e.ref;return ji(e,s),r=Zm(t,e,n,r,i,s),n=eg(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Oe&&n&&Bm(e),e.flags|=1,jt(t,e,r,s),e.child)}function Qy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ug(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Nb(t,e,i,r,s)):(t=jc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ea,n(o,r)&&t.ref===e.ref)return dr(t,e,s)}return e.flags|=1,t=Kr(i,r),t.ref=e.ref,t.return=e,e.child=t}function Nb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ea(i,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,dr(t,e,s)}return ip(t,e,n,r,s)}function _b(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Ei,Wt),Wt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Ei,Wt),Wt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(Ei,Wt),Wt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(Ei,Wt),Wt|=r;return jt(t,e,s,n),e.child}function Cb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ip(t,e,n,r,s){var i=Vt(n)?Fs:Tt.current;return i=Vi(e,i),ji(e,s),n=Zm(t,e,n,r,i,s),r=eg(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Oe&&r&&Bm(e),e.flags|=1,jt(t,e,n,s),e.child)}function Yy(t,e,n,r,s){if(Vt(n)){var i=!0;tu(e)}else i=!1;if(ji(e,s),e.stateNode===null)Cc(t,e),kb(e,n,r),rp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=Vt(n)?Fs:Tt.current,u=Vi(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Hy(e,o,r,u),Cr=!1;var f=e.memoizedState;o.state=f,ou(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Bt.current||Cr?(typeof d=="function"&&(np(e,n,d,r),l=e.memoizedState),(a=Cr||zy(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Vt(n)?Fs:Tt.current,l=Vi(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Hy(e,o,r,l),Cr=!1,f=e.memoizedState,o.state=f,ou(e,r,o,s);var g=e.memoizedState;a!==h||f!==g||Bt.current||Cr?(typeof m=="function"&&(np(e,n,m,r),g=e.memoizedState),(u=Cr||zy(e,n,u,r,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return op(t,e,n,r,i,s)}function op(t,e,n,r,s,i){Cb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ry(e,n,!1),dr(t,e,i);r=e.stateNode,BC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Hi(e,t.child,null,i),e.child=Hi(e,null,a,i)):jt(t,e,a,i),e.memoizedState=r.state,s&&Ry(e,n,!0),e.child}function Tb(t){var e=t.stateNode;e.pendingContext?My(t,e.pendingContext,e.pendingContext!==e.context):e.context&&My(t,e.context,!1),Qm(t,e.containerInfo)}function Jy(t,e,n,r,s){return zi(),zm(s),e.flags|=256,jt(t,e,n,r),e.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ib(t,e,n){var r=e.pendingProps,s=Le.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Le,s&1),t===null)return ep(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ld(o,r,0,null),t=Ms(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lp(n),e.memoizedState=ap,t):rg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VC(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kr(a,i):(i=Ms(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ap,r}return i=t.child,t=i.sibling,r=Kr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rg(t,e){return e=ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ec(t,e,n,r){return r!==null&&zm(r),Hi(e,t.child,null,n),t=rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VC(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Fh(Error($(422))),ec(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ld({mode:"visible",children:r.children},s,0,null),i=Ms(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Hi(e,t.child,null,o),e.child.memoizedState=lp(o),e.memoizedState=ap,i);if(!(e.mode&1))return ec(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Fh(i,r,void 0),ec(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ut||a){if(r=at,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ur(t,s),En(r,t,s,-1))}return cg(),r=Fh(Error($(421))),ec(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=tT.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qt=Hr(s.nextSibling),Gt=e,Oe=!0,wn=null,t!==null&&(nn[rn++]=er,nn[rn++]=tr,nn[rn++]=Us,er=t.id,tr=t.overflow,Us=e),e=rg(e,r.children),e.flags|=4096,e)}function Xy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tp(t.return,e,n)}function Uh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function jb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(jt(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,n,e);else if(t.tag===19)Xy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Le,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&au(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Uh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&au(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Uh(e,!0,n,null,i);break;case"together":Uh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zC(t,e,n){switch(e.tag){case 3:Tb(e),zi();break;case 5:nb(e);break;case 1:Vt(e.type)&&tu(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(su,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Ib(t,e,n):(Ie(Le,Le.current&1),t=dr(t,e,n),t!==null?t.sibling:null);Ie(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,_b(t,e,n)}return dr(t,e,n)}var Ab,cp,Db,Pb;Ab=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};Db=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Cs(Ln.current);var i=null;switch(n){case"input":s=Af(t,s),r=Af(t,r),i=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":s=Mf(t,s),r=Mf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zc)}Of(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ga.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Pb=function(t,e,n,r){n!==r&&(e.flags|=4)};function Po(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HC(t,e,n){var r=e.pendingProps;switch(Vm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Vt(e.type)&&eu(),yt(e),null;case 3:return r=e.stateNode,Wi(),Me(Bt),Me(Tt),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(yp(wn),wn=null))),cp(t,e),yt(e),null;case 5:Ym(e);var s=Cs(Ta.current);if(n=e.type,t!==null&&e.stateNode!=null)Db(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return yt(e),null}if(t=Cs(Ln.current),Xl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pn]=e,r[_a]=i,t=(e.mode&1)!==0,n){case"dialog":Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":case"embed":Ae("load",r);break;case"video":case"audio":for(s=0;s<qo.length;s++)Ae(qo[s],r);break;case"source":Ae("error",r);break;case"img":case"image":case"link":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"input":ay(r,i),Ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ae("invalid",r);break;case"textarea":cy(r,i),Ae("invalid",r)}Of(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Jl(r.textContent,a,t),s=["children",""+a]):ga.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ae("scroll",r)}switch(n){case"input":zl(r),ly(r,i,!0);break;case"textarea":zl(r),uy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=a1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pn]=e,t[_a]=r,Ab(t,e,!1,!1),e.stateNode=t;e:{switch(o=$f(n,r),n){case"dialog":Ae("cancel",t),Ae("close",t),s=r;break;case"iframe":case"object":case"embed":Ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<qo.length;s++)Ae(qo[s],t);s=r;break;case"source":Ae("error",t),s=r;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),s=r;break;case"details":Ae("toggle",t),s=r;break;case"input":ay(t,r),s=Af(t,r),Ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Ae("invalid",t);break;case"textarea":cy(t,r),s=Mf(t,r),Ae("invalid",t);break;default:s=r}Of(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?u1(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&l1(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ya(t,l):typeof l=="number"&&ya(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ga.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ae("scroll",t):l!=null&&Cm(t,i,l,o))}switch(n){case"input":zl(t),ly(t,r,!1);break;case"textarea":zl(t),uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?_i(t,!!r.multiple,i,!1):r.defaultValue!=null&&_i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)Pb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Cs(Ta.current),Cs(Ln.current),Xl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pn]=e,(i=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:Jl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pn]=e,e.stateNode=r}return yt(e),null;case 13:if(Me(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&qt!==null&&e.mode&1&&!(e.flags&128))J1(),zi(),e.flags|=98560,i=!1;else if(i=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Pn]=e}else zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),i=!1}else wn!==null&&(yp(wn),wn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?rt===0&&(rt=3):cg())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return Wi(),cp(t,e),t===null&&Sa(e.stateNode.containerInfo),yt(e),null;case 10:return qm(e.type._context),yt(e),null;case 17:return Vt(e.type)&&eu(),yt(e),null;case 19:if(Me(Le),i=e.memoizedState,i===null)return yt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Po(i,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=au(t),o!==null){for(e.flags|=128,Po(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Le,Le.current&1|2),e.child}t=t.sibling}i.tail!==null&&We()>Gi&&(e.flags|=128,r=!0,Po(i,!1),e.lanes=4194304)}else{if(!r)if(t=au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Po(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Oe)return yt(e),null}else 2*We()-i.renderingStartTime>Gi&&n!==1073741824&&(e.flags|=128,r=!0,Po(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=We(),e.sibling=null,n=Le.current,Ie(Le,r?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function WC(t,e){switch(Vm(e),e.tag){case 1:return Vt(e.type)&&eu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(),Me(Bt),Me(Tt),Jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(Me(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Le),null;case 4:return Wi(),null;case 10:return qm(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var tc=!1,bt=!1,qC=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function up(t,e,n){try{n()}catch(r){ze(t,e,r)}}var Zy=!1;function GC(t,e){if(Gf=Yc,t=L1(),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},Yc=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,S=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?w:yn(e.type,w),S);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(k){ze(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return g=Zy,Zy=!1,g}function aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&up(e,n,i)}s=s.next}while(s!==r)}}function od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mb(t){var e=t.alternate;e!==null&&(t.alternate=null,Mb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pn],delete e[_a],delete e[Jf],delete e[IC],delete e[jC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rb(t){return t.tag===5||t.tag===3||t.tag===4}function ev(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zc));else if(r!==4&&(t=t.child,t!==null))for(hp(t,e,n),t=t.sibling;t!==null;)hp(t,e,n),t=t.sibling}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}var ut=null,vn=!1;function Er(t,e,n){for(n=n.child;n!==null;)Ob(t,e,n),n=n.sibling}function Ob(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Xu,n)}catch{}switch(n.tag){case 5:bt||ki(n,e);case 6:var r=ut,s=vn;ut=null,Er(t,e,n),ut=r,vn=s,ut!==null&&(vn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(vn?(t=ut,n=n.stateNode,t.nodeType===8?Ph(t.parentNode,n):t.nodeType===1&&Ph(t,n),ba(t)):Ph(ut,n.stateNode));break;case 4:r=ut,s=vn,ut=n.stateNode.containerInfo,vn=!0,Er(t,e,n),ut=r,vn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&up(n,e,o),s=s.next}while(s!==r)}Er(t,e,n);break;case 1:if(!bt&&(ki(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,Er(t,e,n),bt=r):Er(t,e,n);break;default:Er(t,e,n)}}function tv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qC),e.forEach(function(r){var s=nT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,vn=!1;break e;case 3:ut=a.stateNode.containerInfo,vn=!0;break e;case 4:ut=a.stateNode.containerInfo,vn=!0;break e}a=a.return}if(ut===null)throw Error($(160));Ob(i,o,s),ut=null,vn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ze(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$b(e,t),e=e.sibling}function $b(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),jn(t),r&4){try{aa(3,t,t.return),od(3,t)}catch(w){ze(t,t.return,w)}try{aa(5,t,t.return)}catch(w){ze(t,t.return,w)}}break;case 1:gn(e,t),jn(t),r&512&&n!==null&&ki(n,n.return);break;case 5:if(gn(e,t),jn(t),r&512&&n!==null&&ki(n,n.return),t.flags&32){var s=t.stateNode;try{ya(s,"")}catch(w){ze(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&i1(s,i),$f(a,o);var u=$f(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?u1(s,h):d==="dangerouslySetInnerHTML"?l1(s,h):d==="children"?ya(s,h):Cm(s,d,h,u)}switch(a){case"input":Df(s,i);break;case"textarea":o1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?_i(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?_i(s,!!i.multiple,i.defaultValue,!0):_i(s,!!i.multiple,i.multiple?[]:"",!1))}s[_a]=i}catch(w){ze(t,t.return,w)}}break;case 6:if(gn(e,t),jn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ze(t,t.return,w)}}break;case 3:if(gn(e,t),jn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ba(e.containerInfo)}catch(w){ze(t,t.return,w)}break;case 4:gn(e,t),jn(t);break;case 13:gn(e,t),jn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(og=We())),r&4&&tv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||d,gn(e,t),bt=u):gn(e,t),jn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(h=Q=d;Q!==null;){switch(f=Q,m=f.child,f.tag){case 0:case 11:case 14:case 15:aa(4,f,f.return);break;case 1:ki(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(w){ze(r,n,w)}}break;case 5:ki(f,f.return);break;case 22:if(f.memoizedState!==null){rv(h);continue}}m!==null?(m.return=f,Q=m):rv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=c1("display",o))}catch(w){ze(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){ze(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gn(e,t),jn(t),r&4&&tv(t);break;case 21:break;default:gn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rb(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ya(s,""),r.flags&=-33);var i=ev(t);fp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ev(t);hp(t,a,o);break;default:throw Error($(161))}}catch(l){ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function KC(t,e,n){Q=t,Lb(t)}function Lb(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||tc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||bt;a=tc;var u=bt;if(tc=o,(bt=l)&&!u)for(Q=s;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?sv(s):l!==null?(l.return=o,Q=l):sv(s);for(;i!==null;)Q=i,Lb(i),i=i.sibling;Q=s,tc=a,bt=u}nv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):nv(t)}}function nv(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||od(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ba(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}bt||e.flags&512&&dp(e)}catch(f){ze(e,e.return,f)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function rv(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function sv(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{od(4,e)}catch(l){ze(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ze(e,s,l)}}var i=e.return;try{dp(e)}catch(l){ze(e,i,l)}break;case 5:var o=e.return;try{dp(e)}catch(l){ze(e,o,l)}}}catch(l){ze(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var QC=Math.ceil,uu=wr.ReactCurrentDispatcher,sg=wr.ReactCurrentOwner,ln=wr.ReactCurrentBatchConfig,we=0,at=null,Je=null,ft=0,Wt=0,Ei=cs(0),rt=0,Da=null,Vs=0,ad=0,ig=0,la=null,Ft=null,og=0,Gi=1/0,Xn=null,du=!1,pp=null,qr=null,nc=!1,$r=null,hu=0,ca=0,mp=null,Tc=-1,Ic=0;function Dt(){return we&6?We():Tc!==-1?Tc:Tc=We()}function Gr(t){return t.mode&1?we&2&&ft!==0?ft&-ft:DC.transition!==null?(Ic===0&&(Ic=k1()),Ic):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:I1(t.type)),t):1}function En(t,e,n,r){if(50<ca)throw ca=0,mp=null,Error($(185));ol(t,n,r),(!(we&2)||t!==at)&&(t===at&&(!(we&2)&&(ad|=n),rt===4&&Ir(t,ft)),zt(t,r),n===1&&we===0&&!(e.mode&1)&&(Gi=We()+500,rd&&us()))}function zt(t,e){var n=t.callbackNode;D_(t,e);var r=Qc(t,t===at?ft:0);if(r===0)n!==null&&fy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fy(n),e===1)t.tag===0?AC(iv.bind(null,t)):K1(iv.bind(null,t)),CC(function(){!(we&6)&&us()}),n=null;else{switch(E1(r)){case 1:n=Dm;break;case 4:n=x1;break;case 16:n=Kc;break;case 536870912:n=b1;break;default:n=Kc}n=qb(n,Fb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fb(t,e){if(Tc=-1,Ic=0,we&6)throw Error($(327));var n=t.callbackNode;if(Ai()&&t.callbackNode!==n)return null;var r=Qc(t,t===at?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fu(t,r);else{e=r;var s=we;we|=2;var i=Bb();(at!==t||ft!==e)&&(Xn=null,Gi=We()+500,Ps(t,e));do try{XC();break}catch(a){Ub(t,a)}while(!0);Wm(),uu.current=i,we=s,Je!==null?e=0:(at=null,ft=0,e=rt)}if(e!==0){if(e===2&&(s=Vf(t),s!==0&&(r=s,e=gp(t,s))),e===1)throw n=Da,Ps(t,0),Ir(t,r),zt(t,We()),n;if(e===6)Ir(t,r);else{if(s=t.current.alternate,!(r&30)&&!YC(s)&&(e=fu(t,r),e===2&&(i=Vf(t),i!==0&&(r=i,e=gp(t,i))),e===1))throw n=Da,Ps(t,0),Ir(t,r),zt(t,We()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:bs(t,Ft,Xn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=og+500-We(),10<e)){if(Qc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yf(bs.bind(null,t,Ft,Xn),e);break}bs(t,Ft,Xn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-kn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=We()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QC(r/1960))-r,10<r){t.timeoutHandle=Yf(bs.bind(null,t,Ft,Xn),r);break}bs(t,Ft,Xn);break;case 5:bs(t,Ft,Xn);break;default:throw Error($(329))}}}return zt(t,We()),t.callbackNode===n?Fb.bind(null,t):null}function gp(t,e){var n=la;return t.current.memoizedState.isDehydrated&&(Ps(t,e).flags|=256),t=fu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&yp(e)),t}function yp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function YC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~ig,e&=~ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function iv(t){if(we&6)throw Error($(327));Ai();var e=Qc(t,0);if(!(e&1))return zt(t,We()),null;var n=fu(t,e);if(t.tag!==0&&n===2){var r=Vf(t);r!==0&&(e=r,n=gp(t,r))}if(n===1)throw n=Da,Ps(t,0),Ir(t,e),zt(t,We()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,Ft,Xn),zt(t,We()),null}function ag(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Gi=We()+500,rd&&us())}}function zs(t){$r!==null&&$r.tag===0&&!(we&6)&&Ai();var e=we;we|=1;var n=ln.transition,r=Ce;try{if(ln.transition=null,Ce=1,t)return t()}finally{Ce=r,ln.transition=n,we=e,!(we&6)&&us()}}function lg(){Wt=Ei.current,Me(Ei)}function Ps(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_C(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eu();break;case 3:Wi(),Me(Bt),Me(Tt),Jm();break;case 5:Ym(r);break;case 4:Wi();break;case 13:Me(Le);break;case 19:Me(Le);break;case 10:qm(r.type._context);break;case 22:case 23:lg()}n=n.return}if(at=t,Je=t=Kr(t.current,null),ft=Wt=e,rt=0,Da=null,ig=ad=Vs=0,Ft=la=null,_s!==null){for(e=0;e<_s.length;e++)if(n=_s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}_s=null}return t}function Ub(t,e){do{var n=Je;try{if(Wm(),Nc.current=cu,lu){for(var r=Fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lu=!1}if(Bs=0,ot=nt=Fe=null,oa=!1,Ia=0,sg.current=null,n===null||n.return===null){rt=1,Da=e,Je=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qy(o);if(m!==null){m.flags&=-257,Gy(m,o,a,i,e),m.mode&1&&Wy(i,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var w=new Set;w.add(l),e.updateQueue=w}else g.add(l);break e}else{if(!(e&1)){Wy(i,u,e),cg();break e}l=Error($(426))}}else if(Oe&&a.mode&1){var S=qy(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Gy(S,o,a,i,e),zm(qi(l,a));break e}}i=l=qi(l,a),rt!==4&&(rt=2),la===null?la=[i]:la.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var p=Eb(i,l,e);Fy(i,p);break e;case 1:a=l;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qr===null||!qr.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Sb(i,a,e);Fy(i,k);break e}}i=i.return}while(i!==null)}zb(n)}catch(j){e=j,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Bb(){var t=uu.current;return uu.current=cu,t===null?cu:t}function cg(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Vs&268435455)&&!(ad&268435455)||Ir(at,ft)}function fu(t,e){var n=we;we|=2;var r=Bb();(at!==t||ft!==e)&&(Xn=null,Ps(t,e));do try{JC();break}catch(s){Ub(t,s)}while(!0);if(Wm(),we=n,uu.current=r,Je!==null)throw Error($(261));return at=null,ft=0,rt}function JC(){for(;Je!==null;)Vb(Je)}function XC(){for(;Je!==null&&!E_();)Vb(Je)}function Vb(t){var e=Wb(t.alternate,t,Wt);t.memoizedProps=t.pendingProps,e===null?zb(t):Je=e,sg.current=null}function zb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WC(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=HC(n,e,Wt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function bs(t,e,n){var r=Ce,s=ln.transition;try{ln.transition=null,Ce=1,ZC(t,e,n,r)}finally{ln.transition=s,Ce=r}return null}function ZC(t,e,n,r){do Ai();while($r!==null);if(we&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(P_(t,i),t===at&&(Je=at=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nc||(nc=!0,qb(Kc,function(){return Ai(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ln.transition,ln.transition=null;var o=Ce;Ce=1;var a=we;we|=4,sg.current=null,GC(t,n),$b(n,t),wC(Kf),Yc=!!Gf,Kf=Gf=null,t.current=n,KC(n),S_(),we=a,Ce=o,ln.transition=i}else t.current=n;if(nc&&(nc=!1,$r=t,hu=s),i=t.pendingLanes,i===0&&(qr=null),C_(n.stateNode),zt(t,We()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(du)throw du=!1,t=pp,pp=null,t;return hu&1&&t.tag!==0&&Ai(),i=t.pendingLanes,i&1?t===mp?ca++:(ca=0,mp=t):ca=0,us(),null}function Ai(){if($r!==null){var t=E1(hu),e=ln.transition,n=Ce;try{if(ln.transition=null,Ce=16>t?16:t,$r===null)var r=!1;else{if(t=$r,$r=null,hu=0,we&6)throw Error($(331));var s=we;for(we|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:aa(8,d,i)}var h=d.child;if(h!==null)h.return=d,Q=h;else for(;Q!==null;){d=Q;var f=d.sibling,m=d.return;if(Mb(d),d===u){Q=null;break}if(f!==null){f.return=m,Q=f;break}Q=m}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:aa(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,Q=p;break e}Q=i.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Q=v;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:od(9,a)}}catch(j){ze(a,a.return,j)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(we=s,us(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Xu,t)}catch{}r=!0}return r}finally{Ce=n,ln.transition=e}}return!1}function ov(t,e,n){e=qi(n,e),e=Eb(t,e,1),t=Wr(t,e,1),e=Dt(),t!==null&&(ol(t,1,e),zt(t,e))}function ze(t,e,n){if(t.tag===3)ov(t,t,n);else for(;e!==null;){if(e.tag===3){ov(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qr===null||!qr.has(r))){t=qi(n,t),t=Sb(e,t,1),e=Wr(e,t,1),t=Dt(),e!==null&&(ol(e,1,t),zt(e,t));break}}e=e.return}}function eT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(ft&n)===n&&(rt===4||rt===3&&(ft&130023424)===ft&&500>We()-og?Ps(t,0):ig|=n),zt(t,e)}function Hb(t,e){e===0&&(t.mode&1?(e=ql,ql<<=1,!(ql&130023424)&&(ql=4194304)):e=1);var n=Dt();t=ur(t,e),t!==null&&(ol(t,e,n),zt(t,n))}function tT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Hb(t,n)}function nT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Hb(t,n)}var Wb;Wb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,zC(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Oe&&e.flags&1048576&&Q1(e,ru,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cc(t,e),t=e.pendingProps;var s=Vi(e,Tt.current);ji(e,n),s=Zm(null,e,r,t,s,n);var i=eg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(i=!0,tu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Km(e),s.updater=id,e.stateNode=s,s._reactInternals=e,rp(e,r,t,n),e=op(null,e,r,!0,i,n)):(e.tag=0,Oe&&i&&Bm(e),jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=sT(r),t=yn(r,t),s){case 0:e=ip(null,e,r,t,n);break e;case 1:e=Yy(null,e,r,t,n);break e;case 11:e=Ky(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,yn(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),ip(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),Yy(t,e,r,s,n);case 3:e:{if(Tb(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,tb(t,e),ou(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=qi(Error($(423)),e),e=Jy(t,e,r,n,s);break e}else if(r!==s){s=qi(Error($(424)),e),e=Jy(t,e,r,n,s);break e}else for(qt=Hr(e.stateNode.containerInfo.firstChild),Gt=e,Oe=!0,wn=null,n=Z1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zi(),r===s){e=dr(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return nb(e),t===null&&ep(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Qf(r,s)?o=null:i!==null&&Qf(r,i)&&(e.flags|=32),Cb(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&ep(e),null;case 13:return Ib(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),Ky(t,e,r,s,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(su,r._currentValue),r._currentValue=o,i!==null)if(Sn(i.value,o)){if(i.children===s.children&&!Bt.current){e=dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=or(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),tp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),tp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ji(e,n),s=un(s),r=r(s),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,s=yn(r,e.pendingProps),s=yn(r.type,s),Qy(t,e,r,s,n);case 15:return Nb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),Cc(t,e),e.tag=1,Vt(r)?(t=!0,tu(e)):t=!1,ji(e,n),kb(e,r,s),rp(e,r,s,n),op(null,e,r,!0,t,n);case 19:return jb(t,e,n);case 22:return _b(t,e,n)}throw Error($(156,e.tag))};function qb(t,e){return w1(t,e)}function rT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,n,r){return new rT(t,e,n,r)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sT(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Im)return 11;if(t===jm)return 14}return 2}function Kr(t,e){var n=t.alternate;return n===null?(n=an(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fi:return Ms(n.children,s,i,e);case Tm:o=8,s|=8;break;case Cf:return t=an(12,n,e,s|2),t.elementType=Cf,t.lanes=i,t;case Tf:return t=an(13,n,e,s),t.elementType=Tf,t.lanes=i,t;case If:return t=an(19,n,e,s),t.elementType=If,t.lanes=i,t;case n1:return ld(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case e1:o=10;break e;case t1:o=9;break e;case Im:o=11;break e;case jm:o=14;break e;case _r:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=an(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ms(t,e,n,r){return t=an(7,t,r,e),t.lanes=n,t}function ld(t,e,n,r){return t=an(22,t,r,e),t.elementType=n1,t.lanes=n,t.stateNode={isHidden:!1},t}function Bh(t,e,n){return t=an(6,t,null,e),t.lanes=n,t}function Vh(t,e,n){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dg(t,e,n,r,s,i,o,a,l){return t=new iT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=an(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(i),t}function oT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gb(t){if(!t)return rs;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Vt(n))return G1(t,n,e)}return e}function Kb(t,e,n,r,s,i,o,a,l){return t=dg(n,r,!0,t,s,i,o,a,l),t.context=Gb(null),n=t.current,r=Dt(),s=Gr(n),i=or(r,s),i.callback=e??null,Wr(n,i,s),t.current.lanes=s,ol(t,s,r),zt(t,r),t}function cd(t,e,n,r){var s=e.current,i=Dt(),o=Gr(s);return n=Gb(n),e.context===null?e.context=n:e.pendingContext=n,e=or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wr(s,e,o),t!==null&&(En(t,s,o,i),Sc(t,s,o)),o}function pu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function av(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hg(t,e){av(t,e),(t=t.alternate)&&av(t,e)}function aT(){return null}var Qb=typeof reportError=="function"?reportError:function(t){console.error(t)};function fg(t){this._internalRoot=t}ud.prototype.render=fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));cd(t,e,null,null)};ud.prototype.unmount=fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zs(function(){cd(null,t,null,null)}),e[cr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=_1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&T1(t)}};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lv(){}function lT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=pu(o);i.call(u)}}var o=Kb(e,r,t,0,null,!1,!1,"",lv);return t._reactRootContainer=o,t[cr]=o.current,Sa(t.nodeType===8?t.parentNode:t),zs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=pu(l);a.call(u)}}var l=dg(t,0,!1,null,null,!1,!1,"",lv);return t._reactRootContainer=l,t[cr]=l.current,Sa(t.nodeType===8?t.parentNode:t),zs(function(){cd(e,l,n,r)}),l}function hd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=pu(o);a.call(l)}}cd(e,o,t,s)}else o=lT(n,e,t,s,r);return pu(o)}S1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wo(e.pendingLanes);n!==0&&(Pm(e,n|1),zt(e,We()),!(we&6)&&(Gi=We()+500,us()))}break;case 13:zs(function(){var r=ur(t,1);if(r!==null){var s=Dt();En(r,t,1,s)}}),hg(t,1)}};Mm=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=Dt();En(e,t,134217728,n)}hg(t,134217728)}};N1=function(t){if(t.tag===13){var e=Gr(t),n=ur(t,e);if(n!==null){var r=Dt();En(n,t,e,r)}hg(t,e)}};_1=function(){return Ce};C1=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Ff=function(t,e,n){switch(e){case"input":if(Df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=nd(r);if(!s)throw Error($(90));s1(r),Df(r,s)}}}break;case"textarea":o1(t,n);break;case"select":e=n.value,e!=null&&_i(t,!!n.multiple,e,!1)}};f1=ag;p1=zs;var cT={usingClientEntryPoint:!1,Events:[ll,yi,nd,d1,h1,ag]},Mo={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uT={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=y1(t),t===null?null:t.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||aT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Xu=rc.inject(uT),$n=rc}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cT;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error($(200));return oT(t,e,null,n)};Xt.createRoot=function(t,e){if(!pg(t))throw Error($(299));var n=!1,r="",s=Qb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dg(t,1,!1,null,null,n,!1,r,s),t[cr]=e.current,Sa(t.nodeType===8?t.parentNode:t),new fg(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=y1(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return zs(t)};Xt.hydrate=function(t,e,n){if(!dd(e))throw Error($(200));return hd(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!pg(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Qb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Kb(e,null,t,1,n??null,s,!1,i,o),t[cr]=e.current,Sa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ud(e)};Xt.render=function(t,e,n){if(!dd(e))throw Error($(200));return hd(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!dd(t))throw Error($(40));return t._reactRootContainer?(zs(function(){hd(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Xt.unstable_batchedUpdates=ag;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!dd(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return hd(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function Yb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yb)}catch(t){console.error(t)}}Yb(),Yx.exports=Xt;var Jb=Yx.exports,Xb,cv=Jb;Xb=cv.createRoot,cv.hydrateRoot;const mu=["light","dark"],mg="(prefers-color-scheme: dark)",dT=typeof window>"u",gg=b.createContext(void 0),hT={setTheme:t=>{},themes:[]},Zb=()=>{var t;return(t=b.useContext(gg))!==null&&t!==void 0?t:hT},fT=t=>b.useContext(gg)?be.createElement(b.Fragment,null,t.children):be.createElement(mT,t),pT=["light","dark"],mT=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:s="theme",themes:i=pT,defaultTheme:o=n?"system":"light",attribute:a="data-theme",value:l,children:u,nonce:d})=>{const[h,f]=b.useState(()=>uv(s,o)),[m,g]=b.useState(()=>uv(s)),w=l?Object.values(l):i,S=b.useCallback(k=>{let j=k;if(!j)return;k==="system"&&n&&(j=dv());const C=l?l[j]:j,N=e?yT():null,x=document.documentElement;if(a==="class"?(x.classList.remove(...w),C&&x.classList.add(C)):C?x.setAttribute(a,C):x.removeAttribute(a),r){const E=mu.includes(o)?o:null,I=mu.includes(j)?j:E;x.style.colorScheme=I}N==null||N()},[]),p=b.useCallback(k=>{f(k);try{localStorage.setItem(s,k)}catch{}},[t]),y=b.useCallback(k=>{const j=dv(k);g(j),h==="system"&&n&&!t&&S("system")},[h,t]);b.useEffect(()=>{const k=window.matchMedia(mg);return k.addListener(y),y(k),()=>k.removeListener(y)},[y]),b.useEffect(()=>{const k=j=>{j.key===s&&p(j.newValue||o)};return window.addEventListener("storage",k),()=>window.removeEventListener("storage",k)},[p]),b.useEffect(()=>{S(t??h)},[t,h]);const v=b.useMemo(()=>({theme:h,setTheme:p,forcedTheme:t,resolvedTheme:h==="system"?m:h,themes:n?[...i,"system"]:i,systemTheme:n?m:void 0}),[h,p,t,m,n,i]);return be.createElement(gg.Provider,{value:v},be.createElement(gT,{forcedTheme:t,disableTransitionOnChange:e,enableSystem:n,enableColorScheme:r,storageKey:s,themes:i,defaultTheme:o,attribute:a,value:l,children:u,attrs:w,nonce:d}),u)},gT=b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{const u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;c.remove(${a.map(g=>`'${g}'`).join(",")});`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?mu.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,w=!1,S=!0)=>{const p=o?o[g]:g,y=w?g+"|| ''":`'${p}'`;let v="";return s&&S&&!w&&mu.includes(g)&&(v+=`d.style.colorScheme = '${g}';`),n==="class"?v+=w||p?`c.add(${y})`:"null":p&&(v+=`d[s](n,${y})`),v},m=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${mg}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return be.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})},()=>!0),uv=(t,e)=>{if(dT)return;let n;try{n=localStorage.getItem(t)||void 0}catch{}return n||e},yT=()=>{const t=document.createElement("style");return t.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},dv=t=>(t||(t=window.matchMedia(mg)),t.matches?"dark":"light");/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const hv="popstate";function vT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return vp("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gu(s)}return xT(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ek(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substr(2,8)}function fv(t,e){return{usr:t.state,key:t.key,idx:e}}function vp(t,e,n,r){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ho(e):e,{state:n,key:e&&e.key||r||wT()})}function gu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Lr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Pa({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Lr.Pop;let S=d(),p=S==null?null:S-u;u=S,l&&l({action:a,location:w.location,delta:p})}function f(S,p){a=Lr.Push;let y=vp(w.location,S,p);u=d()+1;let v=fv(y,u),k=w.createHref(y);try{o.pushState(v,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(k)}i&&l&&l({action:a,location:w.location,delta:1})}function m(S,p){a=Lr.Replace;let y=vp(w.location,S,p);u=d();let v=fv(y,u),k=w.createHref(y);o.replaceState(v,"",k),i&&l&&l({action:a,location:w.location,delta:0})}function g(S){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof S=="string"?S:gu(S);return y=y.replace(/ $/,"%20"),qe(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let w={get action(){return a},get location(){return t(s,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(hv,h),l=S,()=>{s.removeEventListener(hv,h),l=null}},createHref(S){return e(s,S)},createURL:g,encodeLocation(S){let p=g(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:m,go(S){return o.go(S)}};return w}var pv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pv||(pv={}));function bT(t,e,n){return n===void 0&&(n="/"),kT(t,e,n,!1)}function kT(t,e,n,r){let s=typeof e=="string"?ho(e):e,i=yg(s.pathname||"/",n);if(i==null)return null;let o=tk(t);ET(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=MT(i);a=DT(o[l],u,r)}return a}function tk(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Qr([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(qe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tk(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:jT(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of nk(i.path))s(i,o,l)}),e}function nk(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=nk(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ET(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ST=/^:[\w-]+$/,NT=3,_T=2,CT=1,TT=10,IT=-2,mv=t=>t==="*";function jT(t,e){let n=t.split("/"),r=n.length;return n.some(mv)&&(r+=IT),e&&(r+=_T),n.filter(s=>!mv(s)).reduce((s,i)=>s+(ST.test(i)?NT:i===""?CT:TT),r)}function AT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function DT(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=gv({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=gv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Qr([i,h.pathname]),pathnameBase:LT(Qr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Qr([i,h.pathnameBase]))}return o}function gv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[h];return m&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function PT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ek(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ek(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ho(t):t;return{pathname:n?n.startsWith("/")?n:OT(n,e):e,search:FT(r),hash:UT(s)}}function OT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $T(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vg(t,e){let n=$T(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function wg(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ho(t):(s=Pa({},t),qe(!s.pathname||!s.pathname.includes("?"),zh("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),zh("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),zh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=RT(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Qr=t=>t.join("/").replace(/\/\/+/g,"/"),LT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rk=["post","put","patch","delete"];new Set(rk);const VT=["get",...rk];new Set(VT);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}const xg=b.createContext(null),zT=b.createContext(null),ds=b.createContext(null),fd=b.createContext(null),xr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),sk=b.createContext(null);function HT(t,e){let{relative:n}=e===void 0?{}:e;fo()||qe(!1);let{basename:r,navigator:s}=b.useContext(ds),{hash:i,pathname:o,search:a}=ok(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Qr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function fo(){return b.useContext(fd)!=null}function hs(){return fo()||qe(!1),b.useContext(fd).location}function ik(t){b.useContext(ds).static||b.useLayoutEffect(t)}function hn(){let{isDataRoute:t}=b.useContext(xr);return t?sI():WT()}function WT(){fo()||qe(!1);let t=b.useContext(xg),{basename:e,future:n,navigator:r}=b.useContext(ds),{matches:s}=b.useContext(xr),{pathname:i}=hs(),o=JSON.stringify(vg(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return ik(()=>{a.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=wg(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Qr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function qT(){let{matches:t}=b.useContext(xr),e=t[t.length-1];return e?e.params:{}}function ok(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(ds),{matches:s}=b.useContext(xr),{pathname:i}=hs(),o=JSON.stringify(vg(s,r.v7_relativeSplatPath));return b.useMemo(()=>wg(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function GT(t,e){return KT(t,e)}function KT(t,e,n,r){fo()||qe(!1);let{navigator:s}=b.useContext(ds),{matches:i}=b.useContext(xr),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=hs(),d;if(e){var h;let S=typeof e=="string"?ho(e):e;l==="/"||(h=S.pathname)!=null&&h.startsWith(l)||qe(!1),d=S}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(S.length).join("/")}let g=bT(t,{pathname:m}),w=ZT(g&&g.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Qr([l,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Qr([l,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return e&&w?b.createElement(fd.Provider,{value:{location:Ma({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Lr.Pop}},w):w}function QT(){let t=rI(),e=BT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const YT=b.createElement(QT,null);class JT extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(xr.Provider,{value:this.props.routeContext},b.createElement(sk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XT(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(xg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(xr.Provider,{value:e},r)}function ZT(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||qe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,g=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,g=!1,w=null,S=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||YT,l&&(u<0&&f===0?(g=!0,S=null):u===f&&(g=!0,S=h.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,f+1)),y=()=>{let v;return m?v=w:g?v=S:h.route.Component?v=b.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=d,b.createElement(XT,{match:h,routeContext:{outlet:d,matches:p,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(JT,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var ak=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ak||{}),yu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yu||{});function eI(t){let e=b.useContext(xg);return e||qe(!1),e}function tI(t){let e=b.useContext(zT);return e||qe(!1),e}function nI(t){let e=b.useContext(xr);return e||qe(!1),e}function lk(t){let e=nI(),n=e.matches[e.matches.length-1];return n.route.id||qe(!1),n.route.id}function rI(){var t;let e=b.useContext(sk),n=tI(yu.UseRouteError),r=lk(yu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sI(){let{router:t}=eI(ak.UseNavigateStable),e=lk(yu.UseNavigateStable),n=b.useRef(!1);return ik(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ma({fromRouteId:e},i)))},[t,e])}const yv={};function iI(t,e){yv[e]||(yv[e]=!0,console.warn(e))}const vv=(t,e,n)=>iI(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function oI(t,e){t!=null&&t.v7_startTransition||vv("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&vv("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function aI(t){let{to:e,replace:n,state:r,relative:s}=t;fo()||qe(!1);let{future:i,static:o}=b.useContext(ds),{matches:a}=b.useContext(xr),{pathname:l}=hs(),u=hn(),d=wg(e,vg(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function Lt(t){qe(!1)}function lI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Lr.Pop,navigator:i,static:o=!1,future:a}=t;fo()&&qe(!1);let l=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:l,navigator:i,static:o,future:Ma({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ho(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,w=b.useMemo(()=>{let S=yg(d,l);return S==null?null:{location:{pathname:S,search:h,hash:f,state:m,key:g},navigationType:s}},[l,d,h,f,m,g,s]);return w==null?null:b.createElement(ds.Provider,{value:u},b.createElement(fd.Provider,{children:n,value:w}))}function wv(t){let{children:e,location:n}=t;return GT(wp(e),n)}new Promise(()=>{});function wp(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,wp(r.props.children,i));return}r.type!==Lt&&qe(!1),!r.props.index||!r.props.children||qe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wp(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(this,arguments)}function cI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function uI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dI(t,e){return t.button===0&&(!e||e==="_self")&&!uI(t)}const hI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fI="6";try{window.__reactRouterVersion=fI}catch{}const pI="startTransition",xv=Ui[pI];function mI(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=vT({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=b.useCallback(h=>{u&&xv?xv(()=>l(h)):l(h)},[l,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>oI(r),[r]),b.createElement(lI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const gI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ra=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=cI(e,hI),{basename:m}=b.useContext(ds),g,w=!1;if(typeof u=="string"&&yI.test(u)&&(g=u,gI))try{let v=new URL(window.location.href),k=u.startsWith("//")?new URL(v.protocol+u):new URL(u),j=yg(k.pathname,m);k.origin===v.origin&&j!=null?u=j+k.search+k.hash:w=!0}catch{}let S=HT(u,{relative:s}),p=vI(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function y(v){r&&r(v),v.defaultPrevented||p(v)}return b.createElement("a",xp({},f,{href:g||S,onClick:w||i?r:y,ref:n,target:l}))});var bv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kv||(kv={}));function vI(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=hn(),u=hs(),d=ok(t,{relative:o});return b.useCallback(h=>{if(dI(h,n)){h.preventDefault();let f=r!==void 0?r:gu(u)===gu(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,d,r,s,n,t,i,o,a])}var Ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},bI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new kI;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let kI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const ck=function(t){try{return bI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=()=>EI().__FIREBASE_DEFAULTS__,NI=()=>{if(typeof process>"u"||typeof Ev>"u")return;const t=Ev.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_I=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ck(t[1]);return e&&JSON.parse(e)},uk=()=>{try{return SI()||NI()||_I()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CI=t=>{var e,n;return(n=(e=uk())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dk=t=>{var e;return(e=uk())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function II(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AI(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";let pd=class hk extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DI,Object.setPrototypeOf(this,hk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}},md=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?PI(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new pd(s,a,r)}};function PI(t,e){return t.replace(MI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const MI=/\{\$([^}]+)}/g;function RI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fk(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Sv(i)&&Sv(o)){if(!fk(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Sv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OI(t,e){const n=new $I(t,e);return n.subscribe.bind(n)}class $I{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hh),s.error===void 0&&(s.error=Hh),s.complete===void 0&&(s.complete=Hh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(t){return t&&t._delegate?t._delegate:t}var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},FI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},mk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new UI;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let UI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const BI=function(t){const e=pk(t);return mk.encodeByteArray(e,!0)},gk=function(t){return BI(t).replace(/\./g,"")},VI=function(t){try{return mk.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>zI().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof Nv>"u")return;const t=Nv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VI(t[1]);return e&&JSON.parse(e)},GI=()=>{try{return HI()||WI()||qI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yk=()=>{var t;return(t=GI())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="FirebaseError";let bg=class vk extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JI,Object.setPrototypeOf(this,vk.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wk.prototype.create)}},wk=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?XI(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new bg(s,a,r)}};function XI(t,e){return t.replace(ZI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function bp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_v(i)&&_v(o)){if(!bp(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _v(t){return t!==null&&typeof t=="object"}let vu=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new KI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nj(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tj(t){return t===ks?void 0:t}function nj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ej(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const sj={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},ij=xe.INFO,oj={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},aj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=oj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kg{constructor(e){this.name=e,this._logLevel=ij,this._logHandler=aj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const lj=(t,e)=>e.some(n=>t instanceof n);let Cv,Tv;function cj(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uj(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xk=new WeakMap,kp=new WeakMap,bk=new WeakMap,Wh=new WeakMap,Eg=new WeakMap;function dj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Yr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xk.set(n,t)}).catch(()=>{}),Eg.set(e,t),e}function hj(t){if(kp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kp.set(t,e)}let Ep={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fj(t){Ep=t(Ep)}function pj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qh(this),e,...n);return bk.set(r,e.sort?e.sort():[e]),Yr(r)}:uj().includes(t)?function(...e){return t.apply(qh(this),e),Yr(xk.get(this))}:function(...e){return Yr(t.apply(qh(this),e))}}function mj(t){return typeof t=="function"?pj(t):(t instanceof IDBTransaction&&hj(t),lj(t,cj())?new Proxy(t,Ep):t)}function Yr(t){if(t instanceof IDBRequest)return dj(t);if(Wh.has(t))return Wh.get(t);const e=mj(t);return e!==t&&(Wh.set(t,e),Eg.set(e,t)),e}const qh=t=>Eg.get(t);function gj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Yr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Yr(o.result),l.oldVersion,l.newVersion,Yr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const yj=["get","getKey","getAll","getAllKeys","count"],vj=["put","add","delete","clear"],Gh=new Map;function Iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=vj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||yj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Gh.set(e,i),i}fj(t=>({...t,get:(e,n,r)=>Iv(e,n)||t.get(e,n,r),has:(e,n)=>!!Iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",jv="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new kg("@firebase/app"),bj="@firebase/app-compat",kj="@firebase/analytics-compat",Ej="@firebase/analytics",Sj="@firebase/app-check-compat",Nj="@firebase/app-check",_j="@firebase/auth",Cj="@firebase/auth-compat",Tj="@firebase/database",Ij="@firebase/database-compat",jj="@firebase/functions",Aj="@firebase/functions-compat",Dj="@firebase/installations",Pj="@firebase/installations-compat",Mj="@firebase/messaging",Rj="@firebase/messaging-compat",Oj="@firebase/performance",$j="@firebase/performance-compat",Lj="@firebase/remote-config",Fj="@firebase/remote-config-compat",Uj="@firebase/storage",Bj="@firebase/storage-compat",Vj="@firebase/firestore",zj="@firebase/firestore-compat",Hj="firebase",Wj="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="[DEFAULT]",qj={[Sp]:"fire-core",[bj]:"fire-core-compat",[Ej]:"fire-analytics",[kj]:"fire-analytics-compat",[Nj]:"fire-app-check",[Sj]:"fire-app-check-compat",[_j]:"fire-auth",[Cj]:"fire-auth-compat",[Tj]:"fire-rtdb",[Ij]:"fire-rtdb-compat",[jj]:"fire-fn",[Aj]:"fire-fn-compat",[Dj]:"fire-iid",[Pj]:"fire-iid-compat",[Mj]:"fire-fcm",[Rj]:"fire-fcm-compat",[Oj]:"fire-perf",[$j]:"fire-perf-compat",[Lj]:"fire-rc",[Fj]:"fire-rc-compat",[Uj]:"fire-gcs",[Bj]:"fire-gcs-compat",[Vj]:"fire-fst",[zj]:"fire-fst-compat","fire-js":"fire-js",[Hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=new Map,_p=new Map;function Gj(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ki(t){const e=t.name;if(_p.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of wu.values())Gj(n,t);return!0}function Sg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Jr=new wk("app","Firebase",Kj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=Wj;function kk(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Np,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Jr.create("bad-app-name",{appName:String(s)});if(n||(n=yk()),!n)throw Jr.create("no-options");const i=wu.get(s);if(i){if(bp(n,i.options)&&bp(r,i.config))return i;throw Jr.create("duplicate-app",{appName:s})}const o=new rj(s);for(const l of _p.values())o.addComponent(l);const a=new Qj(n,r,o);return wu.set(s,a),a}function Ek(t=Np){const e=wu.get(t);if(!e&&t===Np&&yk())return kk();if(!e)throw Jr.create("no-app",{appName:t});return e}function Rs(t,e,n){var r;let s=(r=qj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(a.join(" "));return}Ki(new vu(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj="firebase-heartbeat-database",Jj=1,Oa="firebase-heartbeat-store";let Kh=null;function Sk(){return Kh||(Kh=gj(Yj,Jj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jr.create("idb-open",{originalErrorMessage:t.message})})),Kh}async function Xj(t){try{const n=(await Sk()).transaction(Oa),r=await n.objectStore(Oa).get(Nk(t));return await n.done,r}catch(e){if(e instanceof bg)Hs.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hs.warn(n.message)}}}async function Av(t,e){try{const r=(await Sk()).transaction(Oa,"readwrite");await r.objectStore(Oa).put(e,Nk(t)),await r.done}catch(n){if(n instanceof bg)Hs.warn(n.message);else{const r=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hs.warn(r.message)}}}function Nk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=1024,e4=30*24*60*60*1e3;class t4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r4(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Dv();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=e4}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dv(),{heartbeatsToSend:r,unsentEntries:s}=n4(this._heartbeatsCache.heartbeats),i=gk(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Dv(){return new Date().toISOString().substring(0,10)}function n4(t,e=Zj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Pv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Pv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Pv(t){return gk(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){Ki(new vu("platform-logger",e=>new wj(e),"PRIVATE")),Ki(new vu("heartbeat",e=>new t4(e),"PRIVATE")),Rs(Sp,jv,t),Rs(Sp,jv,"esm2017"),Rs("fire-js","")}s4("");function Ng(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}let Mv=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};function _k(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i4=_k,Ck=new md("auth","Firebase",_k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new kg("@firebase/auth");function o4(t,...e){xu.logLevel<=xe.WARN&&xu.warn(`Auth (${po}): ${t}`,...e)}function Ac(t,...e){xu.logLevel<=xe.ERROR&&xu.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw _g(t,...e)}function Fn(t,...e){return _g(t,...e)}function a4(t,e,n){const r=Object.assign(Object.assign({},i4()),{[e]:n});return new md("auth","Firebase",r).create(e,{appName:t.name})}function _g(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ck.create(t,...e)}function ae(t,e,...n){if(!t)throw _g(e,...n)}function nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function hr(t,e){t||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function l4(){return Rv()==="http:"||Rv()==="https:"}function Rv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l4()||II()||"connection"in navigator)?navigator.onLine:!0}function u4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=TI()||jI()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=new dl(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fs(t,e,n,r,s={}){return Ik(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Tk.fetch()(jk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Ik(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d4),e);try{const s=new f4(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw a4(t,d,u);Nn(t,d)}}catch(s){if(s instanceof pd)throw s;Nn(t,"network-request-failed",{message:String(s)})}}async function hl(t,e,n,r,s={}){const i=await fs(t,e,n,r,s);return"mfaPendingCredential"in i&&Nn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function jk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Cg(t.config,s):`${t.config.apiScheme}://${s}`}class f4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),h4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Fn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function m4(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g4(t,e=!1){const n=Wn(t),r=await n.getIdToken(e),s=Tg(r);ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ua(Qh(s.auth_time)),issuedAtTime:ua(Qh(s.iat)),expirationTime:ua(Qh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qh(t){return Number(t)*1e3}function Tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const s=ck(n);return s?JSON.parse(s):(Ac("Failed to decode base64 JWT payload"),null)}catch(s){return Ac("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function y4(t){const e=Tg(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof pd&&v4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ua(this.lastLoginAt),this.creationTime=ua(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Qi(t,m4(n,{idToken:r}));ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?k4(i.providerUserInfo):[],a=b4(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Ak(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function x4(t){const e=Wn(t);await bu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function k4(t){return t.map(e=>{var{providerId:n}=e,r=Ng(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E4(t,e){const n=await Ik(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=jk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await E4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $a;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Os{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ng(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ak(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qi(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g4(this,e)}reload(){return x4(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Os(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qi(this,p4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:v,emailVerified:k,isAnonymous:j,providerData:C,stsTokenManager:N}=n;ae(v&&N,e,"internal-error");const x=$a.fromJSON(this.name,N);ae(typeof v=="string",e,"internal-error"),Sr(h,e.name),Sr(f,e.name),ae(typeof k=="boolean",e,"internal-error"),ae(typeof j=="boolean",e,"internal-error"),Sr(m,e.name),Sr(g,e.name),Sr(w,e.name),Sr(S,e.name),Sr(p,e.name),Sr(y,e.name);const E=new Os({uid:v,auth:e,email:f,emailVerified:k,displayName:h,isAnonymous:j,photoURL:g,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(E.providerData=C.map(I=>Object.assign({},I))),S&&(E._redirectEventId=S),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new $a;s.updateFromServerResponse(n);const i=new Os({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await bu(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;function rr(t){hr(t instanceof Function,"Expected a class definition");let e=Ov.get(t);return e?(hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ov.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Dk.type="NONE";const $v=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Dc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Dc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Os._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Di(rr($v),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||rr($v);const o=Dc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const h=Os._fromJSON(e,d);u!==i&&(a=h),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Di(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($k(e))return"Blackberry";if(Lk(e))return"Webos";if(Ig(e))return"Safari";if((e.includes("chrome/")||Mk(e))&&!e.includes("edge/"))return"Chrome";if(Ok(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Pk(t=It()){return/firefox\//i.test(t)}function Ig(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mk(t=It()){return/crios\//i.test(t)}function Rk(t=It()){return/iemobile/i.test(t)}function Ok(t=It()){return/android/i.test(t)}function $k(t=It()){return/blackberry/i.test(t)}function Lk(t=It()){return/webos/i.test(t)}function gd(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S4(t=It()){var e;return gd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N4(){return AI()&&document.documentMode===10}function Fk(t=It()){return gd(t)||Ok(t)||Lk(t)||$k(t)||/windows phone/i.test(t)||Rk(t)}function _4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e=[]){let n;switch(t){case"Browser":n=Lv(It());break;case"Worker":n=`${Lv(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}async function Bk(t,e){return fs(t,"GET","/v2/recaptchaConfig",ei(t,e))}function Fv(t){return t!==void 0&&t.enterprise!==void 0}class Vk{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zk(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Fn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",C4().appendChild(r)})}function T4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I4="https://www.google.com/recaptcha/enterprise.js?render=",j4="recaptcha-enterprise",A4="NO_RECAPTCHA";class Hk{constructor(e){this.type=j4,this.auth=ti(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Bk(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new Vk(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;Fv(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(A4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&Fv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}zk(I4+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Yi(t,e,n,r=!1){const s=new Hk(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new D4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Wn(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}async initializeRecaptchaConfig(){const e=await Bk(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Vk(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Hk(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o4(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ti(t){return Wn(t)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=OI(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e){const n=Sg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(fk(i,e??{}))return s;Nn(s,"already-initialized")}return n.initialize({options:e})}function R4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function O4(t,e,n){const r=ti(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Wk(e),{host:o,port:a}=$4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),L4()}function Wk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=Wk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Bv(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Bv(o)}}}function Bv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function F4(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(t,e){return hl(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))}async function U4(t,e){return fs(t,"POST","/v1/accounts:sendOobCode",ei(t,e))}async function Jh(t,e){return U4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B4(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}async function V4(t,e){return hl(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends jg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new La(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new La(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Yi(e,r,"signInWithPassword");return Yh(e,s)}else return Yh(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Yi(e,r,"signInWithPassword");return Yh(e,i)}else return Promise.reject(s)});case"emailLink":return B4(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return F4(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return V4(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(t,e){return hl(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="http://localhost";class Ws extends jg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ng(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ws(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pi(e,n)}buildRequest(){const e={requestUri:z4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W4(t){const e=Go(Ko(t)).link,n=e?Go(Ko(e)).deep_link_id:null,r=Go(Ko(t)).deep_link_id;return(r?Go(Ko(r)).link:null)||r||n||e||t}class Ag{constructor(e){var n,r,s,i,o,a;const l=Go(Ko(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=H4((s=l.mode)!==null&&s!==void 0?s:null);ae(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W4(e);try{return new Ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(e,n){return La._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ag.parseLink(n);return ae(r,"argument-error"),La._fromEmailAndCode(e,r.code,r.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl extends qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends fl{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends fl{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.GITHUB_SIGN_IN_METHOD="github.com";Dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends fl{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t,e){return hl(t,"POST","/v1/accounts:signUp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Os._fromIdTokenResponse(e,r,s),o=Vv(r);return new qs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Vv(r);return new qs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Vv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends pd{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ku.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ku(e,n,r,s)}}function Gk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ku._fromErrorAndOperation(t,i,e,r):i})}async function q4(t,e,n=!1){const r=await Qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Qi(t,Gk(r,s,e,t),n);ae(i.idToken,r,"internal-error");const o=Tg(i.idToken);ae(o,r,"internal-error");const{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),qs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Nn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e,n=!1){const r="signIn",s=await Gk(t,r,e),i=await qs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function K4(t,e){return Kk(ti(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,e,n){var r;const s=ti(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await Yi(s,i,"getOobCode",!0);await Jh(s,o)}else await Jh(s,i).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await Yi(s,i,"getOobCode",!0);await Jh(s,a)}else return Promise.reject(o)})}async function Y4(t,e,n){var r;const s=ti(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Yi(s,i,"signUpPassword");o=Xh(s,u)}else o=Xh(s,i).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Yi(s,i,"signUpPassword");return Xh(s,d)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await qs._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function J4(t,e,n){return K4(Wn(t),mo.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e){return fs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Wn(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Qi(r,X4(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function eA(t,e,n,r){return Wn(t).onIdTokenChanged(e,n,r)}function tA(t,e,n){return Wn(t).beforeAuthStateChanged(e,n)}function nA(t,e,n,r){return Wn(t).onAuthStateChanged(e,n,r)}function rA(t){return Wn(t).signOut()}const Eu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eu,"1"),this.storage.removeItem(Eu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){const t=It();return Ig(t)||gd(t)}const iA=1e3,oA=10;class Yk extends Qk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sA()&&_4(),this.fallbackToPolling=Fk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);N4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yk.type="LOCAL";const aA=Yk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk extends Qk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jk.type="SESSION";const Xk=Jk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await lA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Dg("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function uA(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function dA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fA(){return Zk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",pA=1,Su="firebaseLocalStorage",tE="fbase_key";class pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([Su],e?"readwrite":"readonly").objectStore(Su)}function mA(){const t=indexedDB.deleteDatabase(eE);return new pl(t).toPromise()}function Tp(){const t=indexedDB.open(eE,pA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Su,{keyPath:tE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Su)?e(r):(r.close(),await mA(),e(await Tp()))})})}async function zv(t,e,n){const r=vd(t,!0).put({[tE]:e,value:n});return new pl(r).toPromise()}async function gA(t,e){const n=vd(t,!1).get(e),r=await new pl(n).toPromise();return r===void 0?null:r.value}function Hv(t,e){const n=vd(t,!0).delete(e);return new pl(n).toPromise()}const yA=800,vA=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(fA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dA(),!this.activeServiceWorker)return;this.sender=new cA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await zv(e,Eu,"1"),await Hv(e,Eu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=vd(s,!1).getAll();return new pl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const wA=nE;new dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){return e?rr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends jg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bA(t){return Kk(t.auth,new Pg(t),t.bypassAuthState)}function kA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),G4(n,new Pg(t),t.bypassAuthState)}async function EA(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),q4(n,new Pg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bA;case"linkViaPopup":case"linkViaRedirect":return EA;case"reauthViaPopup":case"reauthViaRedirect":return kA;default:Nn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new dl(2e3,1e4);class Si extends rE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Si.currentPopupAction&&Si.currentPopupAction.cancel(),Si.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Si.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SA.get())};e()}}Si.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="pendingRedirect",Pc=new Map;class _A extends rE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const r=await CA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CA(t,e){const n=jA(e),r=IA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function TA(t,e){Pc.set(t._key(),e)}function IA(t){return rr(t._redirectPersistence)}function jA(t){return Dc(NA,t.config.apiKey,t.name)}async function AA(t,e,n=!1){const r=ti(t),s=xA(r,e),o=await new _A(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=10*60*1e3;class PA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DA&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(e))}saveEventToCache(e){this.cachedEventUids.add(Wv(e)),this.lastProcessedEventTime=Date.now()}}function Wv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$A=/^https?/;async function LA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RA(t);for(const n of e)try{if(FA(n))return}catch{}Nn(t,"unauthorized-domain")}function FA(t){const e=Cp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!$A.test(n))return!1;if(OA.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new dl(3e4,6e4);function qv(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BA(t){return new Promise((e,n)=>{var r,s,i;function o(){qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qv(),n(Fn(t,"network-request-failed"))},timeout:UA.get()})}if(!((s=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Un().gapi)===null||i===void 0)&&i.load)o();else{const a=T4("iframefcb");return Un()[a]=()=>{gapi.load?o():n(Fn(t,"network-request-failed"))},zk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function VA(t){return Mc=Mc||BA(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new dl(5e3,15e3),HA="__/auth/iframe",WA="emulator/auth/iframe",qA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KA(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cg(e,WA):`https://${t.config.authDomain}/${HA}`,r={apiKey:e.apiKey,appName:t.name,v:po},s=GA.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ul(r).slice(1)}`}async function QA(t){const e=await VA(t),n=Un().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:KA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qA,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Un().setTimeout(()=>{i(o)},zA.get());function l(){Un().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JA=500,XA=600,ZA="_blank",eD="http://localhost";class Gv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tD(t,e,n,r=JA,s=XA){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YA),{width:r.toString(),height:s.toString(),top:i,left:o}),u=It().toLowerCase();n&&(a=Mk(u)?ZA:n),Pk(u)&&(e=e||eD,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,g])=>`${f}${m}=${g},`,"");if(S4(u)&&a!=="_self")return nD(e||"",a),new Gv(null);const h=window.open(e||"",a,d);ae(h,t,"popup-blocked");try{h.focus()}catch{}return new Gv(h)}function nD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="__/auth/handler",sD="emulator/auth/handler",iD=encodeURIComponent("fac");async function Kv(t,e,n,r,s,i){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:po,eventId:s};if(e instanceof qk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RI(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof fl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${iD}=${encodeURIComponent(l)}`:"";return`${oD(t)}?${ul(a).slice(1)}${u}`}function oD({config:t}){return t.emulator?Cg(t,sD):`https://${t.authDomain}/${rD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xk,this._completeRedirectFn=AA,this._overrideRedirectResult=TA}async _openPopup(e,n,r,s){var i;hr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Kv(e,n,r,Cp(),s);return tD(e,o,Dg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Kv(e,n,r,Cp(),s);return uA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(hr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QA(e),r=new PA(e);return n.register("authEvent",s=>(ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zh,{type:Zh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Zh];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fk()||Ig()||gd()}}const lD=aD;var Qv="@firebase/auth",Yv="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function dD(t){Ki(new Mv("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(t)},u=new P4(r,s,i,l);return R4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new Mv("auth-internal",e=>{const n=ti(e.getProvider("auth").getImmediate());return(r=>new cD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(Qv,Yv,uD(t)),Rs(Qv,Yv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,fD=dk("authIdTokenMaxAge")||hD;let Jv=null;const pD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fD)return;const s=n==null?void 0:n.token;Jv!==s&&(Jv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mD(t=Ek()){const e=Sg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M4(t,{popupRedirectResolver:lD,persistence:[wA,aA,Xk]}),r=dk("authTokenSyncURL");if(r){const i=pD(r);tA(n,i,()=>i(n.currentUser)),eA(n,o=>i(o))}const s=CI("auth");return s&&O4(n,`http://${s}`),n}dD("Browser");var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||h==null)throw new yD;const f=i<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vD=function(t){const e=iE(t);return oE.encodeByteArray(e,!0)},Zv=function(t){return vD(t).replace(/\./g,"")},wD=function(t){try{return oE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=()=>xD().__FIREBASE_DEFAULTS__,kD=()=>{if(typeof process>"u"||typeof Xv>"u")return;const t=Xv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ED=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wD(t[1]);return e&&JSON.parse(e)},SD=()=>{try{return bD()||kD()||ED()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ND=t=>{var e,n;return(n=(e=SD())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_D=t=>{const e=ND(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zv(JSON.stringify(n)),Zv(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD="FirebaseError";class wd extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TD,Object.setPrototypeOf(this,wd.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ID.prototype.create)}}class ID{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?jD(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wd(s,a,r)}}function jD(t,e){return t.replace(AD,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t){return t&&t._delegate?t._delegate:t}class DD{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}var PD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Mg=Mg||{},ce=PD||self;function xd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bd(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MD(t){return Object.prototype.hasOwnProperty.call(t,ef)&&t[ef]||(t[ef]=++RD)}var ef="closure_uid_"+(1e9*Math.random()>>>0),RD=0;function OD(t,e,n){return t.call.apply(t.bind,arguments)}function $D(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function St(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?St=OD:St=$D,St.apply(null,arguments)}function ic(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ps(){this.s=this.s,this.o=this.o}var LD=0;ps.prototype.s=!1;ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),LD!=0)&&MD(this)};ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const aE=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ew(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xd(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var FD=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",()=>{},e),ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Fa(t){return/^[\s\xa0]*$/.test(t)}function kd(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Mn(t){return kd().indexOf(t)!=-1}function Og(t){return Og[" "](t),t}Og[" "]=function(){};function UD(t,e){var n=PP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var BD=Mn("Opera"),Xi=Mn("Trident")||Mn("MSIE"),lE=Mn("Edge"),Ip=lE||Xi,cE=Mn("Gecko")&&!(kd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),VD=kd().toLowerCase().indexOf("webkit")!=-1&&!Mn("Edge");function uE(){var t=ce.document;return t?t.documentMode:void 0}var jp;e:{var tf="",nf=function(){var t=kd();if(cE)return/rv:([^\);]+)(\)|;)/.exec(t);if(lE)return/Edge\/([\d\.]+)/.exec(t);if(Xi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(VD)return/WebKit\/(\S+)/.exec(t);if(BD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(nf&&(tf=nf?nf[1]:""),Xi){var rf=uE();if(rf!=null&&rf>parseFloat(tf)){jp=String(rf);break e}}jp=tf}var Ap;if(ce.document&&Xi){var tw=uE();Ap=tw||parseInt(jp,10)||void 0}else Ap=void 0;var zD=Ap;function Ua(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cE){e:{try{Og(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:HD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ua.$.h.call(this)}}ct(Ua,Nt);var HD={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ed="closure_listenable_"+(1e6*Math.random()|0),WD=0;function qD(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++WD,this.fa=this.ia=!1}function Sd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $g(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function dE(t){const e={};for(const n in t)e[n]=t[n];return e}const nw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hE(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<nw.length;i++)n=nw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Nd(t){this.src=t,this.g={},this.h=0}Nd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Pp(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new qD(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Dp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=aE(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Sd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pp(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Lg="closure_lm_"+(1e6*Math.random()|0),sf={};function fE(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)fE(t,e[i],n,r,s);return null}return n=gE(n),t&&t[Ed]?t.O(e,n,bd(r)?!!r.capture:!!r,s):KD(t,e,n,!1,r,s)}function KD(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=bd(s)?!!s.capture:!!s,a=Ug(t);if(a||(t[Lg]=a=new Nd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=QD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)FD||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(mE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QD(){function t(n){return e.call(t.src,t.listener,n)}const e=YD;return t}function pE(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)pE(t,e[i],n,r,s);else r=bd(r)?!!r.capture:!!r,n=gE(n),t&&t[Ed]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Pp(i,n,r,s),-1<n&&(Sd(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ug(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pp(e,n,r,s)),(n=-1<t?e[t]:null)&&Fg(n))}function Fg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ed])Dp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ug(e))?(Dp(n,t),n.h==0&&(n.src=null,e[Lg]=null)):Sd(t)}}}function mE(t){return t in sf?sf[t]:sf[t]="on"+t}function YD(t,e){if(t.fa)t=!0;else{e=new Ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fg(t),t=n.call(r,e)}return t}function Ug(t){return t=t[Lg],t instanceof Nd?t:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function gE(t){return typeof t=="function"?t:(t[of]||(t[of]=function(e){return t.handleEvent(e)}),t[of])}function lt(){ps.call(this),this.i=new Nd(this),this.S=this,this.J=null}ct(lt,ps);lt.prototype[Ed]=!0;lt.prototype.removeEventListener=function(t,e,n,r){pE(this,t,e,n,r)};function pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var s=e;e=new Nt(r,t),hE(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=oc(o,r,!0,e)&&s}if(o=e.g=t,s=oc(o,r,!0,e)&&s,s=oc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=oc(o,r,!1,e)&&s}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sd(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function oc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Dp(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Bg=ce.JSON.stringify;class JD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function XD(){var t=Vg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ZD{constructor(){this.h=this.g=null}add(e,n){const r=yE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var yE=new JD(()=>new eP,t=>t.reset());class eP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nP(t){ce.setTimeout(()=>{throw t},0)}let Ba,Va=!1,Vg=new ZD,vE=()=>{const t=ce.Promise.resolve(void 0);Ba=()=>{t.then(rP)}};var rP=()=>{for(var t;t=XD();){try{t.h.call(t.g)}catch(n){nP(n)}var e=yE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Va=!1};function _d(t,e){lt.call(this),this.h=t||1,this.g=e||ce,this.j=St(this.qb,this),this.l=Date.now()}ct(_d,lt);V=_d.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pt(this,"tick"),this.ga&&(zg(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){_d.$.N.call(this),zg(this),delete this.g};function Hg(t,e,n){if(typeof t=="function")n&&(t=St(t,n));else if(t&&typeof t.handleEvent=="function")t=St(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function wE(t){t.g=Hg(()=>{t.g=null,t.i&&(t.i=!1,wE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sP extends ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wE(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function za(t){ps.call(this),this.h=t,this.g={}}ct(za,ps);var rw=[];function xE(t,e,n,r){Array.isArray(n)||(n&&(rw[0]=n.toString()),n=rw);for(var s=0;s<n.length;s++){var i=fE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function bE(t){$g(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fg(e)},t),t.g={}}za.prototype.N=function(){za.$.N.call(this),bE(this)};za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Cd(){this.g=!0}Cd.prototype.Ea=function(){this.g=!1};function iP(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+u+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function oP(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ni(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lP(t,n)+(r?" "+r:"")})}function aP(t,e){t.info(function(){return"TIMEOUT: "+e})}Cd.prototype.info=function(){};function lP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Bg(n)}catch{return e}}var ni={},sw=null;function Td(){return sw=sw||new lt}ni.Ta="serverreachability";function kE(t){Nt.call(this,ni.Ta,t)}ct(kE,Nt);function Ha(t){const e=Td();pt(e,new kE(e))}ni.STAT_EVENT="statevent";function EE(t,e){Nt.call(this,ni.STAT_EVENT,t),this.stat=e}ct(EE,Nt);function At(t){const e=Td();pt(e,new EE(e,t))}ni.Ua="timingevent";function SE(t,e){Nt.call(this,ni.Ua,t),this.size=e}ct(SE,Nt);function ml(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Id={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},NE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Wg(){}Wg.prototype.h=null;function iw(t){return t.h||(t.h=t.i())}function _E(){}var gl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qg(){Nt.call(this,"d")}ct(qg,Nt);function Gg(){Nt.call(this,"c")}ct(Gg,Nt);var Mp;function jd(){}ct(jd,Wg);jd.prototype.g=function(){return new XMLHttpRequest};jd.prototype.i=function(){return{}};Mp=new jd;function yl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new za(this),this.P=cP,t=Ip?125:void 0,this.V=new _d(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CE}function CE(){this.i=null,this.g="",this.h=!1}var cP=45e3,Rp={},Nu={};V=yl.prototype;V.setTimeout=function(t){this.P=t};function Op(t,e,n){t.L=1,t.v=Dd(fr(e)),t.s=n,t.S=!0,TE(t,null)}function TE(t,e){t.G=Date.now(),vl(t),t.A=fr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),OE(n.i,"t",r),t.C=0,n=t.l.J,t.h=new CE,t.g=rS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sP(St(t.Pa,t,t.g),t.O)),xE(t.U,t.g,"readystatechange",t.nb),e=t.I?dE(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ha(),iP(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&Rn(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const d=Rn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Ip||this.g&&(this.h.h||this.g.ja()||cw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Ha(3):Ha(2)),Ad(this);var n=this.g.da();this.ca=n;t:if(IE(this)){var r=cw(this.g);t="";var s=r.length,i=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),da(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oP(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(a)){var u=a;break t}}u=null}if(n=u)Ni(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$p(this,n);else{this.i=!1,this.o=3,At(12),Ts(this),da(this);break e}}this.S?(jE(this,d,o),Ip&&this.i&&d==3&&(xE(this.U,this.V,"tick",this.mb),this.V.start())):(Ni(this.j,this.m,o,null),$p(this,o)),d==4&&Ts(this),this.i&&!this.J&&(d==4?ZE(this.l,this):(this.i=!1,vl(this)))}else jP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),Ts(this),da(this)}}}catch{}finally{}};function IE(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function jE(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=uP(t,n),s==Nu){e==4&&(t.o=4,At(14),r=!1),Ni(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Rp){t.o=4,At(15),Ni(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ni(t.j,t.m,s,null),$p(t,s);IE(t)&&s!=Nu&&s!=Rp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zg(e),e.M=!0,At(11))):(Ni(t.j,t.m,n,"[Invalid Chunked Response]"),Ts(t),da(t))}V.mb=function(){if(this.g){var t=Rn(this.g),e=this.g.ja();this.C<e.length&&(Ad(this),jE(this,t,e),this.i&&t!=4&&vl(this))}};function uP(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Nu:(n=Number(e.substring(n,r)),isNaN(n)?Rp:(r+=1,r+n>e.length?Nu:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,Ts(this)};function vl(t){t.Y=Date.now()+t.P,AE(t,t.P)}function AE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ml(St(t.lb,t),e)}function Ad(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(aP(this.j,this.A),this.L!=2&&(Ha(),At(17)),Ts(this),this.o=2,da(this)):AE(this,this.Y-t)};function da(t){t.l.H==0||t.J||ZE(t.l,t)}function Ts(t){Ad(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zg(t.V),bE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $p(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Lp(n.i,t))){if(!t.K&&Lp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Tu(n),Rd(n);else break e;Xg(n),At(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ml(St(n.ib,n),6e3));if(1>=FE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Is(n,11)}else if((t.K||n.g==t)&&Tu(n),!Fa(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const g=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var i=r.i;i.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Kg(i,i.h),i.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,De(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nS(r,r.J?r.pa:null,r.Y),o.K){UE(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Ad(a),vl(a)),r.g=o}else JE(r);0<n.j.length&&Od(n)}else u[0]!="stop"&&u[0]!="close"||Is(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Is(n,7):Jg(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ha(4)}catch{}}function dP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function DE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hP(t),r=dP(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var PE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function $s(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof $s){this.h=t.h,_u(this,t.j),this.s=t.s,this.g=t.g,Cu(this,t.m),this.l=t.l;var e=t.i,n=new Wa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ow(this,n),this.o=t.o}else t&&(e=String(t).match(PE))?(this.h=!1,_u(this,e[1]||"",!0),this.s=Qo(e[2]||""),this.g=Qo(e[3]||"",!0),Cu(this,e[4]),this.l=Qo(e[5]||"",!0),ow(this,e[6]||"",!0),this.o=Qo(e[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}$s.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yo(e,aw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yo(e,aw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Yo(n,n.charAt(0)=="/"?gP:mP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yo(n,vP)),t.join("")};function fr(t){return new $s(t)}function _u(t,e,n){t.j=n?Qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Cu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ow(t,e,n){e instanceof Wa?(t.i=e,wP(t.i,t.h)):(n||(e=Yo(e,yP)),t.i=new Wa(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Dd(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var aw=/[#\/\?@]/g,mP=/[#\?:]/g,gP=/[#\?]/g,yP=/[#\?@]/g,vP=/#/g;function Wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ms(t){t.g||(t.g=new Map,t.h=0,t.i&&fP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Wa.prototype;V.add=function(t,e){ms(this),this.i=null,t=go(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ME(t,e){ms(t),e=go(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RE(t,e){return ms(t),e=go(t,e),t.g.has(e)}V.forEach=function(t,e){ms(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};V.ta=function(){ms(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};V.Z=function(t){ms(this);let e=[];if(typeof t=="string")RE(this,t)&&(e=e.concat(this.g.get(go(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return ms(this),this.i=null,t=go(this,t),RE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function OE(t,e,n){ME(t,e),0<n.length&&(t.i=null,t.g.set(go(t,e),Rg(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function go(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wP(t,e){e&&!t.j&&(ms(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ME(this,r),OE(this,s,n))},t)),t.j=e}var xP=class{constructor(t,e){this.g=t,this.map=e}};function $E(t){this.l=t||bP,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bP=10;function LE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function FE(t){return t.h?1:t.g?t.g.size:0}function Lp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Kg(t,e){t.g?t.g.add(e):t.h=e}function UE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}$E.prototype.cancel=function(){if(this.i=BE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function BE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rg(t.i)}var kP=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function EP(){this.g=new kP}function SP(t,e,n){const r=n||"";try{DE(t,function(s,i){let o=s;bd(s)&&(o=Bg(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function NP(t,e){const n=new Cd;if(ce.Image){const r=new Image;r.onload=ic(ac,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ic(ac,n,r,"TestLoadImage: error",!1,e),r.onabort=ic(ac,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ic(ac,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ac(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function wl(t){this.l=t.fc||null,this.j=t.ob||!1}ct(wl,Wg);wl.prototype.g=function(){return new Pd(this.l,this.j)};wl.prototype.i=function(t){return function(){return t}}({});function Pd(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ct(Pd,lt);var Qg=0;V=Pd.prototype;V.open=function(t,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qa(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xl(this)),this.readyState=Qg};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qa(this)),this.g&&(this.readyState=3,qa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function VE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xl(this):qa(this),this.readyState==3&&VE(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,xl(this))};V.Ya=function(t){this.g&&(this.response=t,xl(this))};V.ka=function(){this.g&&xl(this)};function xl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qa(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function qa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _P=ce.JSON.parse;function He(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zE,this.L=this.M=!1}ct(He,lt);var zE="",CP=/^https?$/i,TP=["POST","PUT"];V=He.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Mp.g(),this.C=this.u?iw(this.u):iw(Mp),this.g.onreadystatechange=St(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){lw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ce.FormData&&t instanceof ce.FormData,!(0<=aE(TP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qE(this),0<this.B&&((this.L=IP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=St(this.ua,this)):this.A=Hg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){lw(this,i)}};function IP(t){return Xi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof Mg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))};function lw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HE(t),Md(t)}function HE(t){t.F||(t.F=!0,pt(t,"complete"),pt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),Md(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Md(this,!0)),He.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?WE(this):this.kb())};V.kb=function(){WE(this)};function WE(t){if(t.h&&typeof Mg<"u"&&(!t.C[1]||Rn(t)!=4||t.da()!=2)){if(t.v&&Rn(t)==4)Hg(t.La,0,t);else if(pt(t,"readystatechange"),Rn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(PE)[1]||null;!s&&ce.self&&ce.self.location&&(s=ce.self.location.protocol.slice(0,-1)),r=!CP.test(s?s.toLowerCase():"")}n=r}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var i=2<Rn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",HE(t)}}finally{Md(t)}}}}function Md(t,e){if(t.g){qE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function qE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function Rn(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_P(e)}};function cw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(t){const e={};t=(t.g&&2<=Rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fa(t[r]))continue;var n=tP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}GD(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GE(t){let e="";return $g(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KE(t){this.Ga=0,this.j=[],this.l=new Cd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ro("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ro("baseRetryDelayMs",5e3,t),this.hb=Ro("retryDelaySeedMs",1e4,t),this.eb=Ro("forwardChannelMaxRetries",2,t),this.xa=Ro("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $E(t&&t.concurrentRequestLimit),this.Ja=new EP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=KE.prototype;V.ra=8;V.H=1;function Jg(t){if(QE(t),t.H==3){var e=t.W++,n=fr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),bl(t,n),e=new yl(t,t.l,e),e.L=2,e.v=Dd(fr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=rS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),vl(e)}tS(t)}function Rd(t){t.g&&(Zg(t),t.g.cancel(),t.g=null)}function QE(t){Rd(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Tu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Od(t){if(!LE(t.i)&&!t.m){t.m=!0;var e=t.Na;Ba||vE(),Va||(Ba(),Va=!0),Vg.add(e,t),t.C=0}}function AP(t,e){return FE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ml(St(t.Na,t,e),eS(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new yl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=dE(i),hE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YE(this,s,e),n=fr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),bl(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(GE(i)))+"&"+e:this.o&&Yg(n,this.o,i)),Kg(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,Op(s,n,null)):Op(s,n,e),this.H=2}}else this.H==3&&(t?uw(this,t):this.j.length==0||LE(this.i)||uw(this))};function uw(t,e){var n;e?n=e.m:n=t.W++;const r=fr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),bl(t,r),t.o&&t.s&&Yg(r,t.o,t.s),n=new yl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Kg(t.i,n),Op(n,r,e)}function bl(t,e){t.na&&$g(t.na,function(n,r){De(e,r,n)}),t.h&&DE({},function(n,r){De(e,r,n)})}function YE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?St(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{SP(d,o,"req"+u+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function JE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ba||vE(),Va||(Ba(),Va=!0),Vg.add(e,t),t.A=0}}function Xg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ml(St(t.Ma,t),eS(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,XE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ml(St(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,At(10),Rd(this),XE(this))};function Zg(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function XE(t){t.g=new yl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),bl(t,e),t.o&&t.s&&Yg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Dd(fr(e)),n.s=null,n.S=!0,TE(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Rd(this),Xg(this),At(19))};function Tu(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function ZE(t,e){var n=null;if(t.g==e){Tu(t),Zg(t),t.g=null;var r=2}else if(Lp(t.i,e))n=e.F,UE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Td(),pt(r,new SE(r,n)),Od(t)}else JE(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&AP(t,e)||r==2&&Xg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Is(t,5);break;case 4:Is(t,10);break;case 3:Is(t,6);break;default:Is(t,2)}}}function eS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Is(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=St(t.pb,t);n||(n=new $s("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||_u(n,"https"),Dd(n)),NP(n.toString(),r)}else At(2);t.H=0,t.h&&t.h.za(e),tS(t),QE(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),At(2)):(this.l.info("Failed to ping google.com"),At(1))};function tS(t){if(t.H=0,t.ma=[],t.h){const e=BE(t.i);(e.length!=0||t.j.length!=0)&&(ew(t.ma,e),ew(t.ma,t.j),t.i.i.length=0,Rg(t.j),t.j.length=0),t.h.ya()}}function nS(t,e,n){var r=n instanceof $s?fr(n):new $s(n);if(r.g!="")e&&(r.g=e+"."+r.g),Cu(r,r.m);else{var s=ce.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new $s(null);r&&_u(i,r),e&&(i.g=e),s&&Cu(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),bl(t,r),r}function rS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new He(new wl({ob:!0})):new He(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function sS(){}V=sS.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Iu(){if(Xi&&!(10<=Number(zD)))throw Error("Environmental error: no available transport.")}Iu.prototype.g=function(t,e){return new Yt(t,e)};function Yt(t,e){lt.call(this),this.g=new KE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new yo(this)}ct(Yt,lt);Yt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nS(t,null,t.Y),Od(t)};Yt.prototype.close=function(){Jg(this.g)};Yt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bg(t),t=n);e.j.push(new xP(e.fb++,t)),e.H==3&&Od(e)};Yt.prototype.N=function(){this.g.h=null,delete this.j,Jg(this.g),delete this.g,Yt.$.N.call(this)};function iS(t){qg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ct(iS,qg);function oS(){Gg.call(this),this.status=1}ct(oS,Gg);function yo(t){this.g=t}ct(yo,sS);yo.prototype.Ba=function(){pt(this.g,"a")};yo.prototype.Aa=function(t){pt(this.g,new iS(t))};yo.prototype.za=function(t){pt(this.g,new oS)};yo.prototype.ya=function(){pt(this.g,"b")};function DP(){this.blockSize=-1}function _n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ct(_n,DP);_n.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function af(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}_n.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)af(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){af(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){af(this,r),s=0;break}}this.h=s,this.i+=e};_n.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Te(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var PP={};function e0(t){return-128<=t&&128>t?UD(t,function(e){return new Te([e|0],0>e?-1:0)}):new Te([t|0],0>t?-1:0)}function On(t){if(isNaN(t)||!isFinite(t))return Mi;if(0>t)return ht(On(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Fp;return new Te(e,0)}function aS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ht(aS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=On(Math.pow(e,8)),r=Mi,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=On(Math.pow(e,i)),r=r.R(i).add(On(o))):(r=r.R(n),r=r.add(On(o)))}return r}var Fp=4294967296,Mi=e0(0),Up=e0(1),dw=e0(16777216);V=Te.prototype;V.ea=function(){if(sn(this))return-ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Fp+r)*e,e*=Fp}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(sn(this))return"-"+ht(this).toString(t);for(var e=On(Math.pow(t,6)),n=this,r="";;){var s=Au(n,e).g;n=ju(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,sr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function sn(t){return t.h==-1}V.X=function(t){return t=ju(this,t),sn(t)?-1:sr(t)?0:1};function ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Te(n,~t.h).add(Up)}V.abs=function(){return sn(this)?ht(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Te(n,n[n.length-1]&-2147483648?-1:0)};function ju(t,e){return t.add(ht(e))}V.R=function(t){if(sr(this)||sr(t))return Mi;if(sn(this))return sn(t)?ht(this).R(ht(t)):ht(ht(this).R(t));if(sn(t))return ht(this.R(ht(t)));if(0>this.X(dw)&&0>t.X(dw))return On(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,lc(n,2*r+2*s),n[2*r+2*s+1]+=i*l,lc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,lc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,lc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Te(n,0)};function lc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Oo(t,e){this.g=t,this.h=e}function Au(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new Oo(Mi,Mi);if(sn(t))return e=Au(ht(t),e),new Oo(ht(e.g),ht(e.h));if(sn(e))return e=Au(t,ht(e)),new Oo(ht(e.g),e.h);if(30<t.g.length){if(sn(t)||sn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Up,r=e;0>=r.X(t);)n=hw(n),r=hw(r);var s=li(n,1),i=li(r,1);for(r=li(r,2),n=li(n,2);!sr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=li(r,1),n=li(n,1)}return e=ju(t,s.R(e)),new Oo(s,e)}for(s=Mi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=On(n),o=i.R(e);sn(o)||0<o.X(t);)n-=r,i=On(n),o=i.R(e);sr(i)&&(i=Up),s=s.add(i),t=ju(t,o)}return new Oo(s,t)}V.gb=function(t){return Au(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Te(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Te(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Te(n,this.h^t.h)};function hw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Te(n,t.h)}function li(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Te(s,t.h)}Iu.prototype.createWebChannel=Iu.prototype.g;Yt.prototype.send=Yt.prototype.u;Yt.prototype.open=Yt.prototype.m;Yt.prototype.close=Yt.prototype.close;Id.NO_ERROR=0;Id.TIMEOUT=8;Id.HTTP_ERROR=6;NE.COMPLETE="complete";_E.EventType=gl;gl.OPEN="a";gl.CLOSE="b";gl.ERROR="c";gl.MESSAGE="d";lt.prototype.listen=lt.prototype.O;He.prototype.listenOnce=He.prototype.P;He.prototype.getLastError=He.prototype.Sa;He.prototype.getLastErrorCode=He.prototype.Ia;He.prototype.getStatus=He.prototype.da;He.prototype.getResponseJson=He.prototype.Wa;He.prototype.getResponseText=He.prototype.ja;He.prototype.send=He.prototype.ha;He.prototype.setWithCredentials=He.prototype.Oa;_n.prototype.digest=_n.prototype.l;_n.prototype.reset=_n.prototype.reset;_n.prototype.update=_n.prototype.j;Te.prototype.add=Te.prototype.add;Te.prototype.multiply=Te.prototype.R;Te.prototype.modulo=Te.prototype.gb;Te.prototype.compare=Te.prototype.X;Te.prototype.toNumber=Te.prototype.ea;Te.prototype.toString=Te.prototype.toString;Te.prototype.getBits=Te.prototype.D;Te.fromNumber=On;Te.fromString=aS;var MP=function(){return new Iu},RP=function(){return Td()},lf=Id,OP=NE,$P=ni,fw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},LP=wl,cc=_E,FP=He,UP=_n,Ri=Te;const pw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new kg("@firebase/firestore");function mw(){return Gs.logLevel}function X(t,...e){if(Gs.logLevel<=xe.DEBUG){const n=e.map(t0);Gs.debug(`Firestore (${vo}): ${t}`,...n)}}function pr(t,...e){if(Gs.logLevel<=xe.ERROR){const n=e.map(t0);Gs.error(`Firestore (${vo}): ${t}`,...n)}}function Zi(t,...e){if(Gs.logLevel<=xe.WARN){const n=e.map(t0);Gs.warn(`Firestore (${vo}): ${t}`,...n)}}function t0(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Re(t,e){t||le()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let J=class extends wd{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lS=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},BP=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}},VP=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zP=class{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new lS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new xt(e)}},HP=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},WP=class{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new HP(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qP=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},GP=class{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.T=n.token,new qP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cS=class{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=KP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function eo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ze(0,0))}static max(){return new ue(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ga.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ga?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Pe extends Ga{construct(e,n,r){return new Pe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Pe(n)}static emptyPath(){return new Pe([])}}const QP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Ga{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return QP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Pe.fromString(e))}static fromName(e){return new se(Pe.fromString(e).popFirst(5))}static empty(){return new se(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Pe(e.slice()))}}function YP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new ss(s,se.empty(),e)}function JP(t){return new ss(t.readTime,t.key,-1)}class ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ss(ue.min(),se.empty(),-1)}static max(){return new ss(ue.max(),se.empty(),-1)}}function XP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==ZP)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}n0.ct=-1;function $d(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function tM(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let et=class Bp{constructor(e,n){this.comparator=e,this.root=n||Zr.EMPTY}insert(e,n){return new Bp(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Bp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}};class uc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}let Zr=class Jn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=s??Jn.EMPTY,this.right=i??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Jn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Jn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1;Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Zr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yw(this.data.getIterator())}getIteratorFrom(e){return new yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}let yw=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new xn([])}unionWith(e){let n=new _t(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jt=class Vp{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dS("Invalid base64 string: "+s):s}}(e);return new Vp(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Vp(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Jt.EMPTY_BYTE_STRING=new Jt("");const nM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(Re(!!t),typeof t=="string"){let e=0;const n=nM.exec(t);if(Re(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?Jt.fromBase64String(t):Jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s0(t){const e=t.mapValue.fields.__previous_value__;return r0(e)?s0(e):e}function Ka(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rM=class{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}};class Qa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r0(t)?4:sM(t)?9007199254740991:10:le()}function Hn(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ka(t).isEqual(Ka(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=is(r.timestampValue),o=is(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ks(r.bytesValue).isEqual(Ks(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Qe(r.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qe(r.integerValue)===Qe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Qe(r.doubleValue),o=Qe(s.doubleValue);return i===o?Du(i)===Du(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return eo(t.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(gw(i)!==gw(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Hn(i[a],o[a])))return!1;return!0}(t,e);default:return le()}}function Ya(t,e){return(t.values||[]).find(n=>Hn(n,e))!==void 0}function to(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Qe(s.integerValue||s.doubleValue),a=Qe(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return vw(t.timestampValue,e.timestampValue);case 4:return vw(Ka(t),Ka(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Ks(s),a=Ks(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=Se(o[l],a[l]);if(u!==0)return u}return Se(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=Se(Qe(s.latitude),Qe(i.latitude));return o!==0?o:Se(Qe(s.longitude),Qe(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=to(o[l],a[l]);if(u)return u}return Se(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===dc.mapValue&&i===dc.mapValue)return 0;if(s===dc.mapValue)return 1;if(i===dc.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=Se(a[d],u[d]);if(h!==0)return h;const f=to(o[a[d]],l[u[d]]);if(f!==0)return f}return Se(a.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=is(t),r=is(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function no(t){return zp(t)}function zp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=is(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ks(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,se.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=zp(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${zp(r.fields[a])}`;return i+"}"}(t.mapValue):le();var e,n}function ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hp(t){return!!t&&"integerValue"in t}function i0(t){return!!t&&"arrayValue"in t}function xw(t){return!!t&&"nullValue"in t}function bw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}function ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ha(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ha(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new on(ha(this.value))}}function hS(t){const e=[];return wo(t.fields,(n,r)=>{const s=new Et([n]);if(Rc(r)){const i=hS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,ue.min(),ue.min(),ue.min(),on.empty(),0)}static newFoundDocument(e,n,r,s){return new kt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new kt(e,2,n,ue.min(),ue.min(),on.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,ue.min(),ue.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n){this.position=e,this.inclusive=n}}function kw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=to(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ew(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n="asc"){this.field=e,this.dir=n}}function iM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class Xe extends fS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aM(e,n,r):n==="array-contains"?new uM(e,r):n==="in"?new dM(e,r):n==="not-in"?new hM(e,r):n==="array-contains-any"?new fM(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lM(e,r):new cM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(to(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(to(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Cn(e,n)}matches(e){return pS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function pS(t){return t.op==="and"}function mS(t){return oM(t)&&pS(t)}function oM(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function Wp(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+no(t.value);if(mS(t))return t.filters.map(e=>Wp(e)).join(",");{const e=t.filters.map(n=>Wp(n)).join(",");return`${t.op}(${e})`}}function gS(t,e){return t instanceof Xe?function(n,r){return r instanceof Xe&&n.op===r.op&&n.field.isEqual(r.field)&&Hn(n.value,r.value)}(t,e):t instanceof Cn?function(n,r){return r instanceof Cn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&gS(i,r.filters[o]),!0):!1}(t,e):void le()}function yS(t){return t instanceof Xe?function(e){return`${e.field.canonicalString()} ${e.op} ${no(e.value)}`}(t):t instanceof Cn?function(e){return e.op.toString()+" {"+e.getFilters().map(yS).join(" ,")+"}"}(t):"Filter"}class aM extends Xe{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class lM extends Xe{constructor(e,n){super(e,"in",n),this.keys=vS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cM extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=vS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class uM extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i0(n)&&Ya(n.arrayValue,this.value)}}class dM extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ya(this.value.arrayValue,n)}}class hM extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ya(this.value.arrayValue,n)}}class fM extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ya(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Sw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new pM(t,e,n,r,s,i,o)}function o0(t){const e=he(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),e.dt=n}return e.dt}function a0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ew(t.startAt,e.startAt)&&Ew(t.endAt,e.endAt)}function qp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function mM(t,e,n,r,s,i,o,a){return new Sl(t,e,n,r,s,i,o,a)}function wS(t){return new Sl(t)}function Nw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function l0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bS(t){return t.collectionGroup!==null}function Oi(t){const e=he(t);if(e.wt===null){e.wt=[];const n=l0(e),r=xS(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new fa(n)),e.wt.push(new fa(Et.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new fa(Et.keyField(),i))}}}return e.wt}function mr(t){const e=he(t);if(!e._t)if(e.limitType==="F")e._t=Sw(e.path,e.collectionGroup,Oi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Oi(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new fa(i.field,o))}const r=e.endAt?new Pu(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Pu(e.startAt.position,e.startAt.inclusive):null;e._t=Sw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Gp(t,e){e.getFirstInequalityField(),l0(t);const n=t.filters.concat([e]);return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kp(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ld(t,e){return a0(mr(t),mr(e))&&t.limitType===e.limitType}function kS(t){return`${o0(mr(t))}|lt:${t.limitType}`}function Qp(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>yS(r)).join(", ")}]`),$d(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>no(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>no(r)).join(",")),`Target(${n})`}(mr(t))}; limitType=${t.limitType})`}function Fd(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):se.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Oi(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=kw(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,Oi(n),r)||n.endAt&&!function(s,i,o){const a=kw(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,Oi(n),r))}(t,e)}function gM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ES(t){return(e,n)=>{let r=!1;for(const s of Oi(t)){const i=yM(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function yM(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),l=o.data.field(s);return a!==null&&l!==null?to(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new et(se.comparator);function gr(){return vM}const SS=new et(se.comparator);function Jo(...t){let e=SS;for(const n of t)e=e.insert(n.key,n);return e}function NS(t){let e=SS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function js(){return pa()}function _S(){return pa()}function pa(){return new xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const wM=new et(se.comparator),xM=new _t(se.comparator);function ge(...t){let e=xM;for(const n of t)e=e.add(n);return e}const bM=new _t(Se);function kM(){return bM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function TS(t){return{integerValue:""+t}}function EM(t,e){return tM(e)?TS(e):CS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(){this._=void 0}}function SM(t,e,n){return t instanceof Mu?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&r0(s)&&(s=s0(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Ja?jS(t,e):t instanceof Xa?AS(t,e):function(r,s){const i=IS(r,s),o=_w(i)+_w(r.gt);return Hp(i)&&Hp(r.gt)?TS(o):CS(r.serializer,o)}(t,e)}function NM(t,e,n){return t instanceof Ja?jS(t,e):t instanceof Xa?AS(t,e):n}function IS(t,e){return t instanceof Ru?Hp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Mu extends Ud{}class Ja extends Ud{constructor(e){super(),this.elements=e}}function jS(t,e){const n=DS(e);for(const r of t.elements)n.some(s=>Hn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Xa extends Ud{constructor(e){super(),this.elements=e}}function AS(t,e){let n=DS(e);for(const r of t.elements)n=n.filter(s=>!Hn(s,r));return{arrayValue:{values:n}}}class Ru extends Ud{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _w(t){return Qe(t.integerValue||t.doubleValue)}function DS(t){return i0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _M(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ja&&r instanceof Ja||n instanceof Xa&&r instanceof Xa?eo(n.elements,r.elements,Hn):n instanceof Ru&&r instanceof Ru?Hn(n.gt,r.gt):n instanceof Mu&&r instanceof Mu}(t.transform,e.transform)}class CM{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function PS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new c0(t.key,Bn.none()):new Nl(t.key,t.data,Bn.none());{const n=t.data,r=on.empty();let s=new _t(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ri(t.key,r,new xn(s.toArray()),Bn.none())}}function TM(t,e,n){t instanceof Nl?function(r,s,i){const o=r.value.clone(),a=Tw(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ri?function(r,s,i){if(!Oc(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Tw(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(MS(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function ma(t,e,n,r){return t instanceof Nl?function(s,i,o,a){if(!Oc(s.precondition,i))return o;const l=s.value.clone(),u=Iw(s.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ri?function(s,i,o,a){if(!Oc(s.precondition,i))return o;const l=Iw(s.fieldTransforms,a,i),u=i.data;return u.setAll(MS(s)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,i,o){return Oc(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function IM(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=IS(r.transform,s||null);i!=null&&(n===null&&(n=on.empty()),n.set(r.field,i))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&eo(n,r,(s,i)=>_M(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nl extends Bd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ri extends Bd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function MS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tw(t,e,n){const r=new Map;Re(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,NM(o,a,n[s]))}return r}function Iw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,SM(i,o,e))}return r}class c0 extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jM extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&TM(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ma(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_S();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=PS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&eo(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class u0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length);let s=wM;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new u0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,ve;function MM(t){switch(t){default:return le();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function RS(t){if(t===void 0)return pr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ke.OK:return P.OK;case Ke.CANCELLED:return P.CANCELLED;case Ke.UNKNOWN:return P.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return P.INTERNAL;case Ke.UNAVAILABLE:return P.UNAVAILABLE;case Ke.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ke.NOT_FOUND:return P.NOT_FOUND;case Ke.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ke.ABORTED:return P.ABORTED;case Ke.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ke.DATA_LOSS:return P.DATA_LOSS;default:return le()}}(ve=Ke||(Ke={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return hc}static getOrCreateInstance(){return hc===null&&(hc=new d0),hc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let hc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=new Ri([4294967295,4294967295],0);function jw(t){const e=RM().encode(t),n=new UP;return n.update(e),new Uint8Array(n.digest())}function Aw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([s,i],0)]}class h0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(r<0)throw new Xo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ri.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Ri.fromNumber(r)));return s.compare(OM)===1&&(s=new Ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=jw(e),[r,s]=Aw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new h0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=jw(e),[r,s]=Aw(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,_l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vd(ue.min(),s,new et(Se),gr(),ge())}}class _l{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _l(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class OS{constructor(e,n){this.targetId=e,this.Vt=n}}class $S{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Dw{constructor(){this.St=0,this.Dt=Mw(),this.Ct=Jt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ge(),n=ge(),r=ge();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le()}}),new _l(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Mw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $M{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gr(),this.zt=Pw(),this.Wt=new et(Se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(qp(o))if(s===0){const a=new se(o.path);this.Yt(r,a,kt.newNoDocument(a,ue.min()))}else Re(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=d0.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,h){var f,m,g,w,S,p;const y={localCacheCount:d,existenceFilterCount:h.count},v=h.unchangedNames;return v&&(y.bloomFilter={applied:u===0,hashCount:(f=v==null?void 0:v.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(g=(m=v==null?void 0:v.bits)===null||m===void 0?void 0:m.bitmap)===null||g===void 0?void 0:g.length)!==null&&w!==void 0?w:0,padding:(p=(S=v==null?void 0:v.bits)===null||S===void 0?void 0:S.padding)!==null&&p!==void 0?p:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=Ks(i).toUint8Array()}catch(d){if(d instanceof dS)return Zi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new h0(l,o,a)}catch(d){return Zi(d instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&qp(a.target)){const l=new se(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,kt.newNoDocument(l,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=ge();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Vd(e,n,this.Wt,this.jt,r);return this.jt=gr(),this.zt=Pw(),this.Wt=new et(Se),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Dw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new _t(Se),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Dw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Pw(){return new et(se.comparator)}function Mw(){return new et(se.comparator)}const LM={asc:"ASCENDING",desc:"DESCENDING"},FM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"};class BM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yp(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VM(t,e){return Ou(t,e.toTimestamp())}function Vn(t){return Re(!!t),ue.fromTimestamp(function(e){const n=is(e);return new Ze(n.seconds,n.nanos)}(t))}function f0(t,e){return function(n){return new Pe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function FS(t){const e=Pe.fromString(t);return Re(zS(e)),e}function Jp(t,e){return f0(t.databaseId,e.path)}function cf(t,e){const n=FS(e);if(n.get(1)!==t.databaseId.projectId)throw new J(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(US(n))}function Xp(t,e){return f0(t.databaseId,e)}function zM(t){const e=FS(t);return e.length===4?Pe.emptyPath():US(e)}function Zp(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function US(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:Jp(t,e),fields:n.value.mapValue.fields}}function HM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Re(u===void 0||typeof u=="string"),Jt.fromBase64String(u||"")):(Re(u===void 0||u instanceof Uint8Array),Jt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?P.UNKNOWN:RS(l.code);return new J(u,l.message||"")}(o);n=new $S(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cf(t,r.document.name),i=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):ue.min(),a=new on({mapValue:{fields:r.document.fields}}),l=kt.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new $c(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cf(t,r.document),i=r.readTime?Vn(r.readTime):ue.min(),o=kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new $c([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cf(t,r.document),i=r.removedTargetIds||[];n=new $c([],i,s,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new PM(s,i),a=r.targetId;n=new OS(a,o)}}return n}function WM(t,e){let n;if(e instanceof Nl)n={update:Rw(t,e.key,e.value)};else if(e instanceof c0)n={delete:Jp(t,e.key)};else if(e instanceof ri)n={update:Rw(t,e.key,e.data),updateMask:eR(e.fieldMask)};else{if(!(e instanceof jM))return le();n={verify:Jp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Mu)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ja)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xa)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ru)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:VM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function qM(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Vn(r.updateTime):Vn(s);return i.isEqual(ue.min())&&(i=Vn(s)),new CM(i,r.transformResults||[])}(n,e))):[]}function GM(t,e){return{documents:[Xp(t,e.path)]}}function KM(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Xp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Xp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return VS(Cn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:ui(d.field),direction:JM(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Yp(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function QM(t){let e=zM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(d){const h=BS(d);return h instanceof Cn&&mS(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(d=>function(h){return new fa(di(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,$d(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Pu(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Pu(f,h)}(n.endAt)),mM(e,s,o,i,a,"F",l,u)}function YM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=di(e.unaryFilter.field);return Xe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=di(e.unaryFilter.field);return Xe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=di(e.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=di(e.unaryFilter.field);return Xe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(e){return Xe.create(di(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Cn.create(e.compositeFilter.filters.map(n=>BS(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(t):le()}function JM(t){return LM[t]}function XM(t){return FM[t]}function ZM(t){return UM[t]}function ui(t){return{fieldPath:t.canonicalString()}}function di(t){return Et.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof Xe?function(e){if(e.op==="=="){if(bw(e.value))return{unaryFilter:{field:ui(e.field),op:"IS_NAN"}};if(xw(e.value))return{unaryFilter:{field:ui(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(bw(e.value))return{unaryFilter:{field:ui(e.field),op:"IS_NOT_NAN"}};if(xw(e.value))return{unaryFilter:{field:ui(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ui(e.field),op:XM(e.op),value:e.value}}}(t):t instanceof Cn?function(e){const n=e.getFilters().map(r=>VS(r));return n.length===1?n[0]:{compositeFilter:{op:ZM(e.op),filters:n}}}(t):le()}function eR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.fe=e}}function nR(t){const e=QM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.rn=new sR}addToCollectionParentIndex(e,n){return this.rn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(ss.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class sR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Pe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ro(0)}static Mn(){return new ro(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ma(r.mutation,s,xn.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Jo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gr();const o=pa(),a=pa();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ri)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ma(d.mutation,u,d.mutation.getFieldMask(),Ze.now())):o.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new oR(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pa();let s=new et((o,a)=>o-a),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||xn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ge()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=_S();d.forEach(f=>{if(!i.has(f)){const m=PS(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(js());let a=-1,l=i;return o.next(u=>L.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ge())).next(d=>({batchId:a,changes:NS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Jo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Jo();return this.indexManager.getCollectionParents(e,s).next(o=>L.forEach(o,a=>{const l=function(u,d){return new Sl(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,kt.newInvalidDocument(u)))});let o=Jo();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&ma(u.mutation,l,xn.empty(),Ze.now()),Fd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return L.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Vn(r.createTime)}),L.resolve()}getNamedQuery(e,n){return L.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:nR(r.bundledQuery),readTime:Vn(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new et(se.comparator),this.ls=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=js();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=js(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=js(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=js(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return L.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DM(n,r));let i=this.ls.get(n);i===void 0&&(i=ge(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.fs=new _t(it.ds),this.ws=new _t(it._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new it(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new it(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new se(new Pe([])),r=new it(n,e),s=new it(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new se(new Pe([])),r=new it(n,e),s=new it(n,e+1);let i=ge();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new it(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class it{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return se.comparator(e.key,n.key)||Se(e.As,n.As)}static _s(e,n){return Se(e.As,n.As)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new _t(it.ds)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AM(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new it(n,0),s=new it(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Se);return n.forEach(s=>{const i=new it(s,0),o=new it(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),L.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new it(new se(i),0);let a=new _t(Se);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},o),L.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return L.forEach(n.mutations,s=>{const i=new it(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new it(n,0),s=this.Rs.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.Ds=e,this.docs=new et(se.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||XP(JP(d),r)<=0||(s.has(d.key)||Fd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le()}Cs(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hR(this)}getSize(e){return L.resolve(this.size)}}class hR extends iR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.xs=new xo(n=>o0(n),a0),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Ns=0,this.ks=new p0,this.targetCount=0,this.Ms=ro.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),L.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Fn(n),L.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.$s={},this.overlays={},this.Os=new n0(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fR(this),this.indexManager=new rR,this.remoteDocumentCache=function(r){return new dR(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new tR(n),this.qs=new lR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new uR(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new mR(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return L.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class mR extends eM{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Qs=new p0,this.js=null}static zs(e){return new m0(e)}get Ws(){if(this.js)return this.js;throw le()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),L.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Ws,r=>{const s=se.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return L.or([()=>L.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Nw(n))return L.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Kp(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(e,Kp(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return Nw(n)||s.isEqual(ue.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(mw()<=xe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qp(n)),this.Wi(e,o,n,YP(s,-1)))})}ji(e,n){let r=new _t(ES(e));return n.forEach((s,i)=>{Fd(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return mw()<=xe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Qp(n)),this.Ui.getDocumentsMatchingQuery(e,n,ss.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new et(Se),this.Yi=new xo(i=>o0(i),a0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function vR(t,e,n,r){return new yR(t,e,n,r)}async function HS(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ge();for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function wR(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const d=l.batch,h=d.keys();let f=L.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(g=>{const w=l.docVersions.get(m);Re(w!==null),g.version.compareTo(w)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ge();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function WS(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function xR(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(i,d.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Jt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(g,w,S){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(f,m,d)&&a.push(n.Bs.updateTargetData(i,m))});let l=gr(),u=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(bR(i,o,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(ue.min())){const d=n.Bs.getLastRemoteSnapshotVersion(i).next(h=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Ji=s,i))}function bR(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:s}})}function kR(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ER(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,L.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new Fr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function em(t,e,n){const r=he(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!El(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Ow(t,e,n){const r=he(t);let s=ue.min(),i=ge();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const d=he(a),h=d.Yi.get(u);return h!==void 0?L.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,u)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:ge())).next(a=>(SR(r,gM(e),a),{documents:a,ir:i})))}function SR(t,e,n){let r=t.Xi.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class $w{constructor(){this.activeTargetIds=kM()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.Hr=new $w,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function uf(){return fc===null?fc=268435456+Math.round(2147483648*Math.random()):fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class IR extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=uf(),a=this.To(e,n);X("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,s,i),this.Ao(e,a,l,r).then(u=>(X("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Zi("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+vo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=CR[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=uf();return new Promise((o,a)=>{const l=new FP;l.setWithCredentials(!0),l.listenOnce(OP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lf.NO_ERROR:const d=l.getResponseJson();X(vt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case lf.TIMEOUT:X(vt,`RPC '${e}' ${i} timed out`),a(new J(P.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const h=l.getStatus();if(X(vt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const g=function(w){const S=w.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(S)>=0?S:P.UNKNOWN}(m.status);a(new J(g,m.message))}else a(new J(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(P.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(vt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);X(vt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=uf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MP(),a=RP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new LP({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");X(vt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,m=!1;const g=new TR({ro:S=>{m?X(vt,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(f||(X(vt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(vt,`RPC '${e}' stream ${s} sending:`,S),h.send(S))},oo:()=>h.close()}),w=(S,p,y)=>{S.listen(p,v=>{try{y(v)}catch(k){setTimeout(()=>{throw k},0)}})};return w(h,cc.EventType.OPEN,()=>{m||X(vt,`RPC '${e}' stream ${s} transport opened.`)}),w(h,cc.EventType.CLOSE,()=>{m||(m=!0,X(vt,`RPC '${e}' stream ${s} transport closed`),g.wo())}),w(h,cc.EventType.ERROR,S=>{m||(m=!0,Zi(vt,`RPC '${e}' stream ${s} transport errored:`,S),g.wo(new J(P.UNAVAILABLE,"The operation could not be completed")))}),w(h,cc.EventType.MESSAGE,S=>{var p;if(!m){const y=S.data[0];Re(!!y);const v=y,k=v.error||((p=v[0])===null||p===void 0?void 0:p.error);if(k){X(vt,`RPC '${e}' stream ${s} received error:`,k);const j=k.status;let C=function(x){const E=Ke[x];if(E!==void 0)return RS(E)}(j),N=k.message;C===void 0&&(C=P.INTERNAL,N="Unknown error status: "+j+" with message "+k.message),m=!0,g.wo(new J(C,N)),h.close()}else X(vt,`RPC '${e}' stream ${s} received:`,y),g._o(y)}}),w(a,$P.STAT_EVENT,S=>{S.stat===fw.PROXY?X(vt,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===fw.NOPROXY&&X(vt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.fo()},0),g}}function df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(t){return new BM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n,r,s,i,o,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new qS(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new J(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jR extends GS{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=HM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?ue.min():i.readTime?Vn(i.readTime):ue.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Zp(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=qp(a)?{documents:GM(s,a)}:{query:KM(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=LS(s,i.resumeToken);const l=Yp(s,i.expectedCount);l!==null&&(o.expectedCount=l)}else if(i.snapshotVersion.compareTo(ue.min())>0){o.readTime=Ou(s,i.snapshotVersion.toTimestamp());const l=Yp(s,i.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,e);const r=YM(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Zp(this.serializer),n.removeTarget=e,this.Wo(n)}}class AR extends GS{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=qM(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.cu(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Zp(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WM(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new J(P.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(P.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(P.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class PR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pr(n),this.mu=!1):X("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{si(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.vu.add(4),await Cl(l),l.bu.set("Unknown"),l.vu.delete(4),await Hd(l)}(this))})}),this.bu=new PR(r,s)}}async function Hd(t){if(si(t))for(const e of t.Ru)await e(!0)}async function Cl(t){for(const e of t.Ru)await e(!1)}function KS(t,e){const n=he(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),w0(n)?v0(n):bo(n).Ko()&&y0(n,e))}function QS(t,e){const n=he(t),r=bo(n);n.Au.delete(e),r.Ko()&&YS(n,e),n.Au.size===0&&(r.Ko()?r.jo():si(n)&&n.bu.set("Unknown"))}function y0(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).su(e)}function YS(t,e){t.Vu.qt(e),bo(t).iu(e)}function v0(t){t.Vu=new $M({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.bu.gu()}function w0(t){return si(t)&&!bo(t).Uo()&&t.Au.size>0}function si(t){return he(t).vu.size===0}function JS(t){t.Vu=void 0}async function RR(t){t.Au.forEach((e,n)=>{y0(t,e)})}async function OR(t,e){JS(t),w0(t)?(t.bu.Iu(e),v0(t)):t.bu.set("Unknown")}async function $R(t,e,n){if(t.bu.set("Online"),e instanceof $S&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $u(t,r)}else if(e instanceof $c?t.Vu.Ht(e):e instanceof OS?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ue.min()))try{const r=await WS(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(Jt.EMPTY_BYTE_STRING,u.snapshotVersion)),YS(s,a);const d=new Fr(u.target,a,l,u.sequenceNumber);y0(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await $u(t,r)}}async function $u(t,e,n){if(!El(e))throw e;t.vu.add(1),await Cl(t),t.bu.set("Offline"),n||(n=()=>WS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Hd(t)})}function XS(t,e){return e().catch(n=>$u(t,n,e))}async function Wd(t){const e=he(t),n=os(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;LR(e);)try{const s=await kR(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,FR(e,s)}catch(s){await $u(e,s)}ZS(e)&&e2(e)}function LR(t){return si(t)&&t.Eu.length<10}function FR(t,e){t.Eu.push(e);const n=os(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function ZS(t){return si(t)&&!os(t).Uo()&&t.Eu.length>0}function e2(t){os(t).start()}async function UR(t){os(t).hu()}async function BR(t){const e=os(t);for(const n of t.Eu)e.uu(n.mutations)}async function VR(t,e,n){const r=t.Eu.shift(),s=u0.from(r,e,n);await XS(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wd(t)}async function zR(t,e){e&&os(t).ou&&await async function(n,r){if(s=r.code,MM(s)&&s!==P.ABORTED){const i=n.Eu.shift();os(n).Qo(),await XS(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Wd(n)}var s}(t,e),ZS(t)&&e2(t)}async function Fw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=si(n);n.vu.add(3),await Cl(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Hd(n)}async function HR(t,e){const n=he(t);e?(n.vu.delete(2),await Hd(n)):e||(n.vu.add(2),await Cl(n),n.bu.set("Unknown"))}function bo(t){return t.Su||(t.Su=function(e,n,r){const s=he(e);return s.fu(),new jR(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:RR.bind(null,t),ao:OR.bind(null,t),nu:$R.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),w0(t)?v0(t):t.bu.set("Unknown")):(await t.Su.stop(),JS(t))})),t.Su}function os(t){return t.Du||(t.Du=function(e,n,r){const s=he(e);return s.fu(),new AR(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:UR.bind(null,t),ao:zR.bind(null,t),au:BR.bind(null,t),cu:VR.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Wd(t)):(await t.Du.stop(),t.Eu.length>0&&(X("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new x0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b0(t,e){if(pr("AsyncQueue",`${e}: ${t}`),El(t))return new J(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Jo(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new $i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new $i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.Cu=new et(se.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):le():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new so(e,n,$i.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Nu=void 0,this.listeners=[]}}class qR{constructor(){this.queries=new xo(e=>kS(e),Ld),this.onlineState="Unknown",this.ku=new Set}}async function GR(t,e){const n=he(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new WR),s)try{i.Nu=await n.onListen(r)}catch(o){const a=b0(o,`Initialization of query '${Qp(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&k0(n)}async function KR(t,e){const n=he(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function QR(t,e){const n=he(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&k0(n)}function YR(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function k0(t){t.ku.forEach(e=>{e.next()})}class JR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class XR{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ge(),this.mutatedKeys=ge(),this.tc=ES(e),this.ec=new $i(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Uw,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Fd(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;f&&m?f.data.isEqual(m.data)?g!==w&&(r.track({type:3,doc:m}),S=!0):this.rc(f,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),S=!0):f&&!m&&(r.track({type:1,doc:f}),S=!0,(l||u)&&(a=!0)),S&&(m?(o=o.add(m),i=w?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((u,d)=>function(h,f){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(h)-m(f)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,i.length!==0||l?{snapshot:new so(this.query,e.ec,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Uw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ge(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new n2(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new t2(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ge();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return so.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class ZR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class eO{constructor(e){this.key=e,this.fc=!1}}class tO{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new xo(a=>kS(a),Ld),this._c=new Map,this.mc=new Set,this.gc=new et(se.comparator),this.yc=new Map,this.Ic=new p0,this.Tc={},this.Ec=new Map,this.Ac=ro.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function nO(t,e){const n=hO(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await ER(n.localStore,mr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await rO(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&KS(n.remoteStore,o)}return s}async function rO(t,e,n,r,s){t.Rc=(h,f,m)=>async function(g,w,S,p){let y=w.view.sc(S);y.zi&&(y=await Ow(g.localStore,w.query,!1).then(({documents:j})=>w.view.sc(j,y)));const v=p&&p.targetChanges.get(w.targetId),k=w.view.applyChanges(y,g.isPrimaryClient,v);return Vw(g,w.targetId,k.cc),k.snapshot}(t,h,f,m);const i=await Ow(t.localStore,e,!0),o=new XR(e,i.ir),a=o.sc(i.documents),l=_l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Vw(t,n,u.cc);const d=new ZR(e,n,o);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function sO(t,e){const n=he(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!Ld(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await em(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),QS(n.remoteStore,r.targetId),tm(n,r.targetId)}).catch(kl)):(tm(n,r.targetId),await em(n.localStore,r.targetId,!0))}async function iO(t,e,n){const r=fO(t);try{const s=await function(i,o){const a=he(i),l=Ze.now(),u=o.reduce((f,m)=>f.add(m.key),ge());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=gr(),g=ge();return a.Zi.getEntries(f,u).next(w=>{m=w,m.forEach((S,p)=>{p.isValidDocument()||(g=g.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const S=[];for(const p of o){const y=IM(p,d.get(p.key).overlayedDocument);y!=null&&S.push(new ri(p.key,y,hS(y.value.mapValue),Bn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,S,o)}).next(w=>{h=w;const S=w.applyToLocalDocumentSet(d,g);return a.documentOverlayCache.saveOverlays(f,w.batchId,S)})}).then(()=>({batchId:h.batchId,changes:NS(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let l=i.Tc[i.currentUser.toKey()];l||(l=new et(Se)),l=l.insert(o,a),i.Tc[i.currentUser.toKey()]=l}(r,s.batchId,n),await Tl(r,s.changes),await Wd(r.remoteStore)}catch(s){const i=b0(s,"Failed to persist write");n.reject(i)}}async function r2(t,e){const n=he(t);try{const r=await xR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Re(o.fc):s.removedDocuments.size>0&&(Re(o.fc),o.fc=!1))}),await Tl(n,r,e)}catch(r){await kl(r)}}function Bw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=he(i);a.onlineState=o;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Mu(o)&&(l=!0)}),l&&k0(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oO(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new et(se.comparator);o=o.insert(i,kt.newNoDocument(i,ue.min()));const a=ge().add(i),l=new Vd(ue.min(),new Map,new et(Se),o,a);await r2(r,l),r.gc=r.gc.remove(i),r.yc.delete(e),E0(r)}else await em(r.localStore,e,!1).then(()=>tm(r,e,n)).catch(kl)}async function aO(t,e){const n=he(t),r=e.batch.batchId;try{const s=await wR(n.localStore,e);i2(n,r,null),s2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tl(n,s)}catch(s){await kl(s)}}async function lO(t,e,n){const r=he(t);try{const s=await function(i,o){const a=he(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(d=>(Re(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);i2(r,e,n),s2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tl(r,s)}catch(s){await kl(s)}}function s2(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function i2(t,e,n){const r=he(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||o2(t,r)})}function o2(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(QS(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),E0(t))}function Vw(t,e,n){for(const r of n)r instanceof t2?(t.Ic.addReference(r.key,e),cO(t,r)):r instanceof n2?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||o2(t,r.key)):le()}function cO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(X("SyncEngine","New document in limbo: "+n),t.mc.add(r),E0(t))}function E0(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new se(Pe.fromString(e)),r=t.Ac.next();t.yc.set(r,new eO(n)),t.gc=t.gc.insert(n,r),KS(t.remoteStore,new Fr(mr(wS(n.path)),r,"TargetPurposeLimboResolution",n0.ct))}}async function Tl(t,e,n){const r=he(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=g0.Li(l.targetId,u);i.push(d)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,l){const u=he(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>L.forEach(l,h=>L.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>L.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!El(d))throw d;X("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(h,g)}}}(r.localStore,i))}async function uO(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await HS(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new J(P.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tl(n,r.er)}}function dO(t,e){const n=he(t),r=n.yc.get(e);if(r&&r.fc)return ge().add(r.key);{let s=ge();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function hO(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oO.bind(null,e),e.dc.nu=QR.bind(null,e.eventManager),e.dc.Pc=YR.bind(null,e.eventManager),e}function fO(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lO.bind(null,e),e}class zw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return vR(this.persistence,new gR,e.initialUser,this.serializer)}createPersistence(e){return new pR(m0.zs,this.serializer)}createSharedClientState(e){return new NR}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uO.bind(null,this.syncEngine),await HR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qR}createDatastore(e){const n=zd(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new IR(s));var s;return function(i,o,a,l){return new DR(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>Bw(this.syncEngine,a,0),o=Lw.D()?new Lw:new _R,new MR(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,l,u){const d=new tO(r,s,i,o,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=he(e);X("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Cl(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=xt.UNAUTHENTICATED,this.clientId=cS.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{X("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(X("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=b0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await HS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Hw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vO(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Fw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Fw(e.remoteStore,i)),t._onlineComponents=e}function yO(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function vO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await hf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yO(n))throw n;Zi("Error using user provided cache. Falling back to memory cache: "+n),await hf(t,new zw)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await hf(t,new zw);return t._offlineComponents}async function a2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Hw(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Hw(t,new pO))),t._onlineComponents}function wO(t){return a2(t).then(e=>e.syncEngine)}async function xO(t){const e=await a2(t),n=e.eventManager;return n.onListen=nO.bind(null,e.syncEngine),n.onUnlisten=sO.bind(null,e.syncEngine),n}function bO(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,l){const u=new mO({next:h=>{i.enqueueAndForget(()=>KR(s,d)),h.fromCache&&a.source==="server"?l.reject(new J(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new JR(o,u,{includeMetadataChanges:!0,Ku:!0});return GR(s,d)}(await xO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e,n){if(!n)throw new J(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kO(t,e,n,r){if(e===!0&&r===!0)throw new J(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qw(t){if(!se.isDocumentKey(t))throw new J(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gw(t){if(se.isDocumentKey(t))throw new J(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new J(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Gd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BP;switch(n.type){case"firstParty":return new WP(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ww.get(e);n&&(X("ComponentProvider","Removing Datastore"),Ww.delete(e),n.terminate())}(this),Promise.resolve()}}function EO(t,e,n,r={}){var s;const i=(t=Za(t,Gd))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xt.MOCK_USER;else{a=CD(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xt(u)}t._authCredentials=new VP(new lS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}}class ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ko(this.firestore,e,this._query)}}class es extends ko{constructor(e,n,r){super(e,n,wS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new se(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Qw(t,e,...n){if(t=Ji(t),c2("collection","path",e),t instanceof Gd){const r=Pe.fromString(e,...n);return Gw(r),new es(t,null,r)}{if(!(t instanceof cn||t instanceof es))throw new J(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return Gw(r),new es(t.firestore,null,r)}}function SO(t,e,...n){if(t=Ji(t),arguments.length===1&&(e=cS.A()),c2("doc","path",e),t instanceof Gd){const r=Pe.fromString(e,...n);return qw(r),new cn(t,null,new se(r))}{if(!(t instanceof cn||t instanceof es))throw new J(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pe.fromString(e,...n));return qw(r),new cn(t.firestore,t instanceof es?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qS(this,"async_queue_retry"),this.Xc=()=>{const n=df();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=df();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=df();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!El(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=x0.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&le()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Kd extends Gd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new NO,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||d2(this),this._firestoreClient.terminate()}}function _O(t,e){const n=typeof t=="object"?t:Ek(),r=typeof t=="string"?t:"(default)",s=Sg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_D("firestore");i&&EO(s,...i)}return s}function u2(t){return t._firestoreClient||d2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function d2(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,l,u){return new rM(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,l2(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new gO(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(Jt.fromBase64String(e))}catch(n){throw new J(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new io(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=/^__.*__$/;class TO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ri(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(e,this.data,n,this.fieldTransforms)}}function f2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class _0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new _0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Lu(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(f2(this.ca)&&CO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class IO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zd(e)}ya(e,n,r,s=!1){return new _0({ca:e,methodName:n,ga:r,path:Et.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function p2(t){const e=t._freezeSettings(),n=zd(t._databaseId);return new IO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jO(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);y2("Data must be an object, but it was:",o,r);const a=m2(r,o);let l,u;if(i.merge)l=new xn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=DO(e,h,n);if(!o.contains(f))throw new J(P.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);MO(d,f)||d.push(f)}l=new xn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new TO(new on(a),l,u)}function AO(t,e,n,r=!1){return C0(n,t.ya(r?4:3,e))}function C0(t,e){if(g2(t=Ji(t)))return y2("Unsupported field value:",e,t),m2(t,e);if(t instanceof h2)return function(n,r){if(!f2(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=C0(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ji(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return EM(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ze.fromDate(n);return{timestampValue:Ou(r.serializer,s)}}if(n instanceof Ze){const s=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ou(r.serializer,s)}}if(n instanceof N0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:LS(r.serializer,n._byteString)};if(n instanceof cn){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:f0(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${qd(n)}`)}(t,e)}function m2(t,e){const n={};return uS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,s)=>{const i=C0(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function g2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof N0||t instanceof io||t instanceof cn||t instanceof h2)}function y2(t,e,n){if(!g2(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qd(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function DO(t,e,n){if((e=Ji(e))instanceof S0)return e._internalPath;if(typeof e=="string")return v2(t,e);throw Lu("Field path arguments must be of type string or ",t,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function v2(t,e,n){if(e.search(PO)>=0)throw Lu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new S0(...e.split("."))._internalPath}catch{throw Lu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(P.INVALID_ARGUMENT,a+t+l)}function MO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RO extends w2{data(){return super.data()}}function T0(t,e){return typeof e=="string"?v2(t,e):e instanceof S0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}class $O extends I0{}function LO(t,e,...n){let r=[];e instanceof I0&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof j0).length,o=s.filter(a=>a instanceof Qd).length;if(i>1||i>0&&o>0)throw new J(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Qd extends $O{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qd(e,n,r)}_apply(e){const n=this._parse(e);return x2(e._query,n),new ko(e.firestore,e.converter,Gp(e._query,n))}_parse(e){const n=p2(e.firestore);return function(s,i,o,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Jw(d,u);const f=[];for(const m of d)f.push(Yw(a,s,m));h={arrayValue:{values:f}}}else h=Yw(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Jw(d,u),h=AO(o,i,d,u==="in"||u==="not-in");return Xe.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FO(t,e,n){const r=e,s=T0("where",t);return Qd._create(s,r,n)}class j0 extends I0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)x2(i,a),i=Gp(i,a)}(e._query,n),new ko(e.firestore,e.converter,Gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yw(t,e,n){if(typeof(n=Ji(n))=="string"){if(n==="")throw new J(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bS(e)&&n.indexOf("/")!==-1)throw new J(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pe.fromString(n));if(!se.isDocumentKey(r))throw new J(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ww(t,new se(r))}if(n instanceof cn)return ww(t,n._key);throw new J(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function Jw(t,e){if(!Array.isArray(t)||t.length===0)throw new J(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function x2(t,e){if(e.isInequality()){const r=l0(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new J(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=xS(t);i!==null&&UO(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UO(t,e,n){if(!n.isEqual(e))throw new J(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class BO{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new N0(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const n=is(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pe.fromString(e);Re(zS(r));const s=new Qa(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zO extends w2{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lc extends zO{data(e={}){return super.data(e)}}class HO{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lc(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new Lc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Lc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new pc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),u=i.indexOf(o.doc.key)),{type:WO(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class qO extends BO{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,n)}}function GO(t){t=Za(t,ko);const e=Za(t.firestore,Kd),n=u2(e),r=new qO(e);return OO(t._query),bO(n,t._query).then(s=>new HO(e,r,t,s))}function KO(t){return b2(Za(t.firestore,Kd),[new c0(t._key,Bn.none())])}function QO(t,e){const n=Za(t.firestore,Kd),r=SO(t),s=VO(t.converter,e);return b2(n,[jO(p2(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function b2(t,e){return function(n,r){const s=new Xr;return n.asyncQueue.enqueueAndForget(async()=>iO(await wO(n),r,s)),s.promise}(u2(t),e)}(function(t,e=!0){(function(n){vo=n})(po),Ki(new DD("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Kd(new zP(n.getProvider("auth-internal")),new GP(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(a.options.projectId,l)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Rs(pw,"3.13.0",t),Rs(pw,"3.13.0","esm2017")})();const YO={apiKey:"AIzaSyDh1VZfpcKFwYdkxVPbkdIIPc6zm49gFKs",authDomain:"fill-creative.firebaseapp.com",projectId:"fill-creative",storageBucket:"fill-creative.firebasestorage.app",messagingSenderId:"561333707650",appId:"1:561333707650:web:a69e63cda4f8bd2e9e659b",measurementId:"G-N11EP9K6T3"},k2=kk(YO),Xw=_O(k2),$o=mD(k2),E2=b.createContext(null);function Il(){const t=b.useContext(E2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function JO({children:t}){const[e,n]=b.useState(null),[r,s]=b.useState(!0);async function i(d,h,f){const{user:m}=await Y4($o,d,h);await Z4(m,{displayName:f}),n(m)}function o(d,h){return J4($o,d,h)}function a(){return rA($o)}function l(d){return Q4($o,d)}b.useEffect(()=>nA($o,h=>{n(h),s(!1)}),[]);const u={currentUser:e,signup:i,login:o,logout:a,resetPassword:l,loading:r};return c.jsx(E2.Provider,{value:u,children:!r&&t})}function XO({children:t}){const{currentUser:e,loading:n}=Il();return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?c.jsx(c.Fragment,{children:t}):c.jsx(aI,{to:"/login"})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},d)=>b.createElement("svg",{ref:d,...ZO,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${e5(t)}`,a].join(" "),...u},[...e.map(([h,f])=>b.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=ne("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=ne("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ne("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function y5(){const e=hs().pathname,n=[{icon:h5,label:"Templates",path:"/"},{icon:zu,label:"Inspirations",path:"/inspirations"},{icon:s5,label:"Brands",path:"/brands"},{icon:oo,label:"Knowledge Base",path:"/knowledge"},{icon:nm,label:"Mes sauvegardes",path:"/saved"}],r=[{icon:n5,label:"Guides",path:"/guides"},{icon:P2,label:"Help",path:"/help"},{icon:$2,label:"Settings",path:"/settings"}];return c.jsx("div",{className:"w-72 h-screen bg-[#13141B] text-white p-6",children:c.jsxs("div",{className:"bg-gradient-to-br from-[#1C1D24] via-[#1C1D24] to-[#2A1F3D] rounded-2xl p-6 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M16 0L32 16L16 32L0 16L16 0Z",fill:"#6563FC"}),c.jsx("path",{d:"M16 6.4L25.6 16L16 25.6L6.4 16L16 6.4Z",fill:"white"}),c.jsx("path",{d:"M16 9.6L22.4 16L16 22.4L9.6 16L16 9.6Z",fill:"#6563FC"})]}),c.jsx("span",{className:"text-xl font-bold text-white",children:"Fill Creative"})]}),c.jsx("div",{className:"flex-1 space-y-2",children:n.map(s=>c.jsxs(Ra,{to:s.path,className:`flex items-center gap-3 w-full p-3 rounded-xl transition-all ${s.path===e?"bg-[#6563fc] text-white":"text-gray-400 hover:bg-[#282A33]"}`,children:[c.jsx(s.icon,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:s.label})]},s.label))}),c.jsx("div",{className:"pt-4 border-t border-[#282A33] space-y-2",children:r.map(s=>c.jsxs(Ra,{to:s.path,className:`flex items-center gap-3 w-full p-3 rounded-xl transition-all ${s.path===e?"bg-[#6563fc] text-white":"text-gray-400 hover:bg-[#282A33]"}`,children:[c.jsx(s.icon,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:s.label})]},s.label))})]})})}let v5={data:""},w5=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||v5,x5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,b5=/\/\*[^]*?\*\/|  +/g,ex=/\n+/g,Mr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Mr(o,i):i+"{"+Mr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Mr(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Mr.p?Mr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},Yn={},U2=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+U2(t[n]);return e}return t},k5=(t,e,n,r,s)=>{let i=U2(t),o=Yn[i]||(Yn[i]=(l=>{let u=0,d=11;for(;u<l.length;)d=101*d+l.charCodeAt(u++)>>>0;return"go"+d})(i));if(!Yn[o]){let l=i!==t?t:(u=>{let d,h,f=[{}];for(;d=x5.exec(u.replace(b5,""));)d[4]?f.shift():d[3]?(h=d[3].replace(ex," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(ex," ").trim();return f[0]})(t);Yn[o]=Mr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&Yn.g?Yn.g:null;return n&&(Yn.g=Yn[o]),((l,u,d,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=d?l+u.data:u.data+l)})(Yn[o],e,r,a),o},E5=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Mr(a,""):a===!1?"":a}return r+s+(o??"")},"");function Zd(t){let e=this||{},n=t.call?t(e.p):t;return k5(n.unshift?n.raw?E5(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,w5(e.target),e.g,e.o,e.k)}let B2,rm,sm;Zd.bind({g:1});let yr=Zd.bind({k:1});function S5(t,e,n,r){Mr.p=e,B2=t,rm=n,sm=r}function ys(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:rm&&rm()},a),n.o=/ *go\d+/.test(l),a.className=Zd.apply(n,r)+(l?" "+l:"");let u=t;return t[0]&&(u=a.as||t,delete a.as),sm&&u[0]&&sm(a),B2(u,a)}return s}}var N5=t=>typeof t=="function",im=(t,e)=>N5(t)?t(e):t,_5=(()=>{let t=0;return()=>(++t).toString()})(),C5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),T5=20,Fc=new Map,I5=1e3,tx=t=>{if(Fc.has(t))return;let e=setTimeout(()=>{Fc.delete(t),eh({type:4,toastId:t})},I5);Fc.set(t,e)},j5=t=>{let e=Fc.get(t);e&&clearTimeout(e)},om=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,T5)};case 1:return e.toast.id&&j5(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?om(t,{type:1,toast:n}):om(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?tx(r):t.toasts.forEach(i=>{tx(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},A5=[],ff={toasts:[],pausedAt:void 0},eh=t=>{ff=om(ff,t),A5.forEach(e=>{e(ff)})},D5=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_5()}),jl=t=>(e,n)=>{let r=D5(e,t,n);return eh({type:2,toast:r}),r.id},bn=(t,e)=>jl("blank")(t,e);bn.error=jl("error");bn.success=jl("success");bn.loading=jl("loading");bn.custom=jl("custom");bn.dismiss=t=>{eh({type:3,toastId:t})};bn.remove=t=>eh({type:4,toastId:t});bn.promise=(t,e,n)=>{let r=bn.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(s=>(bn.success(im(e.success,s),{id:r,...n,...n==null?void 0:n.success}),s)).catch(s=>{bn.error(im(e.error,s),{id:r,...n,...n==null?void 0:n.error})}),t};var P5=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,M5=yr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R5=yr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,O5=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${P5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${M5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$5=yr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,L5=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$5} 1s linear infinite;
`,F5=yr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,U5=yr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,B5=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${F5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${U5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,V5=ys("div")`
  position: absolute;
`,z5=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,H5=yr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,W5=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${H5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,q5=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?b.createElement(W5,null,e):e:n==="blank"?null:b.createElement(z5,null,b.createElement(L5,{...r}),n!=="loading"&&b.createElement(V5,null,n==="error"?b.createElement(O5,{...r}):b.createElement(B5,{...r})))},G5=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,K5=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Q5="0%{opacity:0;} 100%{opacity:1;}",Y5="0%{opacity:1;} 100%{opacity:0;}",J5=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,X5=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z5=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=C5()?[Q5,Y5]:[G5(n),K5(n)];return{animation:e?`${yr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};b.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?Z5(t.position||e||"top-center",t.visible):{opacity:0},i=b.createElement(q5,{toast:t}),o=b.createElement(X5,{...t.ariaProps},im(t.message,t));return b.createElement(J5,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):b.createElement(b.Fragment,null,i,o))});S5(b.createElement);Zd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var ye=bn;function e$(){const{theme:t,setTheme:e}=Zb(),{currentUser:n,logout:r}=Il(),s=hn(),[i,o]=b.useState(!1),[a,l]=b.useState(!1),[u,d]=b.useState([]),[h,f]=b.useState(0),m=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const v=k=>{m.current&&!m.current.contains(k.target)&&o(!1),g.current&&!g.current.contains(k.target)&&l(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),b.useEffect(()=>{const v=JSON.parse(localStorage.getItem("notifications")||"[]");d(v),f(v.filter(k=>!k.read).length)},[]);const w=async()=>{try{await r(),ye.success("Successfully logged out"),s("/login")}catch{ye.error("Failed to log out")}},S=v=>{const k=u.map(j=>j.id===v?{...j,read:!0}:j);d(k),localStorage.setItem("notifications",JSON.stringify(k)),f(j=>Math.max(0,j-1))},p=v=>{v.read||S(v.id),ye.success("Notification acknowledged")},y=v=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(v));return c.jsx("div",{className:"card-gradient rounded-2xl px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1 max-w-xl",children:c.jsxs("div",{className:"relative",children:[c.jsx($0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search templates, categories, or metrics...",className:"w-full pl-10 pr-4 py-2 bg-[#282A33] border border-[#282A33] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#6563fc] text-gray-100 placeholder-gray-400"})]})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-[#1C1D24] rounded-2xl p-1.5",children:[c.jsx("button",{onClick:()=>e("light"),className:`flex items-center justify-center w-8 h-8 rounded-xl transition-all ${t==="light"?"bg-transparent text-[#FFD43B]":"text-gray-400"}`,children:c.jsx(L2,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>e("dark"),className:`flex items-center justify-center w-8 h-8 rounded-xl transition-all ${t==="dark"?"bg-[#6563fc] text-white":"text-gray-400"}`,children:c.jsx(R2,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"relative",ref:g,children:[c.jsxs("button",{onClick:()=>l(!a),className:"relative p-2 hover:bg-[#282A33] rounded-lg",children:[c.jsx(_2,{className:"w-5 h-5 text-gray-400"}),h>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:h})]}),a&&c.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-gray-800 rounded-xl shadow-lg border border-gray-700 z-50 overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-gray-700",children:c.jsx("h3",{className:"font-semibold text-white",children:"Notifications"})}),c.jsx("div",{className:"max-h-96 overflow-y-auto",children:u.length>0?u.map(v=>c.jsxs("button",{onClick:()=>p(v),className:`w-full p-4 text-left border-b border-gray-700 hover:bg-gray-700/50 transition-colors ${v.read?"":"bg-gray-700/30"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("h4",{className:"font-medium text-white",children:v.title}),c.jsx("span",{className:"text-xs text-gray-400",children:y(v.timestamp)})]}),c.jsx("p",{className:"text-sm text-gray-400",children:v.message})]},v.id)):c.jsx("div",{className:"p-4 text-center text-gray-400",children:"No notifications"})})]})]}),c.jsxs("div",{className:"relative",ref:m,children:[c.jsxs("button",{onClick:()=>o(!i),className:"flex items-center gap-3 pl-4 border-l border-[#282A33]",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-gray-100",children:(n==null?void 0:n.displayName)||"John Cooper"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Premium Plan"})]}),c.jsx("div",{className:"w-10 h-10 bg-[#282A33] rounded-full flex items-center justify-center",children:c.jsx(U0,{className:"w-5 h-5 text-[#6563fc]"})})]}),i&&c.jsxs("div",{className:"absolute right-0 mt-2 w-56 card-gradient rounded-lg shadow-lg border border-[#282A33] py-2 z-50",children:[c.jsx("div",{className:"px-4 py-2 border-b border-[#282A33]",children:c.jsx("p",{className:"text-sm font-medium text-gray-100",children:(n==null?void 0:n.email)||"john@example.com"})}),c.jsxs("div",{className:"py-1",children:[c.jsxs("button",{onClick:()=>{o(!1),s("/settings")},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-[#282A33] flex items-center gap-2",children:[c.jsx($2,{className:"w-4 h-4"}),"Account Settings"]}),c.jsxs("button",{onClick:()=>{o(!1),s("/billing")},className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-[#282A33] flex items-center gap-2",children:[c.jsx(I2,{className:"w-4 h-4"}),"Billing"]})]}),c.jsx("div",{className:"border-t border-[#282A33] py-1",children:c.jsxs("button",{onClick:w,className:"w-full px-4 py-2 text-left text-sm text-red-400 hover:bg-[#282A33] flex items-center gap-2",children:[c.jsx(l5,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})})}const ws=[{title:"Import Your Data",description:"Enter your website URL in the Knowledge Base to automatically analyze your products and customer data.",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=80&w=800",highlight:"knowledge-base-url"},{title:"Discover Templates",description:"Access personalized templates tailored to your brand and industry through the 'View Knowledge Templates' button.",image:"https://images.unsplash.com/photo-1432888622747-4eb9a8efeb07?auto=format&fit=crop&q=80&w=800",highlight:"templates-button"},{title:"Customize Your Campaign",description:"Select a template and let our AI generate optimized ad copy based on your product data.",image:"https://images.unsplash.com/photo-1553484771-047a44eee27f?auto=format&fit=crop&q=80&w=800",highlight:"template-selection"},{title:"Create Your Ad",description:"Edit your design in Canva or Figma and use our AI-generated text suggestions for maximum impact.",image:"https://images.unsplash.com/photo-1542744094-3a31f272c490?auto=format&fit=crop&q=80&w=800",highlight:"edit-buttons"}];function t$(){const[t,e]=b.useState(!1),[n,r]=b.useState(0);b.useEffect(()=>{localStorage.getItem("hasSeenWelcomeGuide")||e(!0)},[]);const s=()=>{e(!1),localStorage.setItem("hasSeenWelcomeGuide","true")},i=()=>{n<ws.length-1?r(l=>l+1):s()},o=()=>{n>0&&r(l=>l-1)},a=()=>{s()};return t?c.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),c.jsxs("div",{className:"relative bg-gray-900 rounded-2xl max-w-2xl w-full mx-4 overflow-hidden shadow-2xl border border-gray-700",children:[c.jsx("button",{onClick:s,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white rounded-lg z-10",children:c.jsx(gs,{className:"w-5 h-5"})}),c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"aspect-video relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/50 to-transparent"}),c.jsx("img",{src:ws[n].image,alt:ws[n].title,className:"w-full h-full object-cover"})]}),c.jsxs("div",{className:"p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:ws[n].title}),c.jsx("p",{className:"text-gray-300 text-lg",children:ws[n].description})]})]}),c.jsxs("div",{className:"p-6 border-t border-gray-700 flex items-center justify-between",children:[c.jsx("div",{className:"flex gap-2",children:ws.map((l,u)=>c.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${u===n?"bg-blue-500":"bg-gray-600"}`},u))}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:a,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Skip Tutorial"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:o,disabled:n===0,className:"p-2 text-gray-400 hover:text-white disabled:opacity-50 disabled:cursor-not-allowed rounded-lg",children:c.jsx(T2,{className:"w-5 h-5"})}),c.jsx("button",{onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:n===ws.length-1?"Get Started":c.jsxs(c.Fragment,{children:["Next",c.jsx(A0,{className:"w-5 h-5"})]})})]})]})]})]})]}):null}function n$({template:t}){const e=t.format==="9:16 (Vertical)";return c.jsxs("div",{className:`group bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-all cursor-pointer ${e?"row-span-2":""}`,children:[c.jsxs("div",{className:"relative aspect-square",children:[c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover",loading:"lazy"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-black/0 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex gap-2",children:[c.jsx("button",{className:"flex-1 px-3 py-1.5 bg-[#00C4CC]/90 hover:bg-[#00C4CC] text-white text-sm font-medium rounded-lg backdrop-blur-sm transition-colors",onClick:n=>{n.stopPropagation(),window.open(t.canvaUrl,"_blank")},children:"Canva"}),c.jsx("button",{className:"flex-1 px-3 py-1.5 bg-black/90 hover:bg-black text-white text-sm font-medium rounded-lg backdrop-blur-sm transition-colors",onClick:n=>{n.stopPropagation(),window.open(t.figmaUrl,"_blank")},children:"Figma"})]})}),c.jsxs("div",{className:"absolute top-3 left-3 flex flex-wrap gap-2 max-w-[calc(100%-24px)]",children:[c.jsx("span",{className:"px-2.5 py-1 bg-blue-600/90 backdrop-blur-sm text-white text-xs font-medium rounded-full",children:t.category}),c.jsx("span",{className:"px-2.5 py-1 bg-purple-600/90 backdrop-blur-sm text-white text-xs font-medium rounded-full",children:t.format})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 line-clamp-1",children:t.title}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:t.adType})]})]})}function pf({label:t,options:e,value:n,onChange:r}){const[s,i]=b.useState(!1);return c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors",children:[c.jsx("span",{className:n?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:n||t}),c.jsx(Uu,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"})]}),s&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),c.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 max-h-64 overflow-y-auto bg-white dark:bg-gray-700 rounded-lg shadow-lg border border-gray-200 dark:border-gray-600 z-20",children:e.map(o=>c.jsx("button",{onClick:()=>{r(o===n?"":o),i(!1)},className:`w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors ${o===n?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/30":"text-gray-700 dark:text-gray-200"}`,children:o},o))})]})]})}const nx="knowledge_base_data",mf={currentData:null,history:[]};function th(){const[t,e]=b.useState(()=>{try{const o=localStorage.getItem(nx);return o?JSON.parse(o):mf}catch(o){return console.error("Error loading knowledge store:",o),mf}});b.useEffect(()=>{try{localStorage.setItem(nx,JSON.stringify(t))}catch(o){console.error("Error saving knowledge store:",o)}},[t]);const n=async o=>{if(!o)throw new Error("Timestamp is required for deletion");try{e(h=>{var f;return{currentData:((f=h.currentData)==null?void 0:f.timestamp)===o?null:h.currentData,history:h.history.filter(m=>m.timestamp!==o)}});const a=Qw(Xw,"knowledge_base"),l=LO(a,FO("timestamp","==",o)),u=await GO(l);if(u.empty)throw new Error("Knowledge base not found in database");const d=u.docs.map(async h=>{try{await KO(h.ref)}catch(f){throw console.error(`Failed to delete document ${h.id}:`,f),f}});await Promise.all(d)}catch(a){const l=t.history.find(u=>u.timestamp===o);throw l&&e(u=>{var d;return{currentData:((d=u.currentData)==null?void 0:d.timestamp)===o?l:u.currentData,history:[...u.history,l]}}),new Error(a instanceof Error?`Failed to delete knowledge base: ${a.message}`:"Failed to delete knowledge base")}},r=async o=>{try{const a={currentData:o,history:[o,...t.history]};e(a);const l=Qw(Xw,"knowledge_base");if(!(await QO(l,{...o,createdAt:Ze.fromDate(new Date)})).id)throw new Error("Failed to save to database");return o}catch(a){throw console.error("Error saving to Firestore:",a),new Error(a instanceof Error?`Failed to save knowledge base: ${a.message}`:"Failed to save knowledge base")}},s=o=>{if(!o)return null;const a=t.history.find(l=>l.timestamp===o);return a?(e(l=>({...l,currentData:a})),a):null},i=()=>{e(mf)};return{formData:t.currentData,history:t.history||[],updateFormData:r,deleteFromHistory:n,loadFromHistory:s,clearFormData:i,hasData:!!t.currentData}}function r$({template:t,onClose:e}){var j;const{formData:n}=th(),[r,s]=b.useState(["Drive 3x more sales with our proven formula","Join 50,000+ happy customers worldwide","Transform your results in just 14 days"]),[i,o]=b.useState(0),[a,l]=b.useState(null),[u,d]=b.useState(!1),[h,f]=b.useState(""),[m,g]=b.useState(!1),[w,S]=b.useState([]),p=C=>{f(C),g(!1);const N=n==null?void 0:n.products.find(x=>x.id===C);if(N){const x=[`Experience the power of ${N.name} today`,`Join thousands loving ${N.name}`,`Discover why ${N.name} is the #1 choice`];s(x),o(0)}},y=()=>{if(i<3){const C=n==null?void 0:n.products.find(x=>x.id===h),N=C?[`Boost your results with ${C.name}`,`The smart choice: ${C.name}`,`Premium ${C.category.toLowerCase()} solution: ${C.name}`]:[`Boost your ${t==null?void 0:t.category.toLowerCase()} results today`,`The #1 choice for ${t==null?void 0:t.category.toLowerCase()} brands`,`Premium ${t==null?void 0:t.category.toLowerCase()} solutions for you`];s(N),o(x=>x+1),S(x=>[{texts:N,timestamp:new Date},...x])}},v=async(C,N)=>{await navigator.clipboard.writeText(C),l(N),setTimeout(()=>l(null),2e3)},k=C=>{const x=new Date().getTime()-C.getTime(),E=Math.floor(x/36e5),I=Math.floor(x%36e5/6e4);return I<1?"Just now":I<60?`${I}m ago`:E<24?`${E}h ago`:`${Math.floor(E/24)}d ago`};return t?c.jsxs("div",{className:"fixed inset-y-0 right-0 w-[480px] card-gradient shadow-2xl flex flex-col z-50",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[c.jsx("h2",{className:"text-xl font-semibold text-white",children:"Template Details"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors",children:c.jsx(gs,{className:"w-5 h-5 text-gray-400"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsx("div",{className:"aspect-square relative",children:c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-[#6563fc]/10 text-[#6563fc] text-sm rounded-full",children:t.category}),c.jsx("span",{className:"px-3 py-1 bg-purple-900/30 text-purple-400 text-sm rounded-full",children:t.format}),c.jsx("span",{className:"px-3 py-1 bg-gray-700/50 text-gray-300 text-sm rounded-full",children:t.adType})]})]}),(n==null?void 0:n.products)&&n.products.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"font-medium text-white",children:"Choose your product"}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>g(!m),className:"w-full flex items-center justify-between px-4 py-2 bg-gray-700/50 border border-gray-600 rounded-lg hover:bg-gray-600/50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(C2,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{className:"text-gray-200",children:h?(j=n.products.find(C=>C.id===h))==null?void 0:j.name:"Select a product"})]}),c.jsx(Uu,{className:`w-5 h-5 text-gray-400 transition-transform ${m?"rotate-180":""}`})]}),m&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>g(!1)}),c.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 rounded-lg shadow-lg border border-gray-700 z-20 max-h-60 overflow-y-auto",children:n.products.map(C=>c.jsxs("button",{onClick:()=>p(C.id),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-700/50 transition-colors text-left",children:[C.image&&c.jsx("img",{src:C.image,alt:C.name,className:"w-10 h-10 rounded-lg object-cover"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-white",children:C.name}),c.jsx("div",{className:"text-sm text-gray-400",children:C.category})]})]},C.id))})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h4",{className:"font-medium text-white",children:"AI Text Suggestions"}),c.jsxs("button",{onClick:y,disabled:i>=3,className:`flex items-center gap-2 text-sm ${i>=3?"text-gray-500 cursor-not-allowed":"text-[#6563fc] hover:text-[#5452d6]"}`,children:[c.jsx(p5,{className:"w-4 h-4"}),"Regenerate (",3-i," left)"]})]}),c.jsx("div",{className:"space-y-3",children:r.map((C,N)=>c.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg hover:bg-gray-600/50 group relative",children:[c.jsx("p",{className:"pr-10 text-white",children:C}),c.jsx("button",{onClick:()=>v(C,N),className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:a===N?c.jsx(Fu,{className:"w-4 h-4 text-green-400"}):c.jsx(Bu,{className:"w-4 h-4 text-gray-400"})})]},N))})]}),c.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[c.jsxs("button",{onClick:()=>d(!u),className:"flex items-center justify-between w-full text-left",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(P0,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{className:"font-medium text-white",children:"Generated Text History"})]}),c.jsx(Uu,{className:`w-5 h-5 text-gray-400 transition-transform ${u?"rotate-180":""}`})]}),u&&c.jsx("div",{className:"mt-4 space-y-6",children:w.map((C,N)=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[c.jsxs("span",{children:["Generation ",N+1]}),c.jsx("span",{children:k(C.timestamp)})]}),c.jsx("div",{className:"space-y-2",children:C.texts.map((x,E)=>c.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg group relative",children:[c.jsx("p",{className:"pr-10 text-white text-sm",children:x}),c.jsx("button",{onClick:()=>v(x,N*3+E+r.length),className:"absolute right-4 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:a===N*3+E+r.length?c.jsx(Fu,{className:"w-4 h-4 text-green-400"}):c.jsx(Bu,{className:"w-4 h-4 text-gray-400"})})]},E))})]},N))})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>window.open(t.canvaUrl,"_blank"),className:"flex-1 px-4 py-2 bg-[#6563fc] text-white rounded-lg hover:bg-[#5452d6] transition-colors",children:"Edit in Canva"}),c.jsx("button",{onClick:()=>window.open(t.figmaUrl,"_blank"),className:"flex-1 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Edit in Figma"})]})]})]})]}):null}function s$({tabs:t,activeTab:e,onChange:n}){return c.jsx("div",{className:"bg-[#1C1D24]/50 backdrop-blur-sm p-1 rounded-2xl inline-flex",children:t.map(r=>c.jsx("button",{onClick:()=>!r.disabled&&n(r.id),disabled:r.disabled,className:`
            px-6 py-3 text-sm font-medium rounded-xl transition-all
            ${e===r.id?"bg-[#6563fc] text-white shadow-lg shadow-[#6563fc]/25":"text-gray-400 hover:text-white"}
            ${r.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}
          `,children:r.label},r.id))})}const i$=["All","Fashion & Accessories","Food","Health & Wellness","Electronics","Pets","Home & Furniture","Skincare","SaaS/Apps","Self Care","Sports & Outdoor","Finance","Education","Kids/Baby"],o$=["1:1 (Square)","9:16 (Vertical)"],a$=["Before & After","Feature/Benefit","Article/News","Apple Notes","Statistics","Us vs Them","Bold Claim","Native","Offer/Sale","Testimonial","Negative Hook","Google Search","What's Inside","AirDrop","Headline","Meme","Problem + Solution"],l$=[{title:"Minimalist Product Showcase",category:"Fashion & Accessories",format:"1:1 (Square)",adType:"Feature/Benefit",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-1",figmaUrl:"https://figma.com/template-1"},{title:"Wellness Journey Transformation",category:"Health & Wellness",format:"9:16 (Vertical)",adType:"Before & After",image:"https://images.unsplash.com/photo-1557804506-669a67965ba0?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-2",figmaUrl:"https://figma.com/template-2"},{title:"Premium Headphones Launch",category:"Electronics",format:"1:1 (Square)",adType:"Feature/Benefit",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-3",figmaUrl:"https://figma.com/template-3"},{title:"Natural Skincare Results",category:"Skincare",format:"9:16 (Vertical)",adType:"Before & After",image:"https://images.unsplash.com/photo-1576426863848-c21f53c60b19?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-4",figmaUrl:"https://figma.com/template-4"},{title:"Productivity App Stats",category:"SaaS/Apps",format:"1:1 (Square)",adType:"Statistics",image:"https://images.unsplash.com/photo-1555421689-d68471e189f2?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-5",figmaUrl:"https://figma.com/template-5"},{title:"Premium Pet Food",category:"Pets",format:"1:1 (Square)",adType:"Us vs Them",image:"https://images.unsplash.com/photo-1541599540903-216a46ca1dc0?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-6",figmaUrl:"https://figma.com/template-6"},{title:"Smart Home Automation",category:"Home & Furniture",format:"1:1 (Square)",adType:"Feature/Benefit",image:"https://images.unsplash.com/photo-1558002038-1055907df827?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-7",figmaUrl:"https://figma.com/template-7"},{title:"Fitness Challenge Results",category:"Sports & Outdoor",format:"9:16 (Vertical)",adType:"Before & After",image:"https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-8",figmaUrl:"https://figma.com/template-8"},{title:"Investment App Returns",category:"Finance",format:"1:1 (Square)",adType:"Statistics",image:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-9",figmaUrl:"https://figma.com/template-9"},{title:"Online Course Success",category:"Education",format:"1:1 (Square)",adType:"Testimonial",image:"https://images.unsplash.com/photo-1501504905252-473c47e087f8?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-10",figmaUrl:"https://figma.com/template-10"},{title:"Organic Baby Products",category:"Kids/Baby",format:"1:1 (Square)",adType:"What's Inside",image:"https://images.unsplash.com/photo-1515488042361-ee00e0ddd4e4?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-11",figmaUrl:"https://figma.com/template-11"},{title:"Gourmet Recipe Box",category:"Food",format:"9:16 (Vertical)",adType:"Problem + Solution",image:"https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-12",figmaUrl:"https://figma.com/template-12"},{title:"Meditation App Journey",category:"Self Care",format:"1:1 (Square)",adType:"Bold Claim",image:"https://images.unsplash.com/photo-1508672019048-805c876b67e2?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-13",figmaUrl:"https://figma.com/template-13"},{title:"Designer Bag Collection",category:"Fashion & Accessories",format:"1:1 (Square)",adType:"Native",image:"https://images.unsplash.com/photo-1584917865442-de89df76afd3?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-14",figmaUrl:"https://figma.com/template-14"},{title:"Smart Watch Features",category:"Electronics",format:"9:16 (Vertical)",adType:"Feature/Benefit",image:"https://images.unsplash.com/photo-1544117519-31a4b719223d?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-15",figmaUrl:"https://figma.com/template-15"},{title:"Luxury Home Makeover",category:"Home & Furniture",format:"1:1 (Square)",adType:"Before & After",image:"https://images.unsplash.com/photo-1618221195710-dd6b41faaea6?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-16",figmaUrl:"https://figma.com/template-16"},{title:"Vitamin Supplement Benefits",category:"Health & Wellness",format:"1:1 (Square)",adType:"What's Inside",image:"https://images.unsplash.com/photo-1577401132921-cb39bb0adcff?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-17",figmaUrl:"https://figma.com/template-17"},{title:"Premium Dog Training",category:"Pets",format:"9:16 (Vertical)",adType:"Testimonial",image:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-18",figmaUrl:"https://figma.com/template-18"},{title:"Anti-Aging Serum Results",category:"Skincare",format:"1:1 (Square)",adType:"Before & After",image:"https://images.unsplash.com/photo-1556228578-0d85b1a4d571?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-19",figmaUrl:"https://figma.com/template-19"},{title:"Language Learning Progress",category:"Education",format:"1:1 (Square)",adType:"Statistics",image:"https://images.unsplash.com/photo-1546410531-bb4caa6b424d?auto=format&fit=crop&q=80&w=800",canvaUrl:"https://canva.com/template-20",figmaUrl:"https://figma.com/template-20"}];function c$(){var m;const t=hs(),[e,n]=b.useState("premium"),[r,s]=b.useState(null),[i,o]=b.useState(((m=t.state)==null?void 0:m.activeTab)==="knowledge"?"knowledge":"all"),[a,l]=b.useState({category:"",format:"",adType:""}),{formData:u}=th(),d=()=>{l({category:"",format:"",adType:""})},h=l$.filter(g=>e==="free"&&!g.isFree?!1:(!a.category||g.category===a.category)&&(!a.format||g.format===a.format)&&(!a.adType||g.adType===a.adType)),f=[{id:"all",label:"All Templates"},{id:"knowledge",label:"Knowledge Templates",disabled:!u}];return c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Ad Templates"}),c.jsx("p",{className:"text-gray-400",children:e==="premium"?"1000+ premium templates":"50 free templates"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-1 rounded-xl border border-gray-700",children:[c.jsx("button",{onClick:()=>n("free"),className:`px-6 py-2 rounded-lg transition-all ${e==="free"?"bg-[#6563fc] text-white shadow-lg shadow-[#6563fc]/25":"text-gray-400 hover:text-white"}`,children:"Free"}),c.jsx("button",{onClick:()=>n("premium"),className:`px-6 py-2 rounded-lg transition-all ${e==="premium"?"bg-[#6563fc] text-white shadow-lg shadow-[#6563fc]/25":"text-gray-400 hover:text-white"}`,children:"Premium"})]})]}),c.jsx("div",{className:"flex justify-start",children:c.jsx(s$,{tabs:f,activeTab:i,onChange:g=>o(g)})}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(pf,{label:"Category",options:i$,value:a.category,onChange:g=>l(w=>({...w,category:g}))}),c.jsx(pf,{label:"Format",options:o$,value:a.format,onChange:g=>l(w=>({...w,format:g}))}),c.jsx(pf,{label:"Ad Type",options:a$,value:a.adType,onChange:g=>l(w=>({...w,adType:g}))}),(a.category||a.format||a.adType)&&c.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors",children:[c.jsx(gs,{className:"w-4 h-4"}),"Clear Filters"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6",children:h.map((g,w)=>c.jsx("div",{onClick:()=>s(g),children:c.jsx(n$,{template:g})},w))})]}),r&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/40 backdrop-blur-sm z-40",onClick:()=>s(null)}),c.jsx(r$,{template:r,onClose:()=>s(null)})]})]})}function Tn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const V2=6048e5,u$=864e5;let d$={};function nh(){return d$}function tl(t,e){var a,l,u,d;const n=nh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Tn(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Hu(t){return tl(t,{weekStartsOn:1})}function z2(t){const e=Tn(t),n=e.getFullYear(),r=Ys(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Hu(r),i=Ys(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Hu(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function rx(t){const e=Tn(t);return e.setHours(0,0,0,0),e}function sx(t){const e=Tn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function h$(t,e){const n=rx(t),r=rx(e),s=+n-sx(n),i=+r-sx(r);return Math.round((s-i)/u$)}function f$(t){const e=z2(t),n=Ys(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Hu(n)}function p$(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function m$(t){if(!p$(t)&&typeof t!="number")return!1;const e=Tn(t);return!isNaN(Number(e))}function g$(t){const e=Tn(t),n=Ys(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const y$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v$=(t,e,n)=>{let r;const s=y$[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function gf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const w$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k$={date:gf({formats:w$,defaultWidth:"full"}),time:gf({formats:x$,defaultWidth:"full"}),dateTime:gf({formats:b$,defaultWidth:"full"})},E$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},S$=(t,e,n,r)=>E$[t];function Lo(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const N$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},D$={ordinalNumber:A$,era:Lo({values:N$,defaultWidth:"wide"}),quarter:Lo({values:_$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lo({values:C$,defaultWidth:"wide"}),day:Lo({values:T$,defaultWidth:"wide"}),dayPeriod:Lo({values:I$,defaultWidth:"wide",formattingValues:j$,defaultFormattingWidth:"wide"})};function Fo(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?M$(a,h=>h.test(o)):P$(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function P$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function M$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function R$(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const O$=/^(\d+)(th|st|nd|rd)?/i,$$=/\d+/i,L$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F$={any:[/^b/i,/^(a|c)/i]},U$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B$={any:[/1/i,/2/i,/3/i,/4/i]},V$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},z$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},q$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},G$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K$={ordinalNumber:R$({matchPattern:O$,parsePattern:$$,valueCallback:t=>parseInt(t,10)}),era:Fo({matchPatterns:L$,defaultMatchWidth:"wide",parsePatterns:F$,defaultParseWidth:"any"}),quarter:Fo({matchPatterns:U$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Fo({matchPatterns:V$,defaultMatchWidth:"wide",parsePatterns:z$,defaultParseWidth:"any"}),day:Fo({matchPatterns:H$,defaultMatchWidth:"wide",parsePatterns:W$,defaultParseWidth:"any"}),dayPeriod:Fo({matchPatterns:q$,defaultMatchWidth:"any",parsePatterns:G$,defaultParseWidth:"any"})},Q$={code:"en-US",formatDistance:v$,formatLong:k$,formatRelative:S$,localize:D$,match:K$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y$(t){const e=Tn(t);return h$(e,g$(e))+1}function J$(t){const e=Tn(t),n=+Hu(e)-+f$(e);return Math.round(n/V2)+1}function H2(t,e){var d,h,f,m;const n=Tn(t),r=n.getFullYear(),s=nh(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(f=s.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ys(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=tl(o,e),l=Ys(t,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const u=tl(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function X$(t,e){var a,l,u,d;const n=nh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=H2(t,e),i=Ys(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),tl(i,e)}function Z$(t,e){const n=Tn(t),r=+tl(n,e)-+X$(n,e);return Math.round(r/V2)+1}function _e(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Nr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return _e(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):_e(n+1,2)},d(t,e){return _e(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return _e(t.getHours()%12||12,e.length)},H(t,e){return _e(t.getHours(),e.length)},m(t,e){return _e(t.getMinutes(),e.length)},s(t,e){return _e(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return _e(s,e.length)}},ci={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ix={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Nr.y(t,e)},Y:function(t,e,n,r){const s=H2(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return _e(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):_e(i,e.length)},R:function(t,e){const n=z2(t);return _e(n,e.length)},u:function(t,e){const n=t.getFullYear();return _e(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return _e(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return _e(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Nr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return _e(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=Z$(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):_e(s,e.length)},I:function(t,e,n){const r=J$(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):_e(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Nr.d(t,e)},D:function(t,e,n){const r=Y$(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):_e(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _e(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _e(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return _e(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ci.noon:r===0?s=ci.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ci.evening:r>=12?s=ci.afternoon:r>=4?s=ci.morning:s=ci.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Nr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):_e(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Nr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Nr.s(t,e)},S:function(t,e){return Nr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ax(r);case"XXXX":case"XX":return Es(r);case"XXXXX":case"XXX":default:return Es(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return ax(r);case"xxxx":case"xx":return Es(r);case"xxxxx":case"xxx":default:return Es(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ox(r,":");case"OOOO":default:return"GMT"+Es(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ox(r,":");case"zzzz":default:return"GMT"+Es(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return _e(r,e.length)},T:function(t,e,n){const r=t.getTime();return _e(r,e.length)}};function ox(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+_e(i,2)}function ax(t,e){return t%60===0?(t>0?"-":"+")+_e(Math.abs(t)/60,2):Es(t,e)}function Es(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=_e(Math.trunc(r/60),2),i=_e(r%60,2);return n+s+e+i}const lx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},W2=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},e3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return lx(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",lx(r,e)).replace("{{time}}",W2(s,e))},t3={p:W2,P:e3},n3=/^D+$/,r3=/^Y+$/,s3=["D","DD","YY","YYYY"];function i3(t){return n3.test(t)}function o3(t){return r3.test(t)}function a3(t,e,n){const r=l3(t,e,n);if(console.warn(r),s3.includes(t))throw new RangeError(r)}function l3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const c3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d3=/^'([^]*?)'?$/,h3=/''/g,f3=/[a-zA-Z]/;function q2(t,e,n){var d,h,f,m;const r=nh(),s=r.locale??Q$,i=r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(f=r.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)??0,a=Tn(t);if(!m$(a))throw new RangeError("Invalid time value");let l=e.match(u3).map(g=>{const w=g[0];if(w==="p"||w==="P"){const S=t3[w];return S(g,s.formatLong)}return g}).join("").match(c3).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:p3(g)};if(ix[w])return{isToken:!0,value:g};if(w.match(f3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(o3(w)||i3(w))&&a3(w,e,String(t));const S=ix[w[0]];return S(a,w,s.localize,u)}).join("")}function p3(t){const e=t.match(d3);return e?e[1].replace(h3,"'"):t}function m3({ad:t,onClose:e}){const n=hn(),r=l=>new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(l),s=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),i=l=>q2(l,"MMM d, yyyy"),o=()=>{const l=JSON.parse(localStorage.getItem("savedTemplates")||"[]"),u={...t,id:`template-${Date.now()}`,requestedAt:new Date().toISOString(),status:"Pending"};l.push(u),localStorage.setItem("savedTemplates",JSON.stringify(l)),ye.success("Template request added to saved templates"),n("/saved")},a=[{icon:D2,label:"Impressions",value:r(t.metrics.impressions)},{icon:el,label:"Clicks",value:r(t.metrics.clicks)},{icon:t5,label:"CTR",value:`${t.metrics.ctr}%`},{icon:j2,label:"Spend",value:s(t.metrics.spend)},{icon:el,label:"Conversions",value:r(t.metrics.conversions)}];return c.jsxs("div",{className:"fixed inset-y-0 right-0 w-[480px] bg-white dark:bg-gray-800 shadow-2xl flex flex-col z-50",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Ad Details"}),c.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:c.jsx(gs,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c.jsx("div",{className:"px-6",children:c.jsx("div",{className:"aspect-video relative my-6",children:c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover rounded-xl"})})}),c.jsxs("div",{className:"px-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.brand}),c.jsx("span",{className:`px-2.5 py-1 text-xs rounded-full ${t.status==="Active"?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:t.status})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[c.jsx(Jd,{className:"w-4 h-4"}),c.jsxs("span",{children:["Created on ",i(t.createdAt)]})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 text-sm rounded-full",children:t.format}),c.jsx("span",{className:"px-3 py-1 bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 text-sm rounded-full",children:t.platform}),c.jsx("span",{className:"px-3 py-1 bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 text-sm rounded-full",children:t.performanceScore}),c.jsx("span",{className:"px-3 py-1 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 text-sm rounded-full",children:t.industry})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map(({icon:l,label:u,value:d})=>c.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[c.jsx(l,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:u})]}),c.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:d})]},u))}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(oo,{className:"w-5 h-5"}),"Request Template"]}),c.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[c.jsx(D0,{className:"w-5 h-5"}),"View Landing Page"]})]}),c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{className:"flex-1 text-sm text-gray-600 dark:text-gray-400 truncate",children:["https://example.com/ad/",t.id]}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(Bu,{className:"w-4 h-4"})}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(A2,{className:"w-4 h-4"})})]})]})]})]})}const cx=[{industry:"Fashion",images:["https://images.unsplash.com/photo-1445205170230-053b83016050?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1490481651871-ab68de25d43d?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?auto=format&fit=crop&q=80&w=800"]}],ux=Array.from({length:50},(t,e)=>{const n=cx[Math.floor(Math.random()*cx.length)],r=n.images[Math.floor(Math.random()*n.images.length)];return{id:`ad-${e+1}`,title:`Ad Campaign ${e+1}`,brand:`Brand ${Math.floor(e/3)+1}`,platform:["Facebook","Instagram","Messenger","Audience Network"][Math.floor(Math.random()*4)],format:Math.random()>.5?"Image":"Video",status:Math.random()>.3?"Active":"Inactive",performanceScore:["Winner","Great","Good","Average"][Math.floor(Math.random()*4)],industry:n.industry,createdAt:new Date(Date.now()-Math.random()*365*24*60*60*1e3),image:r,metrics:{impressions:Math.floor(Math.random()*1e6),clicks:Math.floor(Math.random()*5e4),ctr:(Math.random()*5).toFixed(2),spend:Math.floor(Math.random()*1e4),conversions:Math.floor(Math.random()*1e3)}}});function g3(){const[t,e]=b.useState(null),[n,r]=b.useState({format:"",platform:"",status:"",performanceScore:"",timeLive:"",industry:"",brand:""}),[s,i]=b.useState({format:!1,platform:!1,status:!1,performanceScore:!1,timeLive:!1,industry:!1,brand:!1}),o={format:["Image","Video"],platform:["Facebook","Instagram","Messenger","Audience Network"],status:["Active","Inactive"],performanceScore:["Winner","Great","Good","Average"],timeLive:["Under 7 days","Over 7 days","Over 30 days","Over 3 months","Over 6 months","Over 12 months"],industry:["Fashion","Technology","Food","Health","Education"],brand:Array.from(new Set(ux.map(d=>d.brand)))},a=ux.filter(d=>Object.entries(n).every(([h,f])=>f?d[h]===f:!0)),l=d=>{i(h=>({...Object.fromEntries(Object.keys(h).map(f=>[f,!1])),[d]:!h[d]}))},u=(d,h)=>{r(f=>({...f,[d]:f[d]===h?"":h})),i(f=>({...f,[d]:!1}))};return c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Get Inspired"}),c.jsx("p",{className:"text-gray-400",children:"Browse successful ad campaigns from top brands"})]}),c.jsx("div",{className:"flex flex-wrap gap-3",children:Object.entries(o).map(([d,h])=>c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>l(d),className:`px-4 py-2 rounded-xl flex items-center gap-2 transition-colors ${n[d]?"bg-[#6563fc] text-white":"bg-white/10 border border-gray-700 text-white hover:bg-white/20"}`,children:[d.charAt(0).toUpperCase()+d.slice(1),c.jsx(Uu,{className:`w-4 h-4 transition-transform ${s[d]?"rotate-180":""}`})]}),s[d]&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(f=>({...f,[d]:!1}))}),c.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-gray-800 rounded-xl border border-gray-700 shadow-lg z-20 py-2",children:h.map(f=>c.jsx("button",{onClick:()=>u(d,f),className:`w-full text-left px-4 py-2 hover:bg-gray-700 ${n[d]===f?"text-[#6563fc]":"text-white"}`,children:f},f))})]})]},d))}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(d=>c.jsxs("div",{onClick:()=>e(d),className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] overflow-hidden cursor-pointer group",children:[c.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[c.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx("div",{className:"absolute bottom-4 left-4",children:c.jsx("button",{className:"px-4 py-2 bg-white/90 hover:bg-white text-gray-900 rounded-lg backdrop-blur-sm transition-colors",children:"View Details"})})})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-medium text-white",children:d.brand}),c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${d.status==="Active"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:d.status})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs rounded-full",children:d.platform}),c.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 border border-purple-500/30 text-xs rounded-full",children:d.format})]})]})]},d.id))})]}),t&&c.jsx(m3,{ad:t,onClose:()=>e(null)})]})}var y3=Object.defineProperty,v3=(t,e,n)=>e in t?y3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,yf=(t,e,n)=>(v3(t,typeof e!="symbol"?e+"":e,n),n);let w3=class{constructor(){yf(this,"current",this.detect()),yf(this,"handoffState","pending"),yf(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ar=new w3,vr=(t,e)=>{ar.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function rh(t){let e=b.useRef(t);return vr(()=>{e.current=t},[t]),e}let Ct=function(t){let e=rh(t);return be.useCallback((...n)=>e.current(...n),[e])};function sh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function ih(){let t=[],e={addEventListener(n,r,s,i){return n.addEventListener(r,s,i),e.add(()=>n.removeEventListener(r,s,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return sh(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,s){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:s}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=ih();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let s of t.splice(r,1))s()}},dispose(){for(let n of t.splice(0))n()}};return e}function x3(){let[t]=b.useState(ih);return b.useEffect(()=>()=>t.dispose(),[t]),t}function b3(){let t=typeof document>"u";return"useSyncExternalStore"in Ui?(e=>e.useSyncExternalStore)(Ui)(()=>()=>{},()=>!1,()=>!t):!1}function oh(){let t=b3(),[e,n]=b.useState(ar.isHandoffComplete);return e&&ar.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{e!==!0&&n(!0)},[e]),b.useEffect(()=>ar.handoff(),[]),t?!1:e}var dx;let Eo=(dx=be.useId)!=null?dx:function(){let t=oh(),[e,n]=be.useState(t?()=>ar.nextId():null);return vr(()=>{e===null&&n(ar.nextId())},[e]),e!=null?""+e:void 0};function as(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,as),r}function G2(t){return ar.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let am=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Ss=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Ss||{}),K2=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(K2||{}),k3=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(k3||{});function E3(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(am)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Q2=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Q2||{});function S3(t,e=0){var n;return t===((n=G2(t))==null?void 0:n.body)?!1:as(e,{0(){return t.matches(am)},1(){let r=t;for(;r!==null;){if(r.matches(am))return!0;r=r.parentElement}return!1}})}var N3=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(N3||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ls(t){t==null||t.focus({preventScroll:!0})}let _3=["textarea","input"].join(",");function C3(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,_3))!=null?n:!1}function T3(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Uc(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?T3(t):t:E3(t);s.length>0&&o.length>1&&(o=o.filter(m=>!s.includes(m))),r=r??i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,f;do{if(d>=h||d+h<=0)return 0;let m=l+d;if(e&16)m=(m+h)%h;else{if(m<0)return 3;if(m>=h)return 1}f=o[m],f==null||f.focus(u),d+=a}while(f!==i.activeElement);return e&6&&C3(f)&&f.select(),2}function Y2(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function I3(){return/Android/gi.test(window.navigator.userAgent)}function j3(){return Y2()||I3()}function mc(t,e,n){let r=rh(e);b.useEffect(()=>{function s(i){r.current(i)}return document.addEventListener(t,s,n),()=>document.removeEventListener(t,s,n)},[t,n])}function J2(t,e,n){let r=rh(e);b.useEffect(()=>{function s(i){r.current(i)}return window.addEventListener(t,s,n),()=>window.removeEventListener(t,s,n)},[t,n])}function A3(t,e,n=!0){let r=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function s(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(l)||o.composed&&o.composedPath().includes(h))return}return!S3(l,Q2.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let i=b.useRef(null);mc("pointerdown",o=>{var a,l;r.current&&(i.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),mc("mousedown",o=>{var a,l;r.current&&(i.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),mc("click",o=>{j3()||i.current&&(s(o,()=>i.current),i.current=null)},!0),mc("touchend",o=>s(o,()=>o.target instanceof HTMLElement?o.target:null),!0),J2("blur",o=>s(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Al(...t){return b.useMemo(()=>G2(...t),[...t])}let X2=Symbol();function D3(t,e=!0){return Object.assign(t,{[X2]:e})}function br(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let n=Ct(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[X2]))?void 0:n}function B0(t,e){let n=b.useRef([]),r=Ct(t);b.useEffect(()=>{let s=[...n.current];for(let[i,o]of e.entries())if(n.current[i]!==o){let a=r(e,s);return n.current=e,a}},[r,...e])}function hx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var lm=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(lm||{}),P3=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(P3||{});function qn({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??M3;let l=Z2(e,t);if(i)return gc(l,n,r,o,a);let u=s??0;if(u&2){let{static:d=!1,...h}=l;if(d)return gc(h,n,r,o,a)}if(u&1){let{unmount:d=!0,...h}=l;return as(d?0:1,{0(){return null},1(){return gc({...h,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return gc(l,n,r,o,a)}function gc(t,e={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=vf(t,["unmount","static"]),u=t.ref!==void 0?{[a]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let h={};if(e){let f=!1,m=[];for(let[g,w]of Object.entries(e))typeof w=="boolean"&&(f=!0),w===!0&&m.push(g);f&&(h["data-headlessui-state"]=m.join(" "))}if(i===b.Fragment&&Object.keys(fx(l)).length>0){if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let f=d.props,m=typeof(f==null?void 0:f.className)=="function"?(...w)=>hx(f==null?void 0:f.className(...w),l.className):hx(f==null?void 0:f.className,l.className),g=m?{className:m}:{};return b.cloneElement(d,Object.assign({},Z2(d.props,fx(vf(l,["ref"]))),h,u,{ref:s(d.ref,u.ref)},g))}return b.createElement(i,Object.assign({},vf(l,["ref"]),i!==b.Fragment&&u,i!==b.Fragment&&h),d)}function M3(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Z2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return e}function Gn(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function fx(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function vf(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let R3="div";var Wu=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Wu||{});function O3(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return qn({ourProps:i,theirProps:s,slot:{},defaultTag:R3,name:"Hidden"})}let cm=Gn(O3),eN=b.createContext(null);eN.displayName="OpenClosedContext";var Zo=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Zo||{});function $3(){return b.useContext(eN)}function L3(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Rr=[];L3(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Rr[0]!==e.target&&(Rr.unshift(e.target),Rr=Rr.filter(n=>n!=null&&n.isConnected),Rr.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function F3(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&U3(n)?!1:r}function U3(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var tN=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(tN||{});function nN(t,e,n,r){let s=rh(n);b.useEffect(()=>{t=t??window;function i(o){s.current(o)}return t.addEventListener(e,i,r),()=>t.removeEventListener(e,i,r)},[t,e,r])}function rN(){let t=b.useRef(!1);return vr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function sN(t){let e=Ct(t),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,sh(()=>{n.current&&e()})}),[e])}var ea=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(ea||{});function B3(){let t=b.useRef(0);return J2("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function iN(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let n of t.current)n.current instanceof HTMLElement&&e.add(n.current);return e}let V3="div";var oN=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(oN||{});function z3(t,e){let n=b.useRef(null),r=br(n,e),{initialFocus:s,containers:i,features:o=30,...a}=t;oh()||(o=1);let l=Al(n);q3({ownerDocument:l},!!(o&16));let u=G3({ownerDocument:l,container:n,initialFocus:s},!!(o&2));K3({ownerDocument:l,container:n,containers:i,previousActiveElement:u},!!(o&8));let d=B3(),h=Ct(w=>{let S=n.current;S&&(p=>p())(()=>{as(d.current,{[ea.Forwards]:()=>{Uc(S,Ss.First,{skipElements:[w.relatedTarget]})},[ea.Backwards]:()=>{Uc(S,Ss.Last,{skipElements:[w.relatedTarget]})}})})}),f=x3(),m=b.useRef(!1),g={ref:r,onKeyDown(w){w.key=="Tab"&&(m.current=!0,f.requestAnimationFrame(()=>{m.current=!1}))},onBlur(w){let S=iN(i);n.current instanceof HTMLElement&&S.add(n.current);let p=w.relatedTarget;p instanceof HTMLElement&&p.dataset.headlessuiFocusGuard!=="true"&&(aN(S,p)||(m.current?Uc(n.current,as(d.current,{[ea.Forwards]:()=>Ss.Next,[ea.Backwards]:()=>Ss.Previous})|Ss.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&Ls(w.target)))}};return be.createElement(be.Fragment,null,!!(o&4)&&be.createElement(cm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Wu.Focusable}),qn({ourProps:g,theirProps:a,defaultTag:V3,name:"FocusTrap"}),!!(o&4)&&be.createElement(cm,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:Wu.Focusable}))}let H3=Gn(z3),Uo=Object.assign(H3,{features:oN});function W3(t=!0){let e=b.useRef(Rr.slice());return B0(([n],[r])=>{r===!0&&n===!1&&sh(()=>{e.current.splice(0)}),r===!1&&n===!0&&(e.current=Rr.slice())},[t,Rr,e]),Ct(()=>{var n;return(n=e.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function q3({ownerDocument:t},e){let n=W3(e);B0(()=>{e||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Ls(n())},[e]),sN(()=>{e&&Ls(n())})}function G3({ownerDocument:t,container:e,initialFocus:n},r){let s=b.useRef(null),i=rN();return B0(()=>{if(!r)return;let o=e.current;o&&sh(()=>{if(!i.current)return;let a=t==null?void 0:t.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){s.current=a;return}}else if(o.contains(a)){s.current=a;return}n!=null&&n.current?Ls(n.current):Uc(o,Ss.First)===K2.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.current=t==null?void 0:t.activeElement})},[r]),s}function K3({ownerDocument:t,container:e,containers:n,previousActiveElement:r},s){let i=rN();nN(t==null?void 0:t.defaultView,"focus",o=>{if(!s||!i.current)return;let a=iN(n);e.current instanceof HTMLElement&&a.add(e.current);let l=r.current;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?aN(a,u)?(r.current=u,Ls(u)):(o.preventDefault(),o.stopPropagation(),Ls(l)):Ls(r.current)},!0)}function aN(t,e){for(let n of t)if(n.contains(e))return!0;return!1}let lN=b.createContext(!1);function Q3(){return b.useContext(lN)}function um(t){return be.createElement(lN.Provider,{value:t.force},t.children)}function Y3(t){let e=Q3(),n=b.useContext(cN),r=Al(t),[s,i]=b.useState(()=>{if(!e&&n!==null||ar.isServer)return null;let o=r==null?void 0:r.getElementById("headlessui-portal-root");if(o)return o;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return b.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),b.useEffect(()=>{e||n!==null&&i(n.current)},[n,i,e]),s}let J3=b.Fragment;function X3(t,e){let n=t,r=b.useRef(null),s=br(D3(d=>{r.current=d}),e),i=Al(r),o=Y3(r),[a]=b.useState(()=>{var d;return ar.isServer?null:(d=i==null?void 0:i.createElement("div"))!=null?d:null}),l=b.useContext(dm),u=oh();return vr(()=>{!o||!a||o.contains(a)||(a.setAttribute("data-headlessui-portal",""),o.appendChild(a))},[o,a]),vr(()=>{if(a&&l)return l.register(a)},[l,a]),sN(()=>{var d;!o||!a||(a instanceof Node&&o.contains(a)&&o.removeChild(a),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!a?null:Jb.createPortal(qn({ourProps:{ref:s},theirProps:n,defaultTag:J3,name:"Portal"}),a):null}let Z3=b.Fragment,cN=b.createContext(null);function eL(t,e){let{target:n,...r}=t,s={ref:br(e)};return be.createElement(cN.Provider,{value:n},qn({ourProps:s,theirProps:r,defaultTag:Z3,name:"Popover.Group"}))}let dm=b.createContext(null);function tL(){let t=b.useContext(dm),e=b.useRef([]),n=Ct(i=>(e.current.push(i),t&&t.register(i),()=>r(i))),r=Ct(i=>{let o=e.current.indexOf(i);o!==-1&&e.current.splice(o,1),t&&t.unregister(i)}),s=b.useMemo(()=>({register:n,unregister:r,portals:e}),[n,r,e]);return[e,b.useMemo(()=>function({children:i}){return be.createElement(dm.Provider,{value:s},i)},[s])]}let nL=Gn(X3),rL=Gn(eL),hm=Object.assign(nL,{Group:rL});function sL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const iL=typeof Object.is=="function"?Object.is:sL,{useState:oL,useEffect:aL,useLayoutEffect:lL,useDebugValue:cL}=Ui;function uL(t,e,n){const r=e(),[{inst:s},i]=oL({inst:{value:r,getSnapshot:e}});return lL(()=>{s.value=r,s.getSnapshot=e,wf(s)&&i({inst:s})},[t,r,e]),aL(()=>(wf(s)&&i({inst:s}),t(()=>{wf(s)&&i({inst:s})})),[t]),cL(r),r}function wf(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!iL(n,r)}catch{return!0}}function dL(t,e,n){return e()}const hL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fL=!hL,pL=fL?dL:uL,mL="useSyncExternalStore"in Ui?(t=>t.useSyncExternalStore)(Ui):pL;function gL(t){return mL(t.subscribe,t.getSnapshot,t.getSnapshot)}function yL(t,e){let n=t(),r=new Set;return{getSnapshot(){return n},subscribe(s){return r.add(s),()=>r.delete(s)},dispatch(s,...i){let o=e[s].call(n,...i);o&&(n=o,r.forEach(a=>a()))}}}function vL(){let t;return{before({doc:e}){var n;let r=e.documentElement;t=((n=e.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:e,d:n}){let r=e.documentElement,s=r.clientWidth-r.offsetWidth,i=t-s;n.style(r,"paddingRight",`${i}px`)}}}function wL(){return Y2()?{before({doc:t,d:e,meta:n}){function r(s){return n.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=ih();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),d=t.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&r(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function xL(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function bL(t){let e={};for(let n of t)Object.assign(e,n(e));return e}let As=yL(()=>new Map,{PUSH(t,e){var n;let r=(n=this.get(t))!=null?n:{doc:t,count:0,d:ih(),meta:new Set};return r.count++,r.meta.add(e),this.set(t,r),this},POP(t,e){let n=this.get(t);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:n}){let r={doc:t,d:e,meta:bL(n)},s=[wL(),vL(),xL()];s.forEach(({before:i})=>i==null?void 0:i(r)),s.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});As.subscribe(()=>{let t=As.getSnapshot(),e=new Map;for(let[n]of t)e.set(n,n.documentElement.style.overflow);for(let n of t.values()){let r=e.get(n.doc)==="hidden",s=n.count!==0;(s&&!r||!s&&r)&&As.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&As.dispatch("TEARDOWN",n)}});function kL(t,e,n){let r=gL(As),s=t?r.get(t):void 0,i=s?s.count>0:!1;return vr(()=>{if(!(!t||!e))return As.dispatch("PUSH",t,n),()=>As.dispatch("POP",t,n)},[e,t]),i}let xf=new Map,Bo=new Map;function px(t,e=!0){vr(()=>{var n;if(!e)return;let r=typeof t=="function"?t():t.current;if(!r)return;function s(){var o;if(!r)return;let a=(o=Bo.get(r))!=null?o:1;if(a===1?Bo.delete(r):Bo.set(r,a-1),a!==1)return;let l=xf.get(r);l&&(l["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",l["aria-hidden"]),r.inert=l.inert,xf.delete(r))}let i=(n=Bo.get(r))!=null?n:0;return Bo.set(r,i+1),i!==0||(xf.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),s},[t,e])}function EL({defaultContainers:t=[],portals:e,mainTreeNodeRef:n}={}){var r;let s=b.useRef((r=n==null?void 0:n.current)!=null?r:null),i=Al(s),o=Ct(()=>{var a,l,u;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"current"in h&&h.current instanceof HTMLElement&&d.push(h.current));if(e!=null&&e.current)for(let h of e.current)d.push(h);for(let h of(a=i==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?a:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(s.current)||h.contains((u=(l=s.current)==null?void 0:l.getRootNode())==null?void 0:u.host)||d.some(f=>h.contains(f))||d.push(h));return d});return{resolveContainers:o,contains:Ct(a=>o().some(l=>l.contains(a))),mainTreeNodeRef:s,MainTreeNode:b.useMemo(()=>function(){return n!=null?null:be.createElement(cm,{features:Wu.Hidden,ref:s})},[s,n])}}let V0=b.createContext(()=>{});V0.displayName="StackContext";var fm=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(fm||{});function SL(){return b.useContext(V0)}function NL({children:t,onUpdate:e,type:n,element:r,enabled:s}){let i=SL(),o=Ct((...a)=>{e==null||e(...a),i(...a)});return vr(()=>{let a=s===void 0||s===!0;return a&&o(0,n,r),()=>{a&&o(1,n,r)}},[o,n,r,s]),be.createElement(V0.Provider,{value:o},t)}let uN=b.createContext(null);function dN(){let t=b.useContext(uN);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,dN),e}return t}function _L(){let[t,e]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(n){let r=Ct(i=>(e(o=>[...o,i]),()=>e(o=>{let a=o.slice(),l=a.indexOf(i);return l!==-1&&a.splice(l,1),a}))),s=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return be.createElement(uN.Provider,{value:s},n.children)},[e])]}let CL="p";function TL(t,e){let n=Eo(),{id:r=`headlessui-description-${n}`,...s}=t,i=dN(),o=br(e);vr(()=>i.register(r),[r,i.register]);let a={ref:o,...i.props,id:r};return qn({ourProps:a,theirProps:s,slot:i.slot||{},defaultTag:CL,name:i.name||"Description"})}let IL=Gn(TL),jL=Object.assign(IL,{});var AL=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(AL||{}),DL=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(DL||{});let PL={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},qu=b.createContext(null);qu.displayName="DialogContext";function Dl(t){let e=b.useContext(qu);if(e===null){let n=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Dl),n}return e}function ML(t,e,n=()=>[document.body]){kL(t,e,r=>{var s;return{containers:[...(s=r.containers)!=null?s:[],n]}})}function RL(t,e){return as(e.type,PL,t,e)}let OL="div",$L=lm.RenderStrategy|lm.Static;function LL(t,e){let n=Eo(),{id:r=`headlessui-dialog-${n}`,open:s,onClose:i,initialFocus:o,role:a="dialog",__demoMode:l=!1,...u}=t,[d,h]=b.useState(0),f=b.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(f.current||(f.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let m=$3();s===void 0&&m!==null&&(s=(m&Zo.Open)===Zo.Open);let g=b.useRef(null),w=br(g,e),S=Al(g),p=t.hasOwnProperty("open")||m!==null,y=t.hasOwnProperty("onClose");if(!p&&!y)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!p)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!y)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof s!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${s}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let v=s?0:1,[k,j]=b.useReducer(RL,{titleId:null,descriptionId:null,panelRef:b.createRef()}),C=Ct(()=>i(!1)),N=Ct(W=>j({type:0,id:W})),x=oh()?l?!1:v===0:!1,E=d>1,I=b.useContext(qu)!==null,[M,O]=tL(),F={get current(){var W;return(W=k.panelRef.current)!=null?W:g.current}},{resolveContainers:q,mainTreeNodeRef:oe,MainTreeNode:de}=EL({portals:M,defaultContainers:[F]}),H=E?"parent":"leaf",D=m!==null?(m&Zo.Closing)===Zo.Closing:!1,R=I||D?!1:x,T=b.useCallback(()=>{var W,ie;return(ie=Array.from((W=S==null?void 0:S.querySelectorAll("body > *"))!=null?W:[]).find(ee=>ee.id==="headlessui-portal-root"?!1:ee.contains(oe.current)&&ee instanceof HTMLElement))!=null?ie:null},[oe]);px(T,R);let _=E?!0:x,A=b.useCallback(()=>{var W,ie;return(ie=Array.from((W=S==null?void 0:S.querySelectorAll("[data-headlessui-portal]"))!=null?W:[]).find(ee=>ee.contains(oe.current)&&ee instanceof HTMLElement))!=null?ie:null},[oe]);px(A,_),A3(q,W=>{W.preventDefault(),C()},!(!x||E));let G=!(E||v!==0);nN(S==null?void 0:S.defaultView,"keydown",W=>{G&&(W.defaultPrevented||W.key===tN.Escape&&(W.preventDefault(),W.stopPropagation(),C()))}),ML(S,!(D||v!==0||I),q),b.useEffect(()=>{if(v!==0||!g.current)return;let W=new ResizeObserver(ie=>{for(let ee of ie){let te=ee.target.getBoundingClientRect();te.x===0&&te.y===0&&te.width===0&&te.height===0&&C()}});return W.observe(g.current),()=>W.disconnect()},[v,g,C]);let[Y,z]=_L(),Z=b.useMemo(()=>[{dialogState:v,close:C,setTitleId:N},k],[v,k,C,N]),U=b.useMemo(()=>({open:v===0}),[v]),re={ref:w,id:r,role:a,"aria-modal":v===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":Y};return be.createElement(NL,{type:"Dialog",enabled:v===0,element:g,onUpdate:Ct((W,ie)=>{ie==="Dialog"&&as(W,{[fm.Add]:()=>h(ee=>ee+1),[fm.Remove]:()=>h(ee=>ee-1)})})},be.createElement(um,{force:!0},be.createElement(hm,null,be.createElement(qu.Provider,{value:Z},be.createElement(hm.Group,{target:g},be.createElement(um,{force:!1},be.createElement(z,{slot:U,name:"Dialog.Description"},be.createElement(Uo,{initialFocus:o,containers:q,features:x?as(H,{parent:Uo.features.RestoreFocus,leaf:Uo.features.All&~Uo.features.FocusLock}):Uo.features.None},be.createElement(O,null,qn({ourProps:re,theirProps:u,slot:U,defaultTag:OL,features:$L,visible:v===0,name:"Dialog"}))))))))),be.createElement(de,null))}let FL="div";function UL(t,e){let n=Eo(),{id:r=`headlessui-dialog-overlay-${n}`,...s}=t,[{dialogState:i,close:o}]=Dl("Dialog.Overlay"),a=br(e),l=Ct(d=>{if(d.target===d.currentTarget){if(F3(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=b.useMemo(()=>({open:i===0}),[i]);return qn({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:l},theirProps:s,slot:u,defaultTag:FL,name:"Dialog.Overlay"})}let BL="div";function VL(t,e){let n=Eo(),{id:r=`headlessui-dialog-backdrop-${n}`,...s}=t,[{dialogState:i},o]=Dl("Dialog.Backdrop"),a=br(e);b.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let l=b.useMemo(()=>({open:i===0}),[i]);return be.createElement(um,{force:!0},be.createElement(hm,null,qn({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:s,slot:l,defaultTag:BL,name:"Dialog.Backdrop"})))}let zL="div";function HL(t,e){let n=Eo(),{id:r=`headlessui-dialog-panel-${n}`,...s}=t,[{dialogState:i},o]=Dl("Dialog.Panel"),a=br(e,o.panelRef),l=b.useMemo(()=>({open:i===0}),[i]),u=Ct(d=>{d.stopPropagation()});return qn({ourProps:{ref:a,id:r,onClick:u},theirProps:s,slot:l,defaultTag:zL,name:"Dialog.Panel"})}let WL="h2";function qL(t,e){let n=Eo(),{id:r=`headlessui-dialog-title-${n}`,...s}=t,[{dialogState:i,setTitleId:o}]=Dl("Dialog.Title"),a=br(e);b.useEffect(()=>(o(r),()=>o(null)),[r,o]);let l=b.useMemo(()=>({open:i===0}),[i]);return qn({ourProps:{ref:a,id:r},theirProps:s,slot:l,defaultTag:WL,name:"Dialog.Title"})}let GL=Gn(LL),KL=Gn(VL),QL=Gn(HL),YL=Gn(UL),JL=Gn(qL),Pt=Object.assign(GL,{Backdrop:KL,Panel:QL,Overlay:YL,Title:JL,Description:jL});const XL=Array.from({length:500},(t,e)=>({id:`brand-${e+1}`,name:`Brand ${e+1}`,industry:["Healthcare","Sports","Beauty","Technology","Entertainment","Sports"][Math.floor(Math.random()*6)],size:["Startup","Mid-Market","Enterprise"][Math.floor(Math.random()*3)],status:["Active","Paused","Archived"][Math.floor(Math.random()*3)],activeAds:Math.floor(Math.random()*1e3),totalAds:Math.floor(Math.random()*5e3),monthlySpend:Math.floor(Math.random()*1e6),engagement:Math.floor(Math.random()*100),lastUpdated:new Date(Date.now()-Math.random()*90*24*60*60*1e3)}));function ZL(){const t=hn(),[e,n]=b.useState(""),[r,s]=b.useState("All Industries"),[i,o]=b.useState("All Sizes"),[a,l]=b.useState("All Statuses"),[u,d]=b.useState(!1),[h,f]=b.useState({brandName:"",brandDomain:""}),[m,g]=b.useState(!1),w=XL.filter(v=>{const k=v.name.toLowerCase().includes(e.toLowerCase()),j=r==="All Industries"||v.industry===r,C=i==="All Sizes"||v.size===i,N=a==="All Statuses"||v.status===a;return k&&j&&C&&N}),S=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),p=v=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(v),y=async v=>{v.preventDefault(),g(!0);try{await new Promise(k=>setTimeout(k,1e3)),ye.success("Brand request submitted successfully"),d(!1),f({brandName:"",brandDomain:""})}catch{ye.error("Failed to submit brand request")}finally{g(!1)}};return c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Top Brands"}),c.jsx("p",{className:"text-gray-400",children:"Analyze ad performance across 500 leading brands"})]}),c.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Request Brand"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx($0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",value:e,onChange:v=>n(v.target.value),placeholder:"Search brands...",className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]})}),c.jsxs("select",{value:r,onChange:v=>s(v.target.value),className:"px-4 py-2 bg-white/10 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",children:[c.jsx("option",{children:"All Industries"}),c.jsx("option",{children:"Healthcare"}),c.jsx("option",{children:"Sports"}),c.jsx("option",{children:"Beauty"}),c.jsx("option",{children:"Technology"}),c.jsx("option",{children:"Entertainment"})]}),c.jsxs("select",{value:i,onChange:v=>o(v.target.value),className:"px-4 py-2 bg-white/10 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",children:[c.jsx("option",{children:"All Sizes"}),c.jsx("option",{children:"Startup"}),c.jsx("option",{children:"Mid-Market"}),c.jsx("option",{children:"Enterprise"})]}),c.jsxs("select",{value:a,onChange:v=>l(v.target.value),className:"px-4 py-2 bg-white/10 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",children:[c.jsx("option",{children:"All Statuses"}),c.jsx("option",{children:"Active"}),c.jsx("option",{children:"Paused"}),c.jsx("option",{children:"Archived"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(v=>c.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl p-6 border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] hover:bg-gray-800 transition-all cursor-pointer",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"text-xl font-bold text-white",children:v.name.charAt(0)})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:v.name}),c.jsx("span",{className:"text-sm text-gray-400",children:v.industry})]})]}),c.jsx("span",{className:`px-3 py-1 text-xs rounded-full ${v.status==="Active"?"bg-green-500/20 text-green-400 border border-green-500/30":v.status==="Paused"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:v.status})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Monthly Spend"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:S(v.monthlySpend)})]}),c.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-3",children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Active Ads"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:v.activeAds})]})]}),c.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-700",children:[c.jsxs("span",{className:"text-sm text-gray-400",children:["Updated ",p(v.lastUpdated)]}),c.jsx("button",{onClick:()=>t(`/brands/${v.id}/ads`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Ads"})]})]},v.id))})]})]}),c.jsx(Pt,{open:u,onClose:()=>!m&&d(!1),className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(Pt.Overlay,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-gray-900 rounded-2xl shadow-xl max-w-md w-full mx-4 p-6 border border-gray-700",children:[c.jsx("div",{className:"absolute right-4 top-4",children:c.jsx("button",{onClick:()=>d(!1),className:"p-1 text-gray-400 hover:text-gray-300",children:c.jsx(gs,{className:"w-5 h-5"})})}),c.jsx(Pt.Title,{className:"text-2xl font-bold text-white mb-8",children:"Request Brand"}),c.jsxs("form",{onSubmit:y,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brand Name"}),c.jsx("input",{type:"text",value:h.brandName,onChange:v=>f(k=>({...k,brandName:v.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-white focus:ring-2 focus:ring-blue-500",placeholder:"Name",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Brand Domain"}),c.jsx("input",{type:"url",value:h.brandDomain,onChange:v=>f(k=>({...k,brandDomain:v.target.value})),className:"w-full px-4 py-2 rounded-lg border border-gray-700 bg-gray-800 text-white focus:ring-2 focus:ring-blue-500",placeholder:"www.website.com",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[c.jsx("button",{type:"button",onClick:()=>d(!1),disabled:m,className:"px-4 py-2 text-gray-400 hover:text-gray-300 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{type:"submit",disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:m?"Submitting...":"Submit"})]})]})]})]})})]})}const e6=t=>{const e=["Image","Video","Carousel","Collection"],n=["Conversions","Brand Awareness","Traffic","Engagement"],r=["Feed","Stories","Reels","Marketplace"],s=["Active","Paused","Ended"],i=["https://images.unsplash.com/photo-1441986300917-64674bd600d8","https://images.unsplash.com/photo-1505740420928-5e560c06d30e","https://images.unsplash.com/photo-1542744094-3a31f272c490","https://images.unsplash.com/photo-1523275335684-37898b6baf30","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f","https://images.unsplash.com/photo-1491553895911-0055eca6402d","https://images.unsplash.com/photo-1560343090-f0409e92791a","https://images.unsplash.com/photo-1542291026-7eec264c27ff","https://images.unsplash.com/photo-1572635196237-14b3f281503f","https://images.unsplash.com/photo-1503602642458-232111445657"];return Array.from({length:20},(o,a)=>({id:`ad-${t}-${a+1}`,title:`Ad Campaign ${a+1}`,type:e[Math.floor(Math.random()*e.length)],objective:n[Math.floor(Math.random()*n.length)],placement:r[Math.floor(Math.random()*r.length)],status:s[Math.floor(Math.random()*s.length)],spend:Math.floor(Math.random()*1e4),impressions:Math.floor(Math.random()*1e6),clicks:Math.floor(Math.random()*5e4),conversions:Math.floor(Math.random()*1e3),ctr:(Math.random()*5).toFixed(2),cpc:(Math.random()*2).toFixed(2),roas:(Math.random()*10).toFixed(2),startDate:new Date(Date.now()-Math.floor(Math.random()*90)*24*60*60*1e3).toISOString(),endDate:new Date(Date.now()+Math.floor(Math.random()*30)*24*60*60*1e3).toISOString(),image:`${i[a%i.length]}?auto=format&fit=crop&w=800&q=80`}))};function t6(){const{brandId:t}=qT(),e=hn(),[n,r]=b.useState("all"),[s,i]=b.useState("spend"),[o,a]=b.useState("desc"),l=e6(t||"1"),u=l.filter(g=>n==="all"||g.status.toLowerCase()===n).sort((g,w)=>{const S=g[s],p=w[s];return typeof S=="string"&&typeof p=="string"?o==="asc"?S.localeCompare(p):p.localeCompare(S):typeof S=="number"&&typeof p=="number"?o==="asc"?S-p:p-S:0}),d=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),h=g=>new Intl.NumberFormat("en-US",{notation:"compact",maximumFractionDigits:1}).format(g),f=g=>new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),m=g=>{const w=JSON.parse(localStorage.getItem("savedTemplates")||"[]"),S={id:`template-${Date.now()}`,title:g.title,brand:`Brand ${t}`,image:g.image,category:g.type,requestedAt:new Date().toISOString(),status:"Pending"};w.push(S),localStorage.setItem("savedTemplates",JSON.stringify(w)),ye.success("Template request added to saved templates"),e("/saved")};return c.jsxs("div",{className:"flex-1 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black overflow-y-auto",children:[c.jsx("div",{className:"bg-gray-800/95 backdrop-blur-sm border-b border-gray-700",children:c.jsxs("div",{className:"px-8 py-6",children:[c.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-400 hover:text-white mb-6",children:[c.jsx(N2,{className:"w-4 h-4"}),"Back to Brands"]}),c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h1",{className:"text-2xl font-bold text-white",children:["Brand ",t," Ads"]}),c.jsxs("p",{className:"text-gray-400",children:["Analyzing performance across ",l.length," ad campaigns"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(j2,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Total Spend"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:d(l.reduce((g,w)=>g+w.spend,0))})]})]})}),c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:c.jsx(D2,{className:"w-6 h-6 text-green-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Impressions"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:h(l.reduce((g,w)=>g+w.impressions,0))})]})]})}),c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:c.jsx(el,{className:"w-6 h-6 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Conversions"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:h(l.reduce((g,w)=>g+w.conversions,0))})]})]})}),c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(m5,{className:"w-6 h-6 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Avg. ROAS"}),c.jsxs("p",{className:"text-2xl font-bold text-white",children:[(l.reduce((g,w)=>g+parseFloat(w.roas),0)/l.length).toFixed(2),"x"]})]})]})})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-6",children:[c.jsxs("select",{value:n,onChange:g=>r(g.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",children:[c.jsx("option",{value:"all",children:"All Ads"}),c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"paused",children:"Paused"}),c.jsx("option",{value:"ended",children:"Ended"})]}),c.jsxs("select",{value:s,onChange:g=>i(g.target.value),className:"px-4 py-2 bg-gray-900/50 border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",children:[c.jsx("option",{value:"spend",children:"Sort by Spend"}),c.jsx("option",{value:"impressions",children:"Sort by Impressions"}),c.jsx("option",{value:"conversions",children:"Sort by Conversions"}),c.jsx("option",{value:"roas",children:"Sort by ROAS"})]}),c.jsx("button",{onClick:()=>a(g=>g==="asc"?"desc":"asc"),className:"p-2 bg-gray-900/50 border border-gray-700 rounded-lg hover:bg-gray-800 text-white",children:c.jsx(o5,{className:`w-5 h-5 transition-transform ${o==="desc"?"rotate-180":""}`})})]})]})}),c.jsx("div",{className:"p-8",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(g=>c.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl shadow-sm overflow-hidden border border-gray-700 hover:shadow-lg transition-all group",children:[c.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[c.jsx("img",{src:g.image,alt:g.title,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex items-center justify-between",children:[c.jsxs("button",{onClick:()=>m(g),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(oo,{className:"w-4 h-4"}),"Request Template"]}),c.jsx("button",{className:"p-2 bg-white/20 hover:bg-white/30 rounded-lg backdrop-blur-sm text-white transition-colors",children:c.jsx(L0,{className:"w-5 h-5"})})]})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold text-white",children:g.title}),c.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full ${g.status==="Active"?"bg-green-500/20 text-green-400 border border-green-500/30":g.status==="Paused"?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30":"bg-gray-500/20 text-gray-400 border border-gray-500/30"}`,children:g.status})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Spend"}),c.jsx("p",{className:"text-lg font-semibold text-white",children:d(g.spend)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"ROAS"}),c.jsxs("p",{className:"text-lg font-semibold text-white",children:[g.roas,"x"]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"CTR"}),c.jsxs("p",{className:"font-medium text-white",children:[g.ctr,"%"]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"CPC"}),c.jsxs("p",{className:"font-medium text-white",children:["$",g.cpc]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400",children:"Conv."}),c.jsx("p",{className:"font-medium text-white",children:h(g.conversions)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[c.jsx(Jd,{className:"w-4 h-4"}),c.jsxs("span",{children:[f(g.startDate)," - ",f(g.endDate)]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-2.5 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs rounded-full",children:g.type}),c.jsx("span",{className:"px-2.5 py-1 bg-purple-500/20 text-purple-400 border border-purple-500/30 text-xs rounded-full",children:g.placement}),c.jsx("span",{className:"px-2.5 py-1 bg-indigo-500/20 text-indigo-400 border border-indigo-500/30 text-xs rounded-full",children:g.objective})]})]})]})]},g.id))})})]})}var Pl={};(function t(e,n,r,s){var i=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!e.OffscreenCanvas)return!1;var T=new OffscreenCanvas(1,1),_=T.getContext("2d");_.fillRect(0,0,1,1);var A=T.transferToImageBitmap();try{_.createPattern(A,"no-repeat")}catch{return!1}return!0}();function l(){}function u(T){var _=n.exports.Promise,A=_!==void 0?_:e.Promise;return typeof A=="function"?new A(T):(T(l,l),null)}var d=function(T,_){return{transform:function(A){if(T)return A;if(_.has(A))return _.get(A);var B=new OffscreenCanvas(A.width,A.height),G=B.getContext("2d");return G.drawImage(A,0,0),_.set(A,B),B},clear:function(){_.clear()}}}(a,new Map),h=function(){var T=Math.floor(16.666666666666668),_,A,B={},G=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(_=function(K){var Y=Math.random();return B[Y]=requestAnimationFrame(function z(Z){G===Z||G+T-1<Z?(G=Z,delete B[Y],K()):B[Y]=requestAnimationFrame(z)}),Y},A=function(K){B[K]&&cancelAnimationFrame(B[K])}):(_=function(K){return setTimeout(K,T)},A=function(K){return clearTimeout(K)}),{frame:_,cancel:A}}(),f=function(){var T,_,A={};function B(G){function K(Y,z){G.postMessage({options:Y||{},callback:z})}G.init=function(z){var Z=z.transferControlToOffscreen();G.postMessage({canvas:Z},[Z])},G.fire=function(z,Z,U){if(_)return K(z,null),_;var re=Math.random().toString(36).slice(2);return _=u(function(W){function ie(ee){ee.data.callback===re&&(delete A[re],G.removeEventListener("message",ie),_=null,d.clear(),U(),W())}G.addEventListener("message",ie),K(z,re),A[re]=ie.bind(null,{data:{callback:re}})}),_},G.reset=function(){G.postMessage({reset:!0});for(var z in A)A[z](),delete A[z]}}return function(){if(T)return T;if(!r&&i){var G=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{T=new Worker(URL.createObjectURL(new Blob([G])))}catch(K){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",K),null}B(T)}return T}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(T,_){return _?_(T):T}function w(T){return T!=null}function S(T,_,A){return g(T&&w(T[_])?T[_]:m[_],A)}function p(T){return T<0?0:Math.floor(T)}function y(T,_){return Math.floor(Math.random()*(_-T))+T}function v(T){return parseInt(T,16)}function k(T){return T.map(j)}function j(T){var _=String(T).replace(/[^0-9a-f]/gi,"");return _.length<6&&(_=_[0]+_[0]+_[1]+_[1]+_[2]+_[2]),{r:v(_.substring(0,2)),g:v(_.substring(2,4)),b:v(_.substring(4,6))}}function C(T){var _=S(T,"origin",Object);return _.x=S(_,"x",Number),_.y=S(_,"y",Number),_}function N(T){T.width=document.documentElement.clientWidth,T.height=document.documentElement.clientHeight}function x(T){var _=T.getBoundingClientRect();T.width=_.width,T.height=_.height}function E(T){var _=document.createElement("canvas");return _.style.position="fixed",_.style.top="0px",_.style.left="0px",_.style.pointerEvents="none",_.style.zIndex=T,_}function I(T,_,A,B,G,K,Y,z,Z){T.save(),T.translate(_,A),T.rotate(K),T.scale(B,G),T.arc(0,0,1,Y,z,Z),T.restore()}function M(T){var _=T.angle*(Math.PI/180),A=T.spread*(Math.PI/180);return{x:T.x,y:T.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:T.startVelocity*.5+Math.random()*T.startVelocity,angle2D:-_+(.5*A-Math.random()*A),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:T.color,shape:T.shape,tick:0,totalTicks:T.ticks,decay:T.decay,drift:T.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:T.gravity*3,ovalScalar:.6,scalar:T.scalar,flat:T.flat}}function O(T,_){_.x+=Math.cos(_.angle2D)*_.velocity+_.drift,_.y+=Math.sin(_.angle2D)*_.velocity+_.gravity,_.velocity*=_.decay,_.flat?(_.wobble=0,_.wobbleX=_.x+10*_.scalar,_.wobbleY=_.y+10*_.scalar,_.tiltSin=0,_.tiltCos=0,_.random=1):(_.wobble+=_.wobbleSpeed,_.wobbleX=_.x+10*_.scalar*Math.cos(_.wobble),_.wobbleY=_.y+10*_.scalar*Math.sin(_.wobble),_.tiltAngle+=.1,_.tiltSin=Math.sin(_.tiltAngle),_.tiltCos=Math.cos(_.tiltAngle),_.random=Math.random()+2);var A=_.tick++/_.totalTicks,B=_.x+_.random*_.tiltCos,G=_.y+_.random*_.tiltSin,K=_.wobbleX+_.random*_.tiltCos,Y=_.wobbleY+_.random*_.tiltSin;if(T.fillStyle="rgba("+_.color.r+", "+_.color.g+", "+_.color.b+", "+(1-A)+")",T.beginPath(),o&&_.shape.type==="path"&&typeof _.shape.path=="string"&&Array.isArray(_.shape.matrix))T.fill(H(_.shape.path,_.shape.matrix,_.x,_.y,Math.abs(K-B)*.1,Math.abs(Y-G)*.1,Math.PI/10*_.wobble));else if(_.shape.type==="bitmap"){var z=Math.PI/10*_.wobble,Z=Math.abs(K-B)*.1,U=Math.abs(Y-G)*.1,re=_.shape.bitmap.width*_.scalar,W=_.shape.bitmap.height*_.scalar,ie=new DOMMatrix([Math.cos(z)*Z,Math.sin(z)*Z,-Math.sin(z)*U,Math.cos(z)*U,_.x,_.y]);ie.multiplySelf(new DOMMatrix(_.shape.matrix));var ee=T.createPattern(d.transform(_.shape.bitmap),"no-repeat");ee.setTransform(ie),T.globalAlpha=1-A,T.fillStyle=ee,T.fillRect(_.x-re/2,_.y-W/2,re,W),T.globalAlpha=1}else if(_.shape==="circle")T.ellipse?T.ellipse(_.x,_.y,Math.abs(K-B)*_.ovalScalar,Math.abs(Y-G)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI):I(T,_.x,_.y,Math.abs(K-B)*_.ovalScalar,Math.abs(Y-G)*_.ovalScalar,Math.PI/10*_.wobble,0,2*Math.PI);else if(_.shape==="star")for(var te=Math.PI/2*3,me=4*_.scalar,fe=8*_.scalar,$e=_.x,Be=_.y,st=5,Ge=Math.PI/st;st--;)$e=_.x+Math.cos(te)*fe,Be=_.y+Math.sin(te)*fe,T.lineTo($e,Be),te+=Ge,$e=_.x+Math.cos(te)*me,Be=_.y+Math.sin(te)*me,T.lineTo($e,Be),te+=Ge;else T.moveTo(Math.floor(_.x),Math.floor(_.y)),T.lineTo(Math.floor(_.wobbleX),Math.floor(G)),T.lineTo(Math.floor(K),Math.floor(Y)),T.lineTo(Math.floor(B),Math.floor(_.wobbleY));return T.closePath(),T.fill(),_.tick<_.totalTicks}function F(T,_,A,B,G){var K=_.slice(),Y=T.getContext("2d"),z,Z,U=u(function(re){function W(){z=Z=null,Y.clearRect(0,0,B.width,B.height),d.clear(),G(),re()}function ie(){r&&!(B.width===s.width&&B.height===s.height)&&(B.width=T.width=s.width,B.height=T.height=s.height),!B.width&&!B.height&&(A(T),B.width=T.width,B.height=T.height),Y.clearRect(0,0,B.width,B.height),K=K.filter(function(ee){return O(Y,ee)}),K.length?z=h.frame(ie):W()}z=h.frame(ie),Z=W});return{addFettis:function(re){return K=K.concat(re),U},canvas:T,promise:U,reset:function(){z&&h.cancel(z),Z&&Z()}}}function q(T,_){var A=!T,B=!!S(_||{},"resize"),G=!1,K=S(_,"disableForReducedMotion",Boolean),Y=i&&!!S(_||{},"useWorker"),z=Y?f():null,Z=A?N:x,U=T&&z?!!T.__confetti_initialized:!1,re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,W;function ie(te,me,fe){for(var $e=S(te,"particleCount",p),Be=S(te,"angle",Number),st=S(te,"spread",Number),Ge=S(te,"startVelocity",Number),Ot=S(te,"decay",Number),je=S(te,"gravity",Number),Ve=S(te,"drift",Number),In=S(te,"colors",k),Ne=S(te,"ticks",Number),Kn=S(te,"shapes"),fn=S(te,"scalar"),Qn=!!S(te,"flat"),pn=C(te),mn=$e,en=[],$t=T.width*pn.x,oi=T.height*pn.y;mn--;)en.push(M({x:$t,y:oi,angle:Be,spread:st,startVelocity:Ge,color:In[mn%In.length],shape:Kn[y(0,Kn.length)],ticks:Ne,decay:Ot,gravity:je,drift:Ve,scalar:fn,flat:Qn}));return W?W.addFettis(en):(W=F(T,en,Z,me,fe),W.promise)}function ee(te){var me=K||S(te,"disableForReducedMotion",Boolean),fe=S(te,"zIndex",Number);if(me&&re)return u(function(Ge){Ge()});A&&W?T=W.canvas:A&&!T&&(T=E(fe),document.body.appendChild(T)),B&&!U&&Z(T);var $e={width:T.width,height:T.height};z&&!U&&z.init(T),U=!0,z&&(T.__confetti_initialized=!0);function Be(){if(z){var Ge={getBoundingClientRect:function(){if(!A)return T.getBoundingClientRect()}};Z(Ge),z.postMessage({resize:{width:Ge.width,height:Ge.height}});return}$e.width=$e.height=null}function st(){W=null,B&&(G=!1,e.removeEventListener("resize",Be)),A&&T&&(document.body.contains(T)&&document.body.removeChild(T),T=null,U=!1)}return B&&!G&&(G=!0,e.addEventListener("resize",Be,!1)),z?z.fire(te,$e,st):ie(te,$e,st)}return ee.reset=function(){z&&z.reset(),W&&W.reset()},ee}var oe;function de(){return oe||(oe=q(null,{useWorker:!0,resize:!0})),oe}function H(T,_,A,B,G,K,Y){var z=new Path2D(T),Z=new Path2D;Z.addPath(z,new DOMMatrix(_));var U=new Path2D;return U.addPath(Z,new DOMMatrix([Math.cos(Y)*G,Math.sin(Y)*G,-Math.sin(Y)*K,Math.cos(Y)*K,A,B])),U}function D(T){if(!o)throw new Error("path confetti are not supported in this browser");var _,A;typeof T=="string"?_=T:(_=T.path,A=T.matrix);var B=new Path2D(_),G=document.createElement("canvas"),K=G.getContext("2d");if(!A){for(var Y=1e3,z=Y,Z=Y,U=0,re=0,W,ie,ee=0;ee<Y;ee+=2)for(var te=0;te<Y;te+=2)K.isPointInPath(B,ee,te,"nonzero")&&(z=Math.min(z,ee),Z=Math.min(Z,te),U=Math.max(U,ee),re=Math.max(re,te));W=U-z,ie=re-Z;var me=10,fe=Math.min(me/W,me/ie);A=[fe,0,0,fe,-Math.round(W/2+z)*fe,-Math.round(ie/2+Z)*fe]}return{type:"path",path:_,matrix:A}}function R(T){var _,A=1,B="#000000",G='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof T=="string"?_=T:(_=T.text,A="scalar"in T?T.scalar:A,G="fontFamily"in T?T.fontFamily:G,B="color"in T?T.color:B);var K=10*A,Y=""+K+"px "+G,z=new OffscreenCanvas(K,K),Z=z.getContext("2d");Z.font=Y;var U=Z.measureText(_),re=Math.ceil(U.actualBoundingBoxRight+U.actualBoundingBoxLeft),W=Math.ceil(U.actualBoundingBoxAscent+U.actualBoundingBoxDescent),ie=2,ee=U.actualBoundingBoxLeft+ie,te=U.actualBoundingBoxAscent+ie;re+=ie+ie,W+=ie+ie,z=new OffscreenCanvas(re,W),Z=z.getContext("2d"),Z.font=Y,Z.fillStyle=B,Z.fillText(_,ee,te);var me=1/A;return{type:"bitmap",bitmap:z.transferToImageBitmap(),matrix:[me,0,0,me,-re*me/2,-W*me/2]}}n.exports=function(){return de().apply(this,arguments)},n.exports.reset=function(){de().reset()},n.exports.create=q,n.exports.shapeFromPath=D,n.exports.shapeFromText=R})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Pl,!1);const n6=Pl.exports;Pl.exports.create;function r6({steps:t,currentStep:e}){return c.jsx("div",{className:"w-full py-4 px-4 sm:px-6 lg:px-8 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200 dark:bg-gray-700"}),c.jsx("div",{className:"absolute top-5 left-0 h-0.5 bg-blue-600 transition-all duration-500",style:{width:`${e/(t.length-1)*100}%`}}),c.jsx("div",{className:"relative flex justify-between",children:t.map((n,r)=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors ${r<e?"bg-blue-600 border-blue-600 text-white":r===e?"bg-white dark:bg-gray-800 border-blue-600 text-blue-600":"bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-400"}`,children:r<e?c.jsx(Fu,{className:"w-5 h-5"}):c.jsx("span",{children:r+1})}),c.jsxs("div",{className:"mt-2 text-center",children:[c.jsx("p",{className:`text-sm font-medium ${r<=e?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400"}`,children:n.title}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:n.description})]})]},n.title))})]})})})}async function s6(t){var n,r,s,i,o,a;const e=encodeURIComponent(t);try{const l=new URL(t);if(!["http:","https:"].includes(l.protocol))throw new Error("Invalid URL protocol. Please use http:// or https://");const u=await fetch(`https://url-scraper-api.p.rapidapi.com/links?url=${e}`,{method:"GET",headers:{"x-rapidapi-host":"url-scraper-api.p.rapidapi.com","x-rapidapi-key":"5a4c655618msh0da03f4a0f4b705p1f49c1jsn8e93a41c694a"}});if(!u.ok){const m=await u.json().catch(()=>({}));throw new Error(m.message||"Failed to fetch website data")}const d=await u.json();if(!d.links||!Array.isArray(d.links))return{links:[t],metadata:{title:((n=d.metadata)==null?void 0:n.title)||l.hostname,description:((r=d.metadata)==null?void 0:r.description)||"",ogImage:(s=d.metadata)==null?void 0:s.ogImage}};const h=["/product","/products","/item","/p/","/shop","/collection","buy","store","/category","/categories","/catalog","/about","/features","/benefits","/services","/solutions","/brand","/our-","/what-we","/why-"],f=d.links.filter(m=>{const g=m.toLowerCase(),w=m.includes(l.hostname),S=l.hostname.split(".").slice(-2).join("."),p=m.includes(S);return(w||p||m.startsWith("/"))&&(h.some(y=>g.includes(y))||m.split("/").length<=4)&&!g.includes("login")&&!g.includes("cart")&&!g.includes("account")&&!g.includes("checkout")&&!g.includes("wishlist")&&!g.includes("signin")&&!g.includes("signup")&&!g.includes(".js")&&!g.includes(".css")&&!g.includes(".png")&&!g.includes(".jpg")&&!g.includes(".gif")}).map(m=>m.startsWith("/")?`${l.origin}${m}`:m);return f.length===0?{links:[t],metadata:{title:((i=d.metadata)==null?void 0:i.title)||l.hostname,description:((o=d.metadata)==null?void 0:o.description)||"",ogImage:(a=d.metadata)==null?void 0:a.ogImage}}:{links:Array.from(new Set(f)),metadata:d.metadata}}catch{const u=new URL(t);return{links:[t],metadata:{title:u.hostname,description:""}}}}async function i6(t){var e;try{const{links:n,metadata:r}=await s6(t),s=n.slice(0,10).map((u,d)=>{const h=new URL(u),f=h.pathname.split("/").filter(Boolean),g=(f[f.length-1]||h.hostname).replace(/-|_/g," ").replace(/\b\w/g,p=>p.toUpperCase()).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\..*$/,"").trim(),w=f.find(p=>["category","collection","department","shop"].some(y=>p.toLowerCase().includes(y))),S=w?w.replace(/-|_/g," ").replace(/\b\w/g,p=>p.toUpperCase()):"General";return{id:`product-${d+1}`,name:g||`Product ${d+1}`,category:S,url:u,image:(r==null?void 0:r.ogImage)||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.toLowerCase())}`}}),i=Array.from(new Set([...s.map(u=>u.category),...n.map(u=>{const d=u.match(/\/(category|collection|department|shop)\/([^/]+)/);return d?d[2].replace(/-|_/g," ").replace(/\b\w/g,h=>h.toUpperCase()):null}).filter(Boolean)])),o=new Set;r!=null&&r.description&&r.description.toLowerCase().split(/[\s,.-]+/).filter(u=>u.length>3).forEach(u=>o.add(u)),n.forEach(u=>{new URL(u).pathname.split(/[/-]/).filter(h=>h.length>3).forEach(h=>o.add(h.toLowerCase()))});const a=new URL(t);let l=((e=r==null?void 0:r.title)==null?void 0:e.split(/[|-]/)[0].trim())||a.hostname.split(".")[0].replace(/\b\w/g,u=>u.toUpperCase());return l=l.replace(/\s*[-|]\s*.+$/,"").replace(/\s*(||)/,"").trim(),{products:s,categories:i.length>0?i:["General"],mainKeywords:Array.from(o).filter(u=>!["http","https","www","com","net","org","html","php"].includes(u)&&!/^\d+$/.test(u)).slice(0,10),brandName:l,websiteUrl:t}}catch(n){throw console.error("Analysis error:",n),new Error("Unable to analyze website. Please try a different URL or contact support.")}}function o6({onAnalysisComplete:t}){const[e,n]=b.useState(""),[r,s]=b.useState(!1),[i,o]=b.useState(0),[a,l]=b.useState(null),[u,d]=b.useState(!1),h=g=>{try{const w=new URL(g);return w.protocol==="http:"||w.protocol==="https:"}catch{return!1}},f=g=>{let w=g.trim();return!w.startsWith("http://")&&!w.startsWith("https://")&&(w="https://"+w),w},m=async()=>{if(!e){ye.error("Please enter a URL");return}const g=f(e);if(!h(g)){ye.error("Please enter a valid website URL");return}s(!0),o(0),l(null);try{const w=setInterval(()=>{o(p=>Math.min(p+10,90))},500),S=await i6(g);clearInterval(w),o(100),t(S)}catch(w){const S=w instanceof Error?w.message:"Analysis failed. Please try again.";l(S),ye.error(S),console.error("Analysis error:",S)}finally{s(!1),o(0)}};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full mb-4",children:c.jsx(D0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Analyze Your Store"}),c.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Enter your store URL to automatically analyze your products and optimize your campaigns"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("label",{htmlFor:"url-input",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Store URL"}),c.jsx("button",{onClick:()=>d(!u),className:"p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:c.jsx(P2,{className:"w-4 h-4"})})]}),u&&c.jsxs("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg text-sm text-blue-800 dark:text-blue-200",children:[c.jsx("p",{className:"mb-2",children:c.jsx("strong",{children:"Tips for best results:"})}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:"Use your store's main product page or category page"}),c.jsx("li",{children:"Ensure the URL is accessible (not password protected)"}),c.jsx("li",{children:"Include the full URL with https://"})]})]}),c.jsxs("div",{className:"relative flex items-center",children:[c.jsx("input",{id:"url-input",type:"url",value:e,onChange:g=>n(g.target.value),placeholder:"Enter URL here: https://",className:`w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white
                ${h(f(e))?"border-green-300 dark:border-green-600":"border-gray-300 dark:border-gray-600"}`}),c.jsx("button",{onClick:m,disabled:!e||r,className:"absolute right-2 flex items-center gap-2 px-4 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Xd,{className:"w-4 h-4 animate-spin"}),"Analyzing..."]}):c.jsxs(c.Fragment,{children:["Start Analysis",c.jsx(Yd,{className:"w-4 h-4"})]})})]})]}),h(f(e))&&!a&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[c.jsx(i5,{className:"w-4 h-4"}),"Valid URL format"]}),a&&c.jsxs("div",{className:"flex items-start gap-2 p-4 bg-red-50 dark:bg-red-900/30 rounded-lg",children:[c.jsx(S2,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Analysis failed"}),c.jsx("p",{className:"mt-1 text-sm text-red-700 dark:text-red-300",children:a}),c.jsx("p",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:"Try using a different page URL or contact support if the issue persists."})]})]}),r&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-blue-600 rounded-full transition-all duration-300",style:{width:`${i}%`}})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[c.jsx("span",{children:"Analysis in progress..."}),c.jsxs("span",{children:[i,"%"]})]})]})]})]})}const a6=[{id:"professional",label:"Professional",icon:"",description:"Authoritative and trustworthy communication style",examples:["Expert insights","Data-driven results","Industry-leading solutions"]},{id:"humorous",label:"Humorous",icon:"",description:"Light-hearted and entertaining approach",examples:["Witty headlines","Playful messaging","Relatable content"]},{id:"inspiring",label:"Inspiring",icon:"",description:"Motivational and empowering voice",examples:["Transformative stories","Aspirational goals","Life-changing results"]},{id:"casual",label:"Casual",icon:"",description:"A relaxed and engaging style, perfect for friendly and approachable campaigns",examples:["Friendly conversations","Easy-going tone","Relatable stories"]}];function l6({analysisResult:t,onToneSelected:e}){const[n,r]=b.useState(!1);return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full mb-4",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Your Brand Voice"}),c.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Choose a tone that best represents your brand personality"})]}),c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 rounded-xl p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"Analysis Results"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 flex items-center gap-2",children:["Products Detected",c.jsxs("div",{className:"relative",children:[c.jsx("button",{onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),className:"p-1 hover:bg-blue-100 dark:hover:bg-blue-800 rounded-full transition-colors",children:c.jsx(M0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),n&&c.jsxs("div",{className:"absolute left-1/2 bottom-full mb-2 -translate-x-1/2 w-64 p-3 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Detected Products"}),c.jsx("div",{className:"max-h-48 overflow-y-auto",children:c.jsx("ul",{className:"space-y-2",children:t.products.map((s,i)=>c.jsxs("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-start gap-2",children:[c.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:[i+1,"."]}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:s.name}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:s.category})]})]},s.id))})}),c.jsx("div",{className:"absolute left-1/2 -bottom-2 -translate-x-1/2 w-3 h-3 rotate-45 bg-white dark:bg-gray-800 border-r border-b border-gray-200 dark:border-gray-700"})]})]})]}),c.jsx("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:t.products.length})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Categories"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map((s,i)=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:s},i))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Main Keywords"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.mainKeywords.slice(0,5).map((s,i)=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:s},i))})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a6.map(s=>c.jsxs("button",{onClick:()=>e(s.id),className:"flex items-start gap-4 p-6 bg-white dark:bg-gray-800 rounded-xl border-2 border-transparent hover:border-blue-500 transition-all text-left",children:[c.jsx("span",{className:"text-3xl",children:s.icon}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center justify-between",children:[s.label,c.jsx(Yd,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})]}),c.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:s.description}),c.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:s.examples.map((i,o)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-sm rounded-full",children:i},o))})]})]},s.id))})]})}var hN={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(tt,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,i=r.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(x,E){var I=(E=E||{}).dynamicTyping||!1;if(N(I)&&(E.dynamicTypingFunction=I,I={}),E.dynamicTyping=I,E.transform=!!N(E.transform)&&E.transform,E.worker&&l.WORKERS_SUPPORTED){var M=function(){if(!l.WORKERS_SUPPORTED)return!1;var F=(oe=r.URL||r.webkitURL||null,de=n.toString(),l.BLOB_URL||(l.BLOB_URL=oe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",de,")();"],{type:"text/javascript"})))),q=new r.Worker(F),oe,de;return q.onmessage=y,q.id=a++,o[q.id]=q}();return M.userStep=E.step,M.userChunk=E.chunk,M.userComplete=E.complete,M.userError=E.error,E.step=N(E.step),E.chunk=N(E.chunk),E.complete=N(E.complete),E.error=N(E.error),delete E.worker,void M.postMessage({input:x,config:E,workerId:M.id})}var O=null;return l.NODE_STREAM_INPUT,typeof x=="string"?(x=function(F){return F.charCodeAt(0)===65279?F.slice(1):F}(x),O=E.download?new h(E):new m(E)):x.readable===!0&&N(x.read)&&N(x.on)?O=new g(E):(r.File&&x instanceof File||x instanceof Object)&&(O=new f(E)),O.stream(x)},unparse:function(x,E){var I=!1,M=!0,O=",",F=`\r
`,q='"',oe=q+q,de=!1,H=null,D=!1;(function(){if(typeof E=="object"){if(typeof E.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return E.delimiter.indexOf(A)!==-1}).length||(O=E.delimiter),(typeof E.quotes=="boolean"||typeof E.quotes=="function"||Array.isArray(E.quotes))&&(I=E.quotes),typeof E.skipEmptyLines!="boolean"&&typeof E.skipEmptyLines!="string"||(de=E.skipEmptyLines),typeof E.newline=="string"&&(F=E.newline),typeof E.quoteChar=="string"&&(q=E.quoteChar),typeof E.header=="boolean"&&(M=E.header),Array.isArray(E.columns)){if(E.columns.length===0)throw new Error("Option columns is empty");H=E.columns}E.escapeChar!==void 0&&(oe=E.escapeChar+q),(typeof E.escapeFormulae=="boolean"||E.escapeFormulae instanceof RegExp)&&(D=E.escapeFormulae instanceof RegExp?E.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var R=new RegExp(S(q),"g");if(typeof x=="string"&&(x=JSON.parse(x)),Array.isArray(x)){if(!x.length||Array.isArray(x[0]))return T(null,x,de);if(typeof x[0]=="object")return T(H||Object.keys(x[0]),x,de)}else if(typeof x=="object")return typeof x.data=="string"&&(x.data=JSON.parse(x.data)),Array.isArray(x.data)&&(x.fields||(x.fields=x.meta&&x.meta.fields||H),x.fields||(x.fields=Array.isArray(x.data[0])?x.fields:typeof x.data[0]=="object"?Object.keys(x.data[0]):[]),Array.isArray(x.data[0])||typeof x.data[0]=="object"||(x.data=[x.data])),T(x.fields||[],x.data||[],de);throw new Error("Unable to serialize unrecognized input");function T(A,B,G){var K="";typeof A=="string"&&(A=JSON.parse(A)),typeof B=="string"&&(B=JSON.parse(B));var Y=Array.isArray(A)&&0<A.length,z=!Array.isArray(B[0]);if(Y&&M){for(var Z=0;Z<A.length;Z++)0<Z&&(K+=O),K+=_(A[Z],Z);0<B.length&&(K+=F)}for(var U=0;U<B.length;U++){var re=Y?A.length:B[U].length,W=!1,ie=Y?Object.keys(B[U]).length===0:B[U].length===0;if(G&&!Y&&(W=G==="greedy"?B[U].join("").trim()==="":B[U].length===1&&B[U][0].length===0),G==="greedy"&&Y){for(var ee=[],te=0;te<re;te++){var me=z?A[te]:te;ee.push(B[U][me])}W=ee.join("").trim()===""}if(!W){for(var fe=0;fe<re;fe++){0<fe&&!ie&&(K+=O);var $e=Y&&z?A[fe]:fe;K+=_(B[U][$e],fe)}U<B.length-1&&(!G||0<re&&!ie)&&(K+=F)}}return K}function _(A,B){if(A==null)return"";if(A.constructor===Date)return JSON.stringify(A).slice(1,25);var G=!1;D&&typeof A=="string"&&D.test(A)&&(A="'"+A,G=!0);var K=A.toString().replace(R,oe);return(G=G||I===!0||typeof I=="function"&&I(A,B)||Array.isArray(I)&&I[B]||function(Y,z){for(var Z=0;Z<z.length;Z++)if(-1<Y.indexOf(z[Z]))return!0;return!1}(K,l.BAD_DELIMITERS)||-1<K.indexOf(O)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?q+K+q:K}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!s&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=p,l.ParserHandle=w,l.NetworkStreamer=h,l.FileStreamer=f,l.StringStreamer=m,l.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(x){var E=x.config||{},I=[];return this.each(function(F){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var q=0;q<this.files.length;q++)I.push({file:this.files[q],inputElem:this,instanceConfig:u.extend({},E)})}),M(),this;function M(){if(I.length!==0){var F,q,oe,de,H=I[0];if(N(x.before)){var D=x.before(H.file,H.inputElem);if(typeof D=="object"){if(D.action==="abort")return F="AbortError",q=H.file,oe=H.inputElem,de=D.reason,void(N(x.error)&&x.error({name:F},q,oe,de));if(D.action==="skip")return void O();typeof D.config=="object"&&(H.instanceConfig=u.extend(H.instanceConfig,D.config))}else if(D==="skip")return void O()}var R=H.instanceConfig.complete;H.instanceConfig.complete=function(T){N(R)&&R(T,H.file,H.inputElem),O()},l.parse(H.file,H.instanceConfig)}else N(x.complete)&&x.complete()}function O(){I.splice(0,1),M()}}}function d(x){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(E){var I=j(E);I.chunkSize=parseInt(I.chunkSize),E.step||E.chunk||(I.chunkSize=null),this._handle=new w(I),(this._handle.streamer=this)._config=I}).call(this,x),this.parseChunk=function(E,I){if(this.isFirstChunk&&N(this._config.beforeFirstChunk)){var M=this._config.beforeFirstChunk(E);M!==void 0&&(E=M)}this.isFirstChunk=!1,this._halted=!1;var O=this._partialLine+E;this._partialLine="";var F=this._handle.parse(O,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var q=F.meta.cursor;this._finished||(this._partialLine=O.substring(q-this._baseIndex),this._baseIndex=q),F&&F.data&&(this._rowCount+=F.data.length);var oe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)r.postMessage({results:F,workerId:l.WORKER_ID,finished:oe});else if(N(this._config.chunk)&&!I){if(this._config.chunk(F,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);F=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(F.data),this._completeResults.errors=this._completeResults.errors.concat(F.errors),this._completeResults.meta=F.meta),this._completed||!oe||!N(this._config.complete)||F&&F.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),oe||F&&F.meta.paused||this._nextChunk(),F}this._halted=!0},this._sendError=function(E){N(this._config.error)?this._config.error(E):i&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:E,finished:!1})}}function h(x){var E;(x=x||{}).chunkSize||(x.chunkSize=l.RemoteChunkSize),d.call(this,x),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(E=new XMLHttpRequest,this._config.withCredentials&&(E.withCredentials=this._config.withCredentials),s||(E.onload=C(this._chunkLoaded,this),E.onerror=C(this._chunkError,this)),E.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var I=this._config.downloadRequestHeaders;for(var M in I)E.setRequestHeader(M,I[M])}if(this._config.chunkSize){var O=this._start+this._config.chunkSize-1;E.setRequestHeader("Range","bytes="+this._start+"-"+O)}try{E.send(this._config.downloadRequestBody)}catch(F){this._chunkError(F.message)}s&&E.status===0&&this._chunkError()}},this._chunkLoaded=function(){E.readyState===4&&(E.status<200||400<=E.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:E.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(I){var M=I.getResponseHeader("Content-Range");return M===null?-1:parseInt(M.substring(M.lastIndexOf("/")+1))}(E),this.parseChunk(E.responseText)))},this._chunkError=function(I){var M=E.statusText||I;this._sendError(new Error(M))}}function f(x){var E,I;(x=x||{}).chunkSize||(x.chunkSize=l.LocalChunkSize),d.call(this,x);var M=typeof FileReader<"u";this.stream=function(O){this._input=O,I=O.slice||O.webkitSlice||O.mozSlice,M?((E=new FileReader).onload=C(this._chunkLoaded,this),E.onerror=C(this._chunkError,this)):E=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var O=this._input;if(this._config.chunkSize){var F=Math.min(this._start+this._config.chunkSize,this._input.size);O=I.call(O,this._start,F)}var q=E.readAsText(O,this._config.encoding);M||this._chunkLoaded({target:{result:q}})},this._chunkLoaded=function(O){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(O.target.result)},this._chunkError=function(){this._sendError(E.error)}}function m(x){var E;d.call(this,x=x||{}),this.stream=function(I){return E=I,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var I,M=this._config.chunkSize;return M?(I=E.substring(0,M),E=E.substring(M)):(I=E,E=""),this._finished=!E,this.parseChunk(I)}}}function g(x){d.call(this,x=x||{});var E=[],I=!0,M=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(O){this._input=O,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&E.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),E.length?this.parseChunk(E.shift()):I=!0},this._streamData=C(function(O){try{E.push(typeof O=="string"?O:O.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(E.shift()))}catch(F){this._streamError(F)}},this),this._streamError=C(function(O){this._streamCleanUp(),this._sendError(O)},this),this._streamEnd=C(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(x){var E,I,M,O=Math.pow(2,53),F=-O,q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,oe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,de=this,H=0,D=0,R=!1,T=!1,_=[],A={data:[],errors:[],meta:{}};if(N(x.step)){var B=x.step;x.step=function(U){if(A=U,Y())K();else{if(K(),A.data.length===0)return;H+=U.data.length,x.preview&&H>x.preview?I.abort():(A.data=A.data[0],B(A,de))}}}function G(U){return x.skipEmptyLines==="greedy"?U.join("").trim()==="":U.length===1&&U[0].length===0}function K(){return A&&M&&(Z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),M=!1),x.skipEmptyLines&&(A.data=A.data.filter(function(U){return!G(U)})),Y()&&function(){if(!A)return;function U(W,ie){N(x.transformHeader)&&(W=x.transformHeader(W,ie)),_.push(W)}if(Array.isArray(A.data[0])){for(var re=0;Y()&&re<A.data.length;re++)A.data[re].forEach(U);A.data.splice(0,1)}else A.data.forEach(U)}(),function(){if(!A||!x.header&&!x.dynamicTyping&&!x.transform)return A;function U(W,ie){var ee,te=x.header?{}:[];for(ee=0;ee<W.length;ee++){var me=ee,fe=W[ee];x.header&&(me=ee>=_.length?"__parsed_extra":_[ee]),x.transform&&(fe=x.transform(fe,me)),fe=z(me,fe),me==="__parsed_extra"?(te[me]=te[me]||[],te[me].push(fe)):te[me]=fe}return x.header&&(ee>_.length?Z("FieldMismatch","TooManyFields","Too many fields: expected "+_.length+" fields but parsed "+ee,D+ie):ee<_.length&&Z("FieldMismatch","TooFewFields","Too few fields: expected "+_.length+" fields but parsed "+ee,D+ie)),te}var re=1;return!A.data.length||Array.isArray(A.data[0])?(A.data=A.data.map(U),re=A.data.length):A.data=U(A.data,0),x.header&&A.meta&&(A.meta.fields=_),D+=re,A}()}function Y(){return x.header&&_.length===0}function z(U,re){return W=U,x.dynamicTypingFunction&&x.dynamicTyping[W]===void 0&&(x.dynamicTyping[W]=x.dynamicTypingFunction(W)),(x.dynamicTyping[W]||x.dynamicTyping)===!0?re==="true"||re==="TRUE"||re!=="false"&&re!=="FALSE"&&(function(ie){if(q.test(ie)){var ee=parseFloat(ie);if(F<ee&&ee<O)return!0}return!1}(re)?parseFloat(re):oe.test(re)?new Date(re):re===""?null:re):re;var W}function Z(U,re,W,ie){var ee={type:U,code:re,message:W};ie!==void 0&&(ee.row=ie),A.errors.push(ee)}this.parse=function(U,re,W){var ie=x.quoteChar||'"';if(x.newline||(x.newline=function(me,fe){me=me.substring(0,1048576);var $e=new RegExp(S(fe)+"([^]*?)"+S(fe),"gm"),Be=(me=me.replace($e,"")).split("\r"),st=me.split(`
`),Ge=1<st.length&&st[0].length<Be[0].length;if(Be.length===1||Ge)return`
`;for(var Ot=0,je=0;je<Be.length;je++)Be[je][0]===`
`&&Ot++;return Ot>=Be.length/2?`\r
`:"\r"}(U,ie)),M=!1,x.delimiter)N(x.delimiter)&&(x.delimiter=x.delimiter(U),A.meta.delimiter=x.delimiter);else{var ee=function(me,fe,$e,Be,st){var Ge,Ot,je,Ve;st=st||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var In=0;In<st.length;In++){var Ne=st[In],Kn=0,fn=0,Qn=0;je=void 0;for(var pn=new p({comments:Be,delimiter:Ne,newline:fe,preview:10}).parse(me),mn=0;mn<pn.data.length;mn++)if($e&&G(pn.data[mn]))Qn++;else{var en=pn.data[mn].length;fn+=en,je!==void 0?0<en&&(Kn+=Math.abs(en-je),je=en):je=en}0<pn.data.length&&(fn/=pn.data.length-Qn),(Ot===void 0||Kn<=Ot)&&(Ve===void 0||Ve<fn)&&1.99<fn&&(Ot=Kn,Ge=Ne,Ve=fn)}return{successful:!!(x.delimiter=Ge),bestDelimiter:Ge}}(U,x.newline,x.skipEmptyLines,x.comments,x.delimitersToGuess);ee.successful?x.delimiter=ee.bestDelimiter:(M=!0,x.delimiter=l.DefaultDelimiter),A.meta.delimiter=x.delimiter}var te=j(x);return x.preview&&x.header&&te.preview++,E=U,I=new p(te),A=I.parse(E,re,W),K(),R?{meta:{paused:!0}}:A||{meta:{paused:!1}}},this.paused=function(){return R},this.pause=function(){R=!0,I.abort(),E=N(x.chunk)?"":E.substring(I.getCharIndex())},this.resume=function(){de.streamer._halted?(R=!1,de.streamer.parseChunk(E,!0)):setTimeout(de.resume,3)},this.aborted=function(){return T},this.abort=function(){T=!0,I.abort(),A.meta.aborted=!0,N(x.complete)&&x.complete(A),E=""}}function S(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(x){var E,I=(x=x||{}).delimiter,M=x.newline,O=x.comments,F=x.step,q=x.preview,oe=x.fastMode,de=E=x.quoteChar===void 0||x.quoteChar===null?'"':x.quoteChar;if(x.escapeChar!==void 0&&(de=x.escapeChar),(typeof I!="string"||-1<l.BAD_DELIMITERS.indexOf(I))&&(I=","),O===I)throw new Error("Comment character same as delimiter");O===!0?O="#":(typeof O!="string"||-1<l.BAD_DELIMITERS.indexOf(O))&&(O=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var H=0,D=!1;this.parse=function(R,T,_){if(typeof R!="string")throw new Error("Input must be a string");var A=R.length,B=I.length,G=M.length,K=O.length,Y=N(F),z=[],Z=[],U=[],re=H=0;if(!R)return $t();if(x.header&&!T){var W=R.split(M)[0].split(I),ie=[],ee={},te=!1;for(var me in W){var fe=W[me];N(x.transformHeader)&&(fe=x.transformHeader(fe,me));var $e=fe,Be=ee[fe]||0;for(0<Be&&(te=!0,$e=fe+"_"+Be),ee[fe]=Be+1;ie.includes($e);)$e=$e+"_"+Be;ie.push($e)}if(te){var st=R.split(M);st[0]=ie.join(I),R=st.join(M)}}if(oe||oe!==!1&&R.indexOf(E)===-1){for(var Ge=R.split(M),Ot=0;Ot<Ge.length;Ot++){if(U=Ge[Ot],H+=U.length,Ot!==Ge.length-1)H+=M.length;else if(_)return $t();if(!O||U.substring(0,K)!==O){if(Y){if(z=[],Qn(U.split(I)),oi(),D)return $t()}else Qn(U.split(I));if(q&&q<=Ot)return z=z.slice(0,q),$t(!0)}}return $t()}for(var je=R.indexOf(I,H),Ve=R.indexOf(M,H),In=new RegExp(S(de)+S(E),"g"),Ne=R.indexOf(E,H);;)if(R[H]!==E)if(O&&U.length===0&&R.substring(H,H+K)===O){if(Ve===-1)return $t();H=Ve+G,Ve=R.indexOf(M,H),je=R.indexOf(I,H)}else if(je!==-1&&(je<Ve||Ve===-1))U.push(R.substring(H,je)),H=je+B,je=R.indexOf(I,H);else{if(Ve===-1)break;if(U.push(R.substring(H,Ve)),en(Ve+G),Y&&(oi(),D))return $t();if(q&&z.length>=q)return $t(!0)}else for(Ne=H,H++;;){if((Ne=R.indexOf(E,Ne+1))===-1)return _||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:H}),mn();if(Ne===A-1)return mn(R.substring(H,Ne).replace(In,E));if(E!==de||R[Ne+1]!==de){if(E===de||Ne===0||R[Ne-1]!==de){je!==-1&&je<Ne+1&&(je=R.indexOf(I,Ne+1)),Ve!==-1&&Ve<Ne+1&&(Ve=R.indexOf(M,Ne+1));var Kn=pn(Ve===-1?je:Math.min(je,Ve));if(R.substr(Ne+1+Kn,B)===I){U.push(R.substring(H,Ne).replace(In,E)),R[H=Ne+1+Kn+B]!==E&&(Ne=R.indexOf(E,H)),je=R.indexOf(I,H),Ve=R.indexOf(M,H);break}var fn=pn(Ve);if(R.substring(Ne+1+fn,Ne+1+fn+G)===M){if(U.push(R.substring(H,Ne).replace(In,E)),en(Ne+1+fn+G),je=R.indexOf(I,H),Ne=R.indexOf(E,H),Y&&(oi(),D))return $t();if(q&&z.length>=q)return $t(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:H}),Ne++}}else Ne++}return mn();function Qn(tn){z.push(tn),re=H}function pn(tn){var ey=0;if(tn!==-1){var gh=R.substring(Ne+1,tn);gh&&gh.trim()===""&&(ey=gh.length)}return ey}function mn(tn){return _||(tn===void 0&&(tn=R.substring(H)),U.push(tn),H=A,Qn(U),Y&&oi()),$t()}function en(tn){H=tn,Qn(U),U=[],Ve=R.indexOf(M,H)}function $t(tn){return{data:z,errors:Z,meta:{delimiter:I,linebreak:M,aborted:D,truncated:!!tn,cursor:re+(T||0)}}}function oi(){F($t()),z=[],Z=[]}},this.abort=function(){D=!0},this.getCharIndex=function(){return H}}function y(x){var E=x.data,I=o[E.workerId],M=!1;if(E.error)I.userError(E.error,E.file);else if(E.results&&E.results.data){var O={abort:function(){M=!0,v(E.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(N(I.userStep)){for(var F=0;F<E.results.data.length&&(I.userStep({data:E.results.data[F],errors:E.results.errors,meta:E.results.meta},O),!M);F++);delete E.results}else N(I.userChunk)&&(I.userChunk(E.results,O,E.file),delete E.results)}E.finished&&!M&&v(E.workerId,E.results)}function v(x,E){var I=o[x];N(I.userComplete)&&I.userComplete(E),I.terminate(),delete o[x]}function k(){throw new Error("Not implemented.")}function j(x){if(typeof x!="object"||x===null)return x;var E=Array.isArray(x)?[]:{};for(var I in x)E[I]=j(x[I]);return E}function C(x,E){return function(){x.apply(E,arguments)}}function N(x){return typeof x=="function"}return i&&(r.onmessage=function(x){var E=x.data;if(l.WORKER_ID===void 0&&E&&(l.WORKER_ID=E.workerId),typeof E.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(E.input,E.config),finished:!0});else if(r.File&&E.input instanceof File||E.input instanceof Object){var I=l.parse(E.input,E.config);I&&r.postMessage({workerId:l.WORKER_ID,results:I,finished:!0})}}),(h.prototype=Object.create(d.prototype)).constructor=h,(f.prototype=Object.create(d.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(g.prototype=Object.create(d.prototype)).constructor=g,l})})(hN);var c6=hN.exports;const u6=xm(c6);function d6({productId:t,productName:e,onImport:n}){const[r,s]=b.useState(!1),[i,o]=b.useState([]),[a,l]=b.useState(null),[u,d]=b.useState(!1),[h,f]=b.useState(!1),[m,g]=b.useState({rating:5,comment:"",date:new Date().toISOString().split("T")[0]}),w=C=>{C.preventDefault(),s(!0)},S=()=>{s(!1)},p=C=>{const N=["rating","comment","date"],x=Object.keys(C[0]),E=N.filter(I=>!x.includes(I));if(E.length>0)throw new Error(`Missing required columns: ${E.join(", ")}`);return C.map(I=>({rating:Number(I.rating),comment:I.comment,date:I.date}))},y=C=>{if(!C.name.endsWith(".csv")){l("Please upload a CSV file");return}u6.parse(C,{header:!0,complete:N=>{try{const x=p(N.data);o(x.slice(0,3)),n(x),ye.success(`${x.length} reviews imported for ${e}`),l(null)}catch(x){l(x.message),ye.error("Failed to import reviews")}},error:()=>{l("Failed to parse CSV file"),ye.error("Failed to parse CSV file")}})},v=C=>{C.preventDefault(),s(!1);const N=C.dataTransfer.files[0];N&&y(N)},k=C=>{var x;const N=(x=C.target.files)==null?void 0:x[0];N&&y(N)},j=C=>{if(C.preventDefault(),!m.comment||!m.rating){ye.error("Please fill in all required fields");return}const N={rating:Number(m.rating),comment:m.comment,date:m.date||new Date().toISOString().split("T")[0]};n([N]),ye.success("Review added successfully"),f(!1),g({rating:5,comment:"",date:new Date().toISOString().split("T")[0]})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Customer Reviews for ",e]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300",children:c.jsx(M0,{className:"w-4 h-4"})}),u&&c.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 bottom-full mb-2 w-72 p-3 bg-gray-900 dark:bg-gray-700 text-white text-sm rounded-lg shadow-lg z-50",children:[c.jsx("p",{className:"leading-relaxed",children:"Import customer reviews to identify key benefits and objections. This helps create targeted ad copy that resonates with your audience."}),c.jsx("div",{className:"absolute left-1/2 -bottom-2 -translate-x-1/2 border-8 border-transparent border-t-gray-900 dark:border-t-gray-700"})]})]})]}),c.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300",children:[c.jsx(f5,{className:"w-4 h-4"}),"Add Review"]})]}),h&&c.jsx("form",{onSubmit:j,className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 mb-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rating"}),c.jsx("select",{value:m.rating,onChange:C=>g(N=>({...N,rating:Number(C.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[5,4,3,2,1].map(C=>c.jsxs("option",{value:C,children:[C," stars"]},C))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Review"}),c.jsx("textarea",{value:m.comment,onChange:C=>g(N=>({...N,comment:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Enter customer review..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date"}),c.jsx("input",{type:"date",value:m.date,onChange:C=>g(N=>({...N,date:C.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-3 py-1.5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Review"})]})]})}),c.jsxs("div",{onDragOver:w,onDragLeave:S,onDrop:v,className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"}`,children:[c.jsx("input",{type:"file",accept:".csv",onChange:k,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.jsxs("div",{className:"text-center",children:[c.jsx(g5,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Drag and drop your CSV file here, or click to browse"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"CSV file should include: rating, comment, date"})]})]}),a&&c.jsxs("div",{className:"flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[c.jsx(S2,{className:"w-4 h-4"}),a]}),i.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Preview"}),i.map((C,N)=>c.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[C.rating,"/5"]}),c.jsx("span",{className:"text-yellow-400",children:"".repeat(Math.round(C.rating))})]}),c.jsx("span",{className:"text-xs text-gray-500",children:C.date})]}),c.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:C.comment})]},N))]})]})}function h6({product:t,onSave:e,onClose:n}){const[r,s]=b.useState(t),i=o=>{o.preventDefault(),e(r)};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:n}),c.jsxs("div",{className:"fixed inset-x-4 top-[10%] md:inset-auto md:left-1/2 md:top-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:max-w-lg w-full bg-white dark:bg-gray-800 rounded-xl shadow-xl z-50",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Edit Product"}),c.jsx("button",{onClick:n,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(gs,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:i,className:"p-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product Name"}),c.jsx("input",{type:"text",value:r.name,onChange:o=>s(a=>({...a,name:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter product name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),c.jsx("input",{type:"text",value:r.category,onChange:o=>s(a=>({...a,category:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter category"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),c.jsx("textarea",{value:r.description||"",onChange:o=>s(a=>({...a,description:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:4,placeholder:"Enter product description"}),c.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add key features, benefits, and unique selling points"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product URL"}),c.jsx("input",{type:"url",value:r.url||"",onChange:o=>s(a=>({...a,url:o.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com/product"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(O0,{className:"w-4 h-4"}),"Save Changes"]})]})]})]})]})}const bf=2,f6=t=>{const e=[`Premium ${t.category.toLowerCase()} solution designed for optimal performance and reliability.`,`High-quality ${t.category.toLowerCase()} product that delivers exceptional results.`,`Innovative ${t.category.toLowerCase()} offering with advanced features and capabilities.`,`Professional-grade ${t.category.toLowerCase()} solution for demanding users.`];return e[Math.floor(Math.random()*e.length)]};function p6({analysisResult:t,selectedTone:e,onSave:n,isSaving:r}){const s=hn(),[i,o]=b.useState(null),[a,l]=b.useState(null),[u,d]=b.useState(!1),[h,f]=b.useState(!1),[m,g]=b.useState(t.products.map(k=>({...k,description:k.description||f6(k),image:k.image||`https://source.unsplash.com/800x600/?${encodeURIComponent(k.category.toLowerCase())}`}))),w=u?m:m.slice(0,bf),S=k=>{l(k)},p=k=>{g(j=>j.map(C=>C.id===k.id?k:C)),l(null)},y=(k,j=150)=>!k||k.length<=j?k:k.slice(0,j)+"...",v=async()=>{await n(),s("/knowledge-base")};return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full mb-4",children:c.jsx("span",{className:"text-3xl",children:""})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Review and Import"}),c.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Review detected products and import customer reviews"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm",children:[c.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Analysis Summary"})}),c.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Brand Name"}),c.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:t.brandName})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Selected Tone"}),c.jsx("div",{className:"mt-1",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:e.charAt(0).toUpperCase()+e.slice(1)})})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Products Detected"}),c.jsx("div",{className:"mt-1 text-lg font-semibold text-gray-900 dark:text-white",children:m.length})]})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Import Customer Reviews"}),c.jsxs("button",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:"p-1 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 relative",children:[c.jsx(M0,{className:"w-4 h-4"}),h&&c.jsxs("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 w-72 p-3 bg-gray-900 dark:bg-gray-700 text-white text-sm rounded-lg shadow-lg z-50",children:[c.jsx("p",{children:"Import customer reviews to enhance your ad targeting and messaging. Reviews help identify key benefits, pain points, and customer language patterns."}),c.jsx("div",{className:"absolute right-full top-1/2 -translate-y-1/2 border-8 border-transparent border-r-gray-900 dark:border-r-gray-700"})]})]})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Upload your customer reviews to automatically analyze sentiment, extract key benefits, and identify common pain points. This data will help create more targeted and effective ad campaigns."}),c.jsx(d6,{productId:"all",productName:"All Products",onImport:k=>{console.log(`Imported ${k.length} reviews`)}})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Products Detected"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:w.map(k=>c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:[k.image&&c.jsx("div",{className:"aspect-video w-full overflow-hidden",children:c.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover",loading:"lazy"})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"space-y-1 flex-1",children:[c.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:k.name}),c.jsx("div",{className:"flex flex-wrap items-center gap-2",children:c.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[c.jsx(F2,{className:"w-3.5 h-3.5"}),k.category]})}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:[i===k.id?k.description:y(k.description),k.description&&k.description.length>150&&c.jsx("button",{onClick:()=>o(i===k.id?null:k.id),className:"ml-1 text-blue-600 hover:text-blue-500",children:i===k.id?"Show less":"Read more"})]})]}),c.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[c.jsx("button",{onClick:()=>S(k),className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(O2,{className:"w-5 h-5"})}),k.url&&c.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(A2,{className:"w-5 h-5"})})]})]})})]},k.id))}),m.length>bf&&c.jsx("div",{className:"flex justify-center mt-6",children:c.jsx("button",{onClick:()=>d(!u),className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:u?c.jsx(c.Fragment,{children:"Show Less"}):c.jsxs(c.Fragment,{children:["Show ",m.length-bf," More Products"]})})})]})]}),a&&c.jsx(h6,{product:a,onSave:p,onClose:()=>l(null)}),c.jsx("div",{className:"sticky bottom-6 flex justify-center",children:c.jsx("button",{onClick:v,disabled:r,className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Xd,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(O0,{className:"w-5 h-5"}),"Save and Continue"]})})})]})}function fN({isOpen:t,onClose:e,data:n}){const[r,s]=b.useState(""),[i,o]=b.useState("viewer"),[a,l]=b.useState(!1),u=`${window.location.origin}/shared/${btoa(JSON.stringify({id:n.id}))}`,d=async()=>{try{await navigator.clipboard.writeText(u),l(!0),setTimeout(()=>l(!1),2e3),ye.success("Link copied to clipboard")}catch{ye.error("Failed to copy link")}},h=f=>{f.preventDefault(),ye.success(`Invited ${r} as ${i}`),s("")};return c.jsx(Pt,{open:t,onClose:e,className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(Pt.Overlay,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsx(Pt.Title,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Share Knowledge Base"}),c.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(gs,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Share Link"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex-1 flex items-center gap-2 px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[c.jsx(a5,{className:"w-4 h-4 text-gray-400 dark:text-gray-500"}),c.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 bg-transparent border-none focus:outline-none text-sm text-gray-900 dark:text-white"})]}),c.jsx("button",{onClick:d,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a?c.jsx(Fu,{className:"w-5 h-5 text-green-500"}):c.jsx(Bu,{className:"w-5 h-5"})})]})]}),c.jsxs("form",{onSubmit:h,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Invite Team Members"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"email",value:r,onChange:f=>s(f.target.value),placeholder:"Enter email address",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),c.jsxs("select",{value:i,onChange:f=>o(f.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[c.jsx("option",{value:"viewer",children:"Viewer"}),c.jsx("option",{value:"editor",children:"Editor"}),c.jsx("option",{value:"admin",children:"Admin"})]})]})]}),c.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(el,{className:"w-4 h-4"}),"Invite"]})]})]})]})]})})}var pN={},mN={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)e.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(mN);var m6=mN.exports,ts={},gN={},kr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(){}e.prototype={diff:function(s,i){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=a.callback;typeof a=="function"&&(l=a,a={}),this.options=a;var u=this;function d(N){return l?(setTimeout(function(){l(void 0,N)},0),!0):N}s=this.castInput(s),i=this.castInput(i),s=this.removeEmpty(this.tokenize(s)),i=this.removeEmpty(this.tokenize(i));var h=i.length,f=s.length,m=1,g=h+f;a.maxEditLength&&(g=Math.min(g,a.maxEditLength));var w=(o=a.timeout)!==null&&o!==void 0?o:1/0,S=Date.now()+w,p=[{oldPos:-1,lastComponent:void 0}],y=this.extractCommon(p[0],i,s,0);if(p[0].oldPos+1>=f&&y+1>=h)return d([{value:this.join(i),count:i.length}]);var v=-1/0,k=1/0;function j(){for(var N=Math.max(v,-m);N<=Math.min(k,m);N+=2){var x=void 0,E=p[N-1],I=p[N+1];E&&(p[N-1]=void 0);var M=!1;if(I){var O=I.oldPos-N;M=I&&0<=O&&O<h}var F=E&&E.oldPos+1<f;if(!M&&!F){p[N]=void 0;continue}if(!F||M&&E.oldPos+1<I.oldPos?x=u.addToPath(I,!0,void 0,0):x=u.addToPath(E,void 0,!0,1),y=u.extractCommon(x,i,s,N),x.oldPos+1>=f&&y+1>=h)return d(n(u,x.lastComponent,i,s,u.useLongestToken));p[N]=x,x.oldPos+1>=f&&(k=Math.min(k,N-1)),y+1>=h&&(v=Math.max(v,N+1))}m++}if(l)(function N(){setTimeout(function(){if(m>g||Date.now()>S)return l();j()||N()},0)})();else for(;m<=g&&Date.now()<=S;){var C=j();if(C)return C}},addToPath:function(s,i,o,a){var l=s.lastComponent;return l&&l.added===i&&l.removed===o?{oldPos:s.oldPos+a,lastComponent:{count:l.count+1,added:i,removed:o,previousComponent:l.previousComponent}}:{oldPos:s.oldPos+a,lastComponent:{count:1,added:i,removed:o,previousComponent:l}}},extractCommon:function(s,i,o,a){for(var l=i.length,u=o.length,d=s.oldPos,h=d-a,f=0;h+1<l&&d+1<u&&this.equals(i[h+1],o[d+1]);)h++,d++,f++;return f&&(s.lastComponent={count:f,previousComponent:s.lastComponent}),s.oldPos=d,h},equals:function(s,i){return this.options.comparator?this.options.comparator(s,i):s===i||this.options.ignoreCase&&s.toLowerCase()===i.toLowerCase()},removeEmpty:function(s){for(var i=[],o=0;o<s.length;o++)s[o]&&i.push(s[o]);return i},castInput:function(s){return s},tokenize:function(s){return s.split("")},join:function(s){return s.join("")}};function n(r,s,i,o,a){for(var l=[],u;s;)l.push(s),u=s.previousComponent,delete s.previousComponent,s=u;l.reverse();for(var d=0,h=l.length,f=0,m=0;d<h;d++){var g=l[d];if(g.removed){if(g.value=r.join(o.slice(m,m+g.count)),m+=g.count,d&&l[d-1].added){var S=l[d-1];l[d-1]=l[d],l[d]=S}}else{if(!g.added&&a){var w=i.slice(f,f+g.count);w=w.map(function(y,v){var k=o[m+v];return k.length>y.length?k:y}),g.value=r.join(w)}else g.value=r.join(i.slice(f,f+g.count));f+=g.count,g.added||(m+=g.count)}}var p=l[h-1];return h>1&&typeof p.value=="string"&&(p.added||p.removed)&&r.equals("",p.value)&&(l[h-2].value+=p.value,l.pop()),l}})(kr);var Ml={};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.diffChars=v6;Ml.characterDiff=void 0;var g6=y6(kr);function y6(t){return t&&t.__esModule?t:{default:t}}var yN=new g6.default;Ml.characterDiff=yN;function v6(t,e,n){return yN.diff(t,e,n)}var So={},ah={};Object.defineProperty(ah,"__esModule",{value:!0});ah.generateOptions=w6;function w6(t,e){if(typeof t=="function")e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(So,"__esModule",{value:!0});So.diffWords=E6;So.diffWordsWithSpace=S6;So.wordDiff=void 0;var x6=k6(kr),b6=ah;function k6(t){return t&&t.__esModule?t:{default:t}}var mx=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,gx=/\S/,Rl=new x6.default;So.wordDiff=Rl;Rl.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!gx.test(t)&&!gx.test(e)};Rl.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&mx.test(e[n])&&mx.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};function E6(t,e,n){return n=(0,b6.generateOptions)(n,{ignoreWhitespace:!0}),Rl.diff(t,e,n)}function S6(t,e,n){return Rl.diff(t,e,n)}var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.diffLines=T6;vs.diffTrimmedLines=I6;vs.lineDiff=void 0;var N6=C6(kr),_6=ah;function C6(t){return t&&t.__esModule?t:{default:t}}var lh=new N6.default;vs.lineDiff=lh;lh.tokenize=function(t){this.options.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var s=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),e.push(s))}return e};function T6(t,e,n){return lh.diff(t,e,n)}function I6(t,e,n){var r=(0,_6.generateOptions)(n,{ignoreWhitespace:!0});return lh.diff(t,e,r)}var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.diffSentences=D6;Ol.sentenceDiff=void 0;var j6=A6(kr);function A6(t){return t&&t.__esModule?t:{default:t}}var z0=new j6.default;Ol.sentenceDiff=z0;z0.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};function D6(t,e,n){return z0.diff(t,e,n)}var $l={};Object.defineProperty($l,"__esModule",{value:!0});$l.diffCss=R6;$l.cssDiff=void 0;var P6=M6(kr);function M6(t){return t&&t.__esModule?t:{default:t}}var H0=new P6.default;$l.cssDiff=H0;H0.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function R6(t,e,n){return H0.diff(t,e,n)}var No={};Object.defineProperty(No,"__esModule",{value:!0});No.diffJson=F6;No.canonicalize=Gu;No.jsonDiff=void 0;var vN=$6(kr),O6=vs;function $6(t){return t&&t.__esModule?t:{default:t}}function Bc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bc=function(n){return typeof n}:Bc=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bc(t)}var L6=Object.prototype.toString,Js=new vN.default;No.jsonDiff=Js;Js.useLongestToken=!0;Js.tokenize=O6.lineDiff.tokenize;Js.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,s=r===void 0?function(i,o){return typeof o>"u"?n:o}:r;return typeof t=="string"?t:JSON.stringify(Gu(t,null,null,s),s,"  ")};Js.equals=function(t,e){return vN.default.prototype.equals.call(Js,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function F6(t,e,n){return Js.diff(t,e,n)}function Gu(t,e,n,r,s){e=e||[],n=n||[],r&&(t=r(s,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return n[i];var o;if(L6.call(t)==="[object Array]"){for(e.push(t),o=new Array(t.length),n.push(o),i=0;i<t.length;i+=1)o[i]=Gu(t[i],e,n,r,s);return e.pop(),n.pop(),o}if(t&&t.toJSON&&(t=t.toJSON()),Bc(t)==="object"&&t!==null){e.push(t),o={},n.push(o);var a=[],l;for(l in t)t.hasOwnProperty(l)&&a.push(l);for(a.sort(),i=0;i<a.length;i+=1)l=a[i],o[l]=Gu(t[l],e,n,r,l);e.pop(),n.pop()}else o=t;return o}var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.diffArrays=V6;Ll.arrayDiff=void 0;var U6=B6(kr);function B6(t){return t&&t.__esModule?t:{default:t}}var nl=new U6.default;Ll.arrayDiff=nl;nl.tokenize=function(t){return t.slice()};nl.join=nl.removeEmpty=function(t){return t};function V6(t,e,n){return nl.diff(t,e,n)}var ch={},Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.parsePatch=z6;function z6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],s=[],i=0;function o(){var u={};for(s.push(u);i<n.length;){var d=n[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(d))break;var h=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(d);h&&(u.index=h[1]),i++}for(a(u),a(u),u.hunks=[];i<n.length;){var f=n[i];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(f))break;if(/^@@/.test(f))u.hunks.push(l());else{if(f&&e.strict)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(f));i++}}}function a(u){var d=/^(---|\+\+\+)\s+(.*)$/.exec(n[i]);if(d){var h=d[1]==="---"?"old":"new",f=d[2].split("	",2),m=f[0].replace(/\\\\/g,"\\");/^".*"$/.test(m)&&(m=m.substr(1,m.length-2)),u[h+"FileName"]=m,u[h+"Header"]=(f[1]||"").trim(),i++}}function l(){var u=i,d=n[i++],h=d.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),f={oldStart:+h[1],oldLines:typeof h[2]>"u"?1:+h[2],newStart:+h[3],newLines:typeof h[4]>"u"?1:+h[4],lines:[],linedelimiters:[]};f.oldLines===0&&(f.oldStart+=1),f.newLines===0&&(f.newStart+=1);for(var m=0,g=0;i<n.length&&!(n[i].indexOf("--- ")===0&&i+2<n.length&&n[i+1].indexOf("+++ ")===0&&n[i+2].indexOf("@@")===0);i++){var w=n[i].length==0&&i!=n.length-1?" ":n[i][0];if(w==="+"||w==="-"||w===" "||w==="\\")f.lines.push(n[i]),f.linedelimiters.push(r[i]||`
`),w==="+"?m++:w==="-"?g++:w===" "&&(m++,g++);else break}if(!m&&f.newLines===1&&(f.newLines=0),!g&&f.oldLines===1&&(f.oldLines=0),e.strict){if(m!==f.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(g!==f.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return f}for(;i<n.length;)o();return s}var wN={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=e;function e(n,r,s){var i=!0,o=!1,a=!1,l=1;return function u(){if(i&&!a){if(o?l++:i=!1,n+l<=s)return l;a=!0}if(!o)return a||(i=!0),r<=n-l?-l++:(o=!0,u())}}})(wN);Object.defineProperty(ch,"__esModule",{value:!0});ch.applyPatch=bN;ch.applyPatches=q6;var xN=Fl,H6=W6(wN);function W6(t){return t&&t.__esModule?t:{default:t}}function bN(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=(0,xN.parsePatch)(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=t.split(/\r\n|[\n\v\f\r\x85]/),s=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=e.hunks,o=n.compareLine||function(oe,de,H,D){return de===D},a=0,l=n.fuzzFactor||0,u=0,d=0,h,f;function m(oe,de){for(var H=0;H<oe.lines.length;H++){var D=oe.lines[H],R=D.length>0?D[0]:" ",T=D.length>0?D.substr(1):D;if(R===" "||R==="-"){if(!o(de+1,r[de],R,T)&&(a++,a>l))return!1;de++}}return!0}for(var g=0;g<i.length;g++){for(var w=i[g],S=r.length-w.oldLines,p=0,y=d+w.oldStart-1,v=(0,H6.default)(y,u,S);p!==void 0;p=v())if(m(w,y+p)){w.offset=d+=p;break}if(p===void 0)return!1;u=w.offset+w.oldStart+w.oldLines}for(var k=0,j=0;j<i.length;j++){var C=i[j],N=C.oldStart+C.offset+k-1;k+=C.newLines-C.oldLines;for(var x=0;x<C.lines.length;x++){var E=C.lines[x],I=E.length>0?E[0]:" ",M=E.length>0?E.substr(1):E,O=C.linedelimiters&&C.linedelimiters[x]||`
`;if(I===" ")N++;else if(I==="-")r.splice(N,1),s.splice(N,1);else if(I==="+")r.splice(N,0,M),s.splice(N,0,O),N++;else if(I==="\\"){var F=C.lines[x-1]?C.lines[x-1][0]:null;F==="+"?h=!0:F==="-"&&(f=!0)}}}if(h)for(;!r[r.length-1];)r.pop(),s.pop();else f&&(r.push(""),s.push(`
`));for(var q=0;q<r.length-1;q++)r[q]=r[q]+s[q];return r.join("")}function q6(t,e){typeof t=="string"&&(t=(0,xN.parsePatch)(t));var n=0;function r(){var s=t[n++];if(!s)return e.complete();e.loadFile(s,function(i,o){if(i)return e.complete(i);var a=bN(o,s,e);e.patched(s,a,function(l){if(l)return e.complete(l);r()})})}r()}var uh={},ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.structuredPatch=kN;ii.formatPatch=W0;ii.createTwoFilesPatch=EN;ii.createPatch=X6;var G6=vs;function kf(t){return J6(t)||Y6(t)||Q6(t)||K6()}function K6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q6(t,e){if(t){if(typeof t=="string")return pm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pm(t,e)}}function Y6(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function J6(t){if(Array.isArray(t))return pm(t)}function pm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kN(t,e,n,r,s,i,o){o||(o={}),typeof o.context>"u"&&(o.context=4);var a=(0,G6.diffLines)(n,r,o);if(!a)return;a.push({value:"",lines:[]});function l(p){return p.map(function(y){return" "+y})}for(var u=[],d=0,h=0,f=[],m=1,g=1,w=function(y){var v=a[y],k=v.lines||v.value.replace(/\n$/,"").split(`
`);if(v.lines=k,v.added||v.removed){var j;if(!d){var C=a[y-1];d=m,h=g,C&&(f=o.context>0?l(C.lines.slice(-o.context)):[],d-=f.length,h-=f.length)}(j=f).push.apply(j,kf(k.map(function(q){return(v.added?"+":"-")+q}))),v.added?g+=k.length:m+=k.length}else{if(d)if(k.length<=o.context*2&&y<a.length-2){var N;(N=f).push.apply(N,kf(l(k)))}else{var x,E=Math.min(k.length,o.context);(x=f).push.apply(x,kf(l(k.slice(0,E))));var I={oldStart:d,oldLines:m-d+E,newStart:h,newLines:g-h+E,lines:f};if(y>=a.length-2&&k.length<=o.context){var M=/\n$/.test(n),O=/\n$/.test(r),F=k.length==0&&f.length>I.oldLines;!M&&F&&n.length>0&&f.splice(I.oldLines,0,"\\ No newline at end of file"),(!M&&!F||!O)&&f.push("\\ No newline at end of file")}u.push(I),d=0,h=0,f=[]}m+=k.length,g+=k.length}},S=0;S<a.length;S++)w(S);return{oldFileName:t,newFileName:e,oldHeader:s,newHeader:i,hunks:u}}function W0(t){if(Array.isArray(t))return t.map(W0).join(`
`);var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(typeof t.oldHeader>"u"?"":"	"+t.oldHeader)),e.push("+++ "+t.newFileName+(typeof t.newHeader>"u"?"":"	"+t.newHeader));for(var n=0;n<t.hunks.length;n++){var r=t.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join(`
`)+`
`}function EN(t,e,n,r,s,i,o){return W0(kN(t,e,n,r,s,i,o))}function X6(t,e,n,r,s,i){return EN(t,t,e,n,r,s,i)}var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.arrayEqual=Z6;dh.arrayStartsWith=SN;function Z6(t,e){return t.length!==e.length?!1:SN(t,e)}function SN(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(uh,"__esModule",{value:!0});uh.calcLineCount=NN;uh.merge=oF;var eF=ii,tF=Fl,Ef=dh;function Li(t){return iF(t)||sF(t)||rF(t)||nF()}function nF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(t,e){if(t){if(typeof t=="string")return mm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mm(t,e)}}function sF(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iF(t){if(Array.isArray(t))return mm(t)}function mm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NN(t){var e=gm(t.lines),n=e.oldLines,r=e.newLines;n!==void 0?t.oldLines=n:delete t.oldLines,r!==void 0?t.newLines=r:delete t.newLines}function oF(t,e,n){t=yx(t,n),e=yx(e,n);var r={};(t.index||e.index)&&(r.index=t.index||e.index),(t.newFileName||e.newFileName)&&(vx(t)?vx(e)?(r.oldFileName=yc(r,t.oldFileName,e.oldFileName),r.newFileName=yc(r,t.newFileName,e.newFileName),r.oldHeader=yc(r,t.oldHeader,e.oldHeader),r.newHeader=yc(r,t.newHeader,e.newHeader)):(r.oldFileName=t.oldFileName,r.newFileName=t.newFileName,r.oldHeader=t.oldHeader,r.newHeader=t.newHeader):(r.oldFileName=e.oldFileName||t.oldFileName,r.newFileName=e.newFileName||t.newFileName,r.oldHeader=e.oldHeader||t.oldHeader,r.newHeader=e.newHeader||t.newHeader)),r.hunks=[];for(var s=0,i=0,o=0,a=0;s<t.hunks.length||i<e.hunks.length;){var l=t.hunks[s]||{oldStart:1/0},u=e.hunks[i]||{oldStart:1/0};if(wx(l,u))r.hunks.push(xx(l,o)),s++,a+=l.newLines-l.oldLines;else if(wx(u,l))r.hunks.push(xx(u,a)),i++,o+=u.newLines-u.oldLines;else{var d={oldStart:Math.min(l.oldStart,u.oldStart),oldLines:0,newStart:Math.min(l.newStart+o,u.oldStart+a),newLines:0,lines:[]};aF(d,l.oldStart,l.lines,u.oldStart,u.lines),i++,s++,r.hunks.push(d)}}return r}function yx(t,e){if(typeof t=="string"){if(/^@@/m.test(t)||/^Index:/m.test(t))return(0,tF.parsePatch)(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return(0,eF.structuredPatch)(void 0,void 0,e,t)}return t}function vx(t){return t.newFileName&&t.newFileName!==t.oldFileName}function yc(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function wx(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function xx(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function aF(t,e,n,r,s){var i={offset:e,lines:n,index:0},o={offset:r,lines:s,index:0};for(kx(t,i,o),kx(t,o,i);i.index<i.lines.length&&o.index<o.lines.length;){var a=i.lines[i.index],l=o.lines[o.index];if((a[0]==="-"||a[0]==="+")&&(l[0]==="-"||l[0]==="+"))lF(t,i,o);else if(a[0]==="+"&&l[0]===" "){var u;(u=t.lines).push.apply(u,Li(Ds(i)))}else if(l[0]==="+"&&a[0]===" "){var d;(d=t.lines).push.apply(d,Li(Ds(o)))}else a[0]==="-"&&l[0]===" "?bx(t,i,o):l[0]==="-"&&a[0]===" "?bx(t,o,i,!0):a===l?(t.lines.push(a),i.index++,o.index++):q0(t,Ds(i),Ds(o))}Ex(t,i),Ex(t,o),NN(t)}function lF(t,e,n){var r=Ds(e),s=Ds(n);if(Sx(r)&&Sx(s)){if((0,Ef.arrayStartsWith)(r,s)&&Nx(n,r,r.length-s.length)){var i;(i=t.lines).push.apply(i,Li(r));return}else if((0,Ef.arrayStartsWith)(s,r)&&Nx(e,s,s.length-r.length)){var o;(o=t.lines).push.apply(o,Li(s));return}}else if((0,Ef.arrayEqual)(r,s)){var a;(a=t.lines).push.apply(a,Li(r));return}q0(t,r,s)}function bx(t,e,n,r){var s=Ds(e),i=cF(n,s);if(i.merged){var o;(o=t.lines).push.apply(o,Li(i.merged))}else q0(t,r?i:s,r?s:i)}function q0(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function kx(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r),e.offset++}}function Ex(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function Ds(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var r=t.lines[t.index];if(n==="-"&&r[0]==="+"&&(n="+"),n===r[0])e.push(r),t.index++;else break}return e}function cF(t,e){for(var n=[],r=[],s=0,i=!1,o=!1;s<e.length&&t.index<t.lines.length;){var a=t.lines[t.index],l=e[s];if(l[0]==="+")break;if(i=i||a[0]!==" ",r.push(l),s++,a[0]==="+")for(o=!0;a[0]==="+";)n.push(a),a=t.lines[++t.index];l.substr(1)===a.substr(1)?(n.push(a),t.index++):o=!0}if((e[s]||"")[0]==="+"&&i&&(o=!0),o)return n;for(;s<e.length;)r.push(e[s++]);return{merged:r,changes:n}}function Sx(t){return t.reduce(function(e,n){return e&&n[0]==="-"},!0)}function Nx(t,e,n){for(var r=0;r<n;r++){var s=e[e.length-n+r].substr(1);if(t.lines[t.index+r]!==" "+s)return!1}return t.index+=n,!0}function gm(t){var e=0,n=0;return t.forEach(function(r){if(typeof r!="string"){var s=gm(r.mine),i=gm(r.theirs);e!==void 0&&(s.oldLines===i.oldLines?e+=s.oldLines:e=void 0),n!==void 0&&(s.newLines===i.newLines?n+=s.newLines:n=void 0)}else n!==void 0&&(r[0]==="+"||r[0]===" ")&&n++,e!==void 0&&(r[0]==="-"||r[0]===" ")&&e++}),{oldLines:e,newLines:n}}var G0={};Object.defineProperty(G0,"__esModule",{value:!0});G0.reversePatch=_N;function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Cx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(r){uF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uF(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _N(t){return Array.isArray(t)?t.map(_N).reverse():Cx(Cx({},t),{},{oldFileName:t.newFileName,oldHeader:t.newHeader,newFileName:t.oldFileName,newHeader:t.oldHeader,hunks:t.hunks.map(function(e){return{oldLines:e.newLines,oldStart:e.newStart,newLines:e.oldLines,newStart:e.oldStart,linedelimiters:e.linedelimiters,lines:e.lines.map(function(n){return n.startsWith("-")?"+".concat(n.slice(1)):n.startsWith("+")?"-".concat(n.slice(1)):n})}})})}var K0={};Object.defineProperty(K0,"__esModule",{value:!0});K0.convertChangesToDMP=dF;function dF(t){for(var e=[],n,r,s=0;s<t.length;s++)n=t[s],n.added?r=1:n.removed?r=-1:r=0,e.push([r,n.value]);return e}var Q0={};Object.defineProperty(Q0,"__esModule",{value:!0});Q0.convertChangesToXML=hF;function hF(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(fF(r.value)),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")}function fF(t){var e=t;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Diff",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"diffChars",{enumerable:!0,get:function(){return n.diffChars}}),Object.defineProperty(t,"diffWords",{enumerable:!0,get:function(){return r.diffWords}}),Object.defineProperty(t,"diffWordsWithSpace",{enumerable:!0,get:function(){return r.diffWordsWithSpace}}),Object.defineProperty(t,"diffLines",{enumerable:!0,get:function(){return s.diffLines}}),Object.defineProperty(t,"diffTrimmedLines",{enumerable:!0,get:function(){return s.diffTrimmedLines}}),Object.defineProperty(t,"diffSentences",{enumerable:!0,get:function(){return i.diffSentences}}),Object.defineProperty(t,"diffCss",{enumerable:!0,get:function(){return o.diffCss}}),Object.defineProperty(t,"diffJson",{enumerable:!0,get:function(){return a.diffJson}}),Object.defineProperty(t,"canonicalize",{enumerable:!0,get:function(){return a.canonicalize}}),Object.defineProperty(t,"diffArrays",{enumerable:!0,get:function(){return l.diffArrays}}),Object.defineProperty(t,"applyPatch",{enumerable:!0,get:function(){return u.applyPatch}}),Object.defineProperty(t,"applyPatches",{enumerable:!0,get:function(){return u.applyPatches}}),Object.defineProperty(t,"parsePatch",{enumerable:!0,get:function(){return d.parsePatch}}),Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return h.merge}}),Object.defineProperty(t,"reversePatch",{enumerable:!0,get:function(){return f.reversePatch}}),Object.defineProperty(t,"structuredPatch",{enumerable:!0,get:function(){return m.structuredPatch}}),Object.defineProperty(t,"createTwoFilesPatch",{enumerable:!0,get:function(){return m.createTwoFilesPatch}}),Object.defineProperty(t,"createPatch",{enumerable:!0,get:function(){return m.createPatch}}),Object.defineProperty(t,"formatPatch",{enumerable:!0,get:function(){return m.formatPatch}}),Object.defineProperty(t,"convertChangesToDMP",{enumerable:!0,get:function(){return g.convertChangesToDMP}}),Object.defineProperty(t,"convertChangesToXML",{enumerable:!0,get:function(){return w.convertChangesToXML}});var e=S(kr),n=Ml,r=So,s=vs,i=Ol,o=$l,a=No,l=Ll,u=ch,d=Fl,h=uh,f=G0,m=ii,g=K0,w=Q0;function S(p){return p&&p.__esModule?p:{default:p}}})(gN);var pF=tt&&tt.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,s)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),mF=tt&&tt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gF=tt&&tt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&pF(e,t,n);return mF(e,t),e};Object.defineProperty(ts,"__esModule",{value:!0});ts.computeLineInformation=ts.DiffMethod=ts.DiffType=void 0;const ym=gF(gN),yF=ym;var ir;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ADDED=1]="ADDED",t[t.REMOVED=2]="REMOVED",t[t.CHANGED=3]="CHANGED"})(ir||(ts.DiffType=ir={}));var Ku;(function(t){t.CHARS="diffChars",t.WORDS="diffWords",t.WORDS_WITH_SPACE="diffWordsWithSpace",t.LINES="diffLines",t.TRIMMED_LINES="diffTrimmedLines",t.SENTENCES="diffSentences",t.CSS="diffCss",t.JSON="diffJson"})(Ku||(ts.DiffMethod=Ku={}));const Tx=t=>t===""?[]:t.replace(/\n$/,"").split(`
`),vF=(t,e,n=Ku.CHARS)=>{const r=yF[n](t,e),s={left:[],right:[]};return r.forEach(({added:i,removed:o,value:a})=>{const l={};return i&&(l.type=ir.ADDED,l.value=a,s.right.push(l)),o&&(l.type=ir.REMOVED,l.value=a,s.left.push(l)),!o&&!i&&(l.type=ir.DEFAULT,l.value=a,s.right.push(l),s.left.push(l)),l}),s},wF=(t,e,n=!1,r=Ku.CHARS,s=0,i=[])=>{let o=[];typeof t=="string"&&typeof e=="string"?o=ym.diffLines(t.trimRight(),e.trimRight(),{newlineIsToken:!1,ignoreWhitespace:!1,ignoreCase:!1}):o=ym.diffJson(t,e);let a=s,l=s,u=[],d=0;const h=[],f=[],m=(g,w,S,p,y)=>Tx(g).map((k,j)=>{const C={},N={};if(!(f.includes(`${w}-${j}`)||y&&j!==0)){if(S||p){let x=!0;if(p){l+=1,C.lineNumber=l,C.type=ir.REMOVED,C.value=k||" ";const E=o[w+1];if(E&&E.added){const I=Tx(E.value)[j];if(I){const M=m(I,w,!0,!1,!0),{value:O,lineNumber:F,type:q}=M[0].right;if(f.push(`${w+1}-${j}`),N.lineNumber=F,C.value===O)x=!1,N.type=0,C.type=0,N.value=O;else if(N.type=q,n)N.value=O;else{const oe=vF(k,O,r);N.value=oe.right,C.value=oe.left}}}}else a+=1,N.lineNumber=a,N.type=ir.ADDED,N.value=k;x&&!y&&(h.includes(d)||h.push(d))}else l+=1,a+=1,C.lineNumber=l,C.type=ir.DEFAULT,C.value=k,N.lineNumber=a,N.type=ir.DEFAULT,N.value=k;return(i!=null&&i.includes(`L-${C.lineNumber}`)||i!=null&&i.includes(`R-${N.lineNumber}`)&&!h.includes(d))&&h.push(d),y||(d+=1),{right:N,left:C}}}).filter(Boolean);return o.forEach(({added:g,removed:w,value:S},p)=>{u=[...u,...m(S,p,g,w)]}),{lineInformation:u,diffLines:h}};ts.computeLineInformation=wF;var Y0={},xF=!1;function bF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var EF=function(){function t(n){var r=this;this._insertTag=function(s){var i;r.tags.length===0?r.insertionPoint?i=r.insertionPoint.nextSibling:r.prepend?i=r.container.firstChild:i=r.before:i=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,i),r.tags.push(s)},this.isSpeedy=n.speedy===void 0?!xF:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kF(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=bF(s);try{i.insertRule(r,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},t}(),wt="-ms-",Qu="-moz-",ke="-webkit-",CN="comm",J0="rule",X0="decl",SF="@import",TN="@keyframes",NF="@layer",_F=Math.abs,hh=String.fromCharCode,CF=Object.assign;function TF(t,e){return dt(t,0)^45?(((e<<2^dt(t,0))<<2^dt(t,1))<<2^dt(t,2))<<2^dt(t,3):0}function IN(t){return t.trim()}function IF(t,e){return(t=e.exec(t))?t[0]:t}function Ee(t,e,n){return t.replace(e,n)}function vm(t,e){return t.indexOf(e)}function dt(t,e){return t.charCodeAt(e)|0}function rl(t,e,n){return t.slice(e,n)}function Dn(t){return t.length}function Z0(t){return t.length}function vc(t,e){return e.push(t),t}function jF(t,e){return t.map(e).join("")}var fh=1,ao=1,jN=0,Ht=0,Ye=0,_o="";function ph(t,e,n,r,s,i,o){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:fh,column:ao,length:o,return:""}}function Vo(t,e){return CF(ph("",null,null,"",null,null,0),t,{length:-t.length},e)}function AF(){return Ye}function DF(){return Ye=Ht>0?dt(_o,--Ht):0,ao--,Ye===10&&(ao=1,fh--),Ye}function Kt(){return Ye=Ht<jN?dt(_o,Ht++):0,ao++,Ye===10&&(ao=1,fh++),Ye}function zn(){return dt(_o,Ht)}function Vc(){return Ht}function Ul(t,e){return rl(_o,t,e)}function sl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AN(t){return fh=ao=1,jN=Dn(_o=t),Ht=0,[]}function DN(t){return _o="",t}function zc(t){return IN(Ul(Ht-1,wm(t===91?t+2:t===40?t+1:t)))}function PF(t){for(;(Ye=zn())&&Ye<33;)Kt();return sl(t)>2||sl(Ye)>3?"":" "}function MF(t,e){for(;--e&&Kt()&&!(Ye<48||Ye>102||Ye>57&&Ye<65||Ye>70&&Ye<97););return Ul(t,Vc()+(e<6&&zn()==32&&Kt()==32))}function wm(t){for(;Kt();)switch(Ye){case t:return Ht;case 34:case 39:t!==34&&t!==39&&wm(Ye);break;case 40:t===41&&wm(t);break;case 92:Kt();break}return Ht}function RF(t,e){for(;Kt()&&t+Ye!==57;)if(t+Ye===84&&zn()===47)break;return"/*"+Ul(e,Ht-1)+"*"+hh(t===47?t:Kt())}function OF(t){for(;!sl(zn());)Kt();return Ul(t,Ht)}function $F(t){return DN(Hc("",null,null,null,[""],t=AN(t),0,[0],t))}function Hc(t,e,n,r,s,i,o,a,l){for(var u=0,d=0,h=o,f=0,m=0,g=0,w=1,S=1,p=1,y=0,v="",k=s,j=i,C=r,N=v;S;)switch(g=y,y=Kt()){case 40:if(g!=108&&dt(N,h-1)==58){vm(N+=Ee(zc(y),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:N+=zc(y);break;case 9:case 10:case 13:case 32:N+=PF(g);break;case 92:N+=MF(Vc()-1,7);continue;case 47:switch(zn()){case 42:case 47:vc(LF(RF(Kt(),Vc()),e,n),l);break;default:N+="/"}break;case 123*w:a[u++]=Dn(N)*p;case 125*w:case 59:case 0:switch(y){case 0:case 125:S=0;case 59+d:p==-1&&(N=Ee(N,/\f/g,"")),m>0&&Dn(N)-h&&vc(m>32?jx(N+";",r,n,h-1):jx(Ee(N," ","")+";",r,n,h-2),l);break;case 59:N+=";";default:if(vc(C=Ix(N,e,n,u,d,s,a,v,k=[],j=[],h),i),y===123)if(d===0)Hc(N,e,C,C,k,i,h,a,j);else switch(f===99&&dt(N,3)===110?100:f){case 100:case 108:case 109:case 115:Hc(t,C,C,r&&vc(Ix(t,C,C,0,0,s,a,v,s,k=[],h),j),s,j,h,a,r?k:j);break;default:Hc(N,C,C,C,[""],j,0,a,j)}}u=d=m=0,w=p=1,v=N="",h=o;break;case 58:h=1+Dn(N),m=g;default:if(w<1){if(y==123)--w;else if(y==125&&w++==0&&DF()==125)continue}switch(N+=hh(y),y*w){case 38:p=d>0?1:(N+="\f",-1);break;case 44:a[u++]=(Dn(N)-1)*p,p=1;break;case 64:zn()===45&&(N+=zc(Kt())),f=zn(),d=h=Dn(v=N+=OF(Vc())),y++;break;case 45:g===45&&Dn(N)==2&&(w=0)}}return i}function Ix(t,e,n,r,s,i,o,a,l,u,d){for(var h=s-1,f=s===0?i:[""],m=Z0(f),g=0,w=0,S=0;g<r;++g)for(var p=0,y=rl(t,h+1,h=_F(w=o[g])),v=t;p<m;++p)(v=IN(w>0?f[p]+" "+y:Ee(y,/&\f/g,f[p])))&&(l[S++]=v);return ph(t,e,n,s===0?J0:a,l,u,d)}function LF(t,e,n){return ph(t,e,n,CN,hh(AF()),rl(t,2,-2),0)}function jx(t,e,n,r){return ph(t,e,n,X0,rl(t,0,r),rl(t,r+1,-1),r)}function Fi(t,e){for(var n="",r=Z0(t),s=0;s<r;s++)n+=e(t[s],s,t,e)||"";return n}function FF(t,e,n,r){switch(t.type){case NF:if(t.children.length)break;case SF:case X0:return t.return=t.return||t.value;case CN:return"";case TN:return t.return=t.value+"{"+Fi(t.children,r)+"}";case J0:t.value=t.props.join(",")}return Dn(n=Fi(t.children,r))?t.return=t.value+"{"+n+"}":""}function UF(t){var e=Z0(t);return function(n,r,s,i){for(var o="",a=0;a<e;a++)o+=t[a](n,r,s,i)||"";return o}}function BF(t){return function(e){e.root||(e=e.return)&&t(e)}}function VF(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var zF=function(e,n,r){for(var s=0,i=0;s=i,i=zn(),s===38&&i===12&&(n[r]=1),!sl(i);)Kt();return Ul(e,Ht)},HF=function(e,n){var r=-1,s=44;do switch(sl(s)){case 0:s===38&&zn()===12&&(n[r]=1),e[r]+=zF(Ht-1,n,r);break;case 2:e[r]+=zc(s);break;case 4:if(s===44){e[++r]=zn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=hh(s)}while(s=Kt());return e},WF=function(e,n){return DN(HF(AN(e),n))},Ax=new WeakMap,qF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Ax.get(r))&&!s){Ax.set(e,!0);for(var i=[],o=WF(n,i),a=r.props,l=0,u=0;l<o.length;l++)for(var d=0;d<a.length;d++,u++)e.props[u]=i[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},GF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function PN(t,e){switch(TF(t,e)){case 5103:return ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ke+t+Qu+t+wt+t+t;case 6828:case 4268:return ke+t+wt+t+t;case 6165:return ke+t+wt+"flex-"+t+t;case 5187:return ke+t+Ee(t,/(\w+).+(:[^]+)/,ke+"box-$1$2"+wt+"flex-$1$2")+t;case 5443:return ke+t+wt+"flex-item-"+Ee(t,/flex-|-self/,"")+t;case 4675:return ke+t+wt+"flex-line-pack"+Ee(t,/align-content|flex-|-self/,"")+t;case 5548:return ke+t+wt+Ee(t,"shrink","negative")+t;case 5292:return ke+t+wt+Ee(t,"basis","preferred-size")+t;case 6060:return ke+"box-"+Ee(t,"-grow","")+ke+t+wt+Ee(t,"grow","positive")+t;case 4554:return ke+Ee(t,/([^-])(transform)/g,"$1"+ke+"$2")+t;case 6187:return Ee(Ee(Ee(t,/(zoom-|grab)/,ke+"$1"),/(image-set)/,ke+"$1"),t,"")+t;case 5495:case 3959:return Ee(t,/(image-set\([^]*)/,ke+"$1$`$1");case 4968:return Ee(Ee(t,/(.+:)(flex-)?(.*)/,ke+"box-pack:$3"+wt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ee(t,/(.+)-inline(.+)/,ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Dn(t)-1-e>6)switch(dt(t,e+1)){case 109:if(dt(t,e+4)!==45)break;case 102:return Ee(t,/(.+:)(.+)-([^]+)/,"$1"+ke+"$2-$3$1"+Qu+(dt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~vm(t,"stretch")?PN(Ee(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(dt(t,e+1)!==115)break;case 6444:switch(dt(t,Dn(t)-3-(~vm(t,"!important")&&10))){case 107:return Ee(t,":",":"+ke)+t;case 101:return Ee(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ke+(dt(t,14)===45?"inline-":"")+"box$3$1"+ke+"$2$3$1"+wt+"$2box$3")+t}break;case 5936:switch(dt(t,e+11)){case 114:return ke+t+wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ke+t+wt+Ee(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ke+t+wt+Ee(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ke+t+wt+t+t}return t}var KF=function(e,n,r,s){if(e.length>-1&&!e.return)switch(e.type){case X0:e.return=PN(e.value,e.length);break;case TN:return Fi([Vo(e,{value:Ee(e.value,"@","@"+ke)})],s);case J0:if(e.length)return jF(e.props,function(i){switch(IF(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Fi([Vo(e,{props:[Ee(i,/:(read-\w+)/,":"+Qu+"$1")]})],s);case"::placeholder":return Fi([Vo(e,{props:[Ee(i,/:(plac\w+)/,":"+ke+"input-$1")]}),Vo(e,{props:[Ee(i,/:(plac\w+)/,":"+Qu+"$1")]}),Vo(e,{props:[Ee(i,/:(plac\w+)/,wt+"input-$1")]})],s)}return""})}},QF=[KF],YF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var S=w.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||QF,i={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var S=w.getAttribute("data-emotion").split(" "),p=1;p<S.length;p++)i[S[p]]=!0;a.push(w)});var l,u=[qF,GF];{var d,h=[FF,BF(function(w){d.insert(w)})],f=UF(u.concat(s,h)),m=function(S){return Fi($F(S),f)};l=function(S,p,y,v){d=y,m(S?S+"{"+p.styles+"}":p.styles),v&&(g.inserted[p.name]=!0)}}var g={key:n,sheet:new EF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return g.sheet.hydrate(a),g};function JF(t){for(var e=0,n,r=0,s=t.length;s>=4;++r,s-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var XF={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ZF=!1,e9=/[A-Z]|^ms/g,t9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,MN=function(e){return e.charCodeAt(1)===45},Dx=function(e){return e!=null&&typeof e!="boolean"},Sf=VF(function(t){return MN(t)?t:t.replace(e9,"-$&").toLowerCase()}),Px=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(t9,function(r,s,i){return Ur={name:s,styles:i,next:Ur},s})}return XF[e]!==1&&!MN(e)&&typeof n=="number"&&n!==0?n+"px":n},n9="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Yu(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var s=n;if(s.anim===1)return Ur={name:s.name,styles:s.styles,next:Ur},s.name;var i=n;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Ur={name:o.name,styles:o.styles,next:Ur},o=o.next;var a=i.styles+";";return a}return r9(t,e,n)}}var l=n;if(e==null)return l;var u=e[l];return u!==void 0?u:l}function r9(t,e,n){var r="";if(Array.isArray(n))for(var s=0;s<n.length;s++)r+=Yu(t,e,n[s])+";";else for(var i in n){var o=n[i];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=i+"{"+e[a]+"}":Dx(a)&&(r+=Sf(i)+":"+Px(i,a)+";")}else{if(i==="NO_COMPONENT_SELECTOR"&&ZF)throw new Error(n9);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)Dx(o[l])&&(r+=Sf(i)+":"+Px(i,o[l])+";");else{var u=Yu(t,e,o);switch(i){case"animation":case"animationName":{r+=Sf(i)+":"+u+";";break}default:r+=i+"{"+u+"}"}}}}return r}var Mx=/label:\s*([^\s;{]+)\s*(;|$)/g,Ur;function Nf(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,s="";Ur=void 0;var i=t[0];if(i==null||i.raw===void 0)r=!1,s+=Yu(n,e,i);else{var o=i;s+=o[0]}for(var a=1;a<t.length;a++)if(s+=Yu(n,e,t[a]),r){var l=i;s+=l[a]}Mx.lastIndex=0;for(var u="",d;(d=Mx.exec(s))!==null;)u+="-"+d[1];var h=JF(s)+u;return{name:h,styles:s,next:Ur}}function RN(t,e,n){var r="";return n.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(r+=s+" ")}),r}var s9=function(e,n,r){var s=e.key+"-"+n.name;e.registered[s]===void 0&&(e.registered[s]=n.styles)},i9=function(e,n,r){s9(e,n);var s=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var i=n;do e.insert(n===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Rx(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function Ox(t,e,n){var r=[],s=RN(t,r,n);return r.length<2?n:s+e(r)}var o9=function(e){var n=YF(e);n.sheet.speedy=function(a){this.isSpeedy=a},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=Nf(u,n.registered,void 0);return i9(n,h),n.key+"-"+h.name},s=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=Nf(u,n.registered),f="animation-"+h.name;return Rx(n,{name:h.name,styles:"@keyframes "+f+"{"+h.styles+"}"}),f},i=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=Nf(u,n.registered);Rx(n,h)},o=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Ox(n.registered,r,a9(u))};return{css:r,cx:o,injectGlobal:i,keyframes:s,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:RN.bind(null,n.registered),merge:Ox.bind(null,n.registered,r)}},a9=function t(e){for(var n="",r=0;r<e.length;r++){var s=e[r];if(s!=null){var i=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))i=t(s);else{i="";for(var o in s)s[o]&&o&&(i&&(i+=" "),i+=o)}break}default:i=s}i&&(n&&(n+=" "),n+=i)}}return n};const l9=Object.freeze(Object.defineProperty({__proto__:null,default:o9},Symbol.toStringTag,{value:"Module"})),c9=Lx(l9);var u9=tt&&tt.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n},d9=tt&&tt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y0,"__esModule",{value:!0});const h9=d9(c9);Y0.default=(t,e=!1,n="")=>{const{variables:r={}}=t,s=u9(t,["variables"]),i={light:Object.assign({diffViewerBackground:"#fff",diffViewerColor:"#212529",addedBackground:"#e6ffed",addedColor:"#24292e",removedBackground:"#ffeef0",removedColor:"#24292e",changedBackground:"#fffbdd",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0",addedGutterBackground:"#cdffd8",removedGutterBackground:"#ffdce0",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",codeFoldGutterBackground:"#dbedff",codeFoldBackground:"#f1f8ff",emptyLineBackground:"#fafbfc",gutterColor:"#212529",addedGutterColor:"#212529",removedGutterColor:"#212529",codeFoldContentColor:"#212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleColor:"#212529",diffViewerTitleBorderColor:"#eee"},r.light||{}),dark:Object.assign({diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",addedBackground:"#044B53",addedColor:"white",removedBackground:"#632F34",removedColor:"white",changedBackground:"#3e302c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f",addedGutterBackground:"#034148",removedGutterBackground:"#632b30",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",codeFoldGutterBackground:"#21232b",codeFoldBackground:"#262831",emptyLineBackground:"#363946",gutterColor:"#666c87",addedGutterColor:"#8c8c8c",removedGutterColor:"#8c8c8c",codeFoldContentColor:"#656a8b",diffViewerTitleBackground:"#2f323e",diffViewerTitleColor:"#555a7b",diffViewerTitleBorderColor:"#353846"},r.dark||{})},o=e?i.dark:i.light,{css:a,cx:l}=(0,h9.default)({key:"react-diff",nonce:n}),u=a({width:"100%",label:"content"}),d=a({[`.${u}`]:{width:"50%"},label:"split-view"}),h=a({width:"100%",background:o.diffViewerBackground,pre:{margin:0,whiteSpace:"pre-wrap",lineHeight:"25px"},label:"diff-container",borderCollapse:"collapse"}),f=a({color:o.codeFoldContentColor,label:"code-fold-content"}),m=a({color:o.diffViewerColor,label:"content-text"}),g=a({background:o.diffViewerTitleBackground,padding:10,borderBottom:`1px solid ${o.diffViewerTitleBorderColor}`,label:"title-block",":last-child":{borderLeft:`1px solid ${o.diffViewerTitleBorderColor}`},[`.${m}`]:{color:o.diffViewerTitleColor}}),w=a({color:o.gutterColor,label:"line-number"}),S=a({background:o.removedBackground,color:o.removedColor,pre:{color:o.removedColor},[`.${w}`]:{color:o.removedGutterColor},label:"diff-removed"}),p=a({background:o.addedBackground,color:o.addedColor,pre:{color:o.addedColor},[`.${w}`]:{color:o.addedGutterColor},label:"diff-added"}),y=a({background:o.changedBackground,[`.${w}`]:{color:o.gutterColor},label:"diff-changed"}),v=a({padding:2,display:"inline-flex",borderRadius:4,wordBreak:"break-all",label:"word-diff"}),k=a({background:o.wordAddedBackground,label:"word-added"}),j=a({background:o.wordRemovedBackground,label:"word-removed"}),C=a({backgroundColor:o.codeFoldGutterBackground,label:"code-fold-gutter"}),N=a({backgroundColor:o.codeFoldBackground,height:40,fontSize:14,fontWeight:700,label:"code-fold",a:{textDecoration:"underline !important",cursor:"pointer",pre:{display:"inline"}}}),x=a({backgroundColor:o.emptyLineBackground,label:"empty-line"}),E=a({width:25,paddingLeft:10,paddingRight:10,userSelect:"none",label:"marker",[`&.${p}`]:{pre:{color:o.addedColor}},[`&.${S}`]:{pre:{color:o.removedColor}}}),I=a({background:o.highlightBackground,label:"highlighted-line",[`.${k}, .${j}`]:{backgroundColor:"initial"}}),M=a({label:"highlighted-gutter"}),O=a({userSelect:"none",minWidth:50,padding:"0 10px",whiteSpace:"nowrap",label:"gutter",textAlign:"right",background:o.gutterBackground,"&:hover":{cursor:"pointer",background:o.gutterBackgroundDark,pre:{opacity:1}},pre:{opacity:.5},[`&.${p}`]:{background:o.addedGutterBackground},[`&.${S}`]:{background:o.removedGutterBackground},[`&.${M}`]:{background:o.highlightGutterBackground,"&:hover":{background:o.highlightGutterBackground}}}),F=a({"&:hover":{background:o.gutterBackground,cursor:"initial"},label:"empty-gutter"}),q=a({verticalAlign:"baseline",label:"line"}),oe={diffContainer:h,diffRemoved:S,diffAdded:p,diffChanged:y,splitView:d,marker:E,highlightedGutter:M,highlightedLine:I,gutter:O,line:q,wordDiff:v,wordAdded:k,wordRemoved:j,codeFoldGutter:C,codeFold:N,emptyGutter:F,emptyLine:x,lineNumber:w,contentText:m,content:u,codeFoldContent:f,titleBlock:g},de=Object.keys(s).reduce((H,D)=>Object.assign(Object.assign({},H),{[D]:a(s[D])}),{});return Object.keys(oe).reduce((H,D)=>Object.assign(Object.assign({},H),{[D]:de[D]?l(oe[D],de[D]):oe[D]}),{})};var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.computeHiddenBlocks=void 0;function f9(t,e,n){let r=0,s,i={},o=[];return t.forEach((a,l)=>{const u=e.some(d=>d>=l-n&&d<=l+n);!u&&s==null?(s={index:r,startLine:l,endLine:l,lines:1},o.push(s),i[l]=s.index,r++):u?s=void 0:(s.endLine=l,s.lines++,i[l]=s.index)}),{lineBlocks:i,blocks:o}}mh.computeHiddenBlocks=f9;var $x=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function p9(t,e){return!!(t===e||$x(t)&&$x(e))}function m9(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!p9(t[n],e[n]))return!1;return!0}function g9(t,e){e===void 0&&(e=m9);var n=null;function r(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(n&&n.lastThis===this&&e(s,n.lastArgs))return n.lastResult;var o=t.apply(this,s);return n={lastResult:o,lastArgs:s,lastThis:this},o}return r.clear=function(){n=null},r}const y9=Object.freeze(Object.defineProperty({__proto__:null,default:g9},Symbol.toStringTag,{value:"Module"})),v9=Lx(y9);(function(t){var e=tt&&tt.__createBinding||(Object.create?function(w,S,p,y){y===void 0&&(y=p);var v=Object.getOwnPropertyDescriptor(S,p);(!v||("get"in v?!S.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return S[p]}}),Object.defineProperty(w,y,v)}:function(w,S,p,y){y===void 0&&(y=p),w[y]=S[p]}),n=tt&&tt.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),r=tt&&tt.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var p in w)p!=="default"&&Object.prototype.hasOwnProperty.call(w,p)&&e(S,w,p);return n(S,w),S},s=tt&&tt.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiffMethod=t.LineNumberPrefix=void 0;const i=c,o=r(b),a=s(m6),l=ts;Object.defineProperty(t,"DiffMethod",{enumerable:!0,get:function(){return l.DiffMethod}});const u=s(Y0),d=mh,h=v9,f=h.default||h;var m;(function(w){w.LEFT="L",w.RIGHT="R"})(m||(t.LineNumberPrefix=m={}));class g extends o.Component{constructor(S){super(S),this.resetCodeBlocks=()=>this.state.expandedBlocks.length>0?(this.setState({expandedBlocks:[]}),!0):!1,this.onBlockExpand=p=>{const y=this.state.expandedBlocks.slice();y.push(p),this.setState({expandedBlocks:y})},this.computeStyles=f(u.default),this.onLineNumberClickProxy=p=>this.props.onLineNumberClick?y=>this.props.onLineNumberClick(p,y):()=>{},this.renderWordDiff=(p,y)=>p.map((v,k)=>(0,i.jsx)("span",{className:(0,a.default)(this.styles.wordDiff,{[this.styles.wordAdded]:v.type===l.DiffType.ADDED,[this.styles.wordRemoved]:v.type===l.DiffType.REMOVED}),children:y?y(v.value):v.value},k)),this.renderLine=(p,y,v,k,j,C)=>{const N=`${v}-${p}`,x=`${C}-${j}`,E=this.props.highlightLines.includes(N)||this.props.highlightLines.includes(x),I=y===l.DiffType.ADDED,M=y===l.DiffType.REMOVED,O=y===l.DiffType.CHANGED;let F;return Array.isArray(k)?F=this.renderWordDiff(k,this.props.renderContent):this.props.renderContent?F=this.props.renderContent(k):F=k,(0,i.jsxs)(o.Fragment,{children:[!this.props.hideLineNumbers&&(0,i.jsx)("td",{onClick:p&&this.onLineNumberClickProxy(N),className:(0,a.default)(this.styles.gutter,{[this.styles.emptyGutter]:!p,[this.styles.diffAdded]:I,[this.styles.diffRemoved]:M,[this.styles.diffChanged]:O,[this.styles.highlightedGutter]:E}),children:(0,i.jsx)("pre",{className:this.styles.lineNumber,children:p})}),!this.props.splitView&&!this.props.hideLineNumbers&&(0,i.jsx)("td",{onClick:j&&this.onLineNumberClickProxy(x),className:(0,a.default)(this.styles.gutter,{[this.styles.emptyGutter]:!j,[this.styles.diffAdded]:I,[this.styles.diffRemoved]:M,[this.styles.diffChanged]:O,[this.styles.highlightedGutter]:E}),children:(0,i.jsx)("pre",{className:this.styles.lineNumber,children:j})}),this.props.renderGutter?this.props.renderGutter({lineNumber:p,type:y,prefix:v,value:k,additionalLineNumber:j,additionalPrefix:C,styles:this.styles}):null,!this.props.hideMarkers&&(0,i.jsx)("td",{className:(0,a.default)(this.styles.marker,{[this.styles.emptyLine]:!F,[this.styles.diffAdded]:I,[this.styles.diffRemoved]:M,[this.styles.diffChanged]:O,[this.styles.highlightedLine]:E}),children:(0,i.jsxs)("pre",{children:[I&&"+",M&&"-"]})}),(0,i.jsx)("td",{className:(0,a.default)(this.styles.content,{[this.styles.emptyLine]:!F,[this.styles.diffAdded]:I,[this.styles.diffRemoved]:M,[this.styles.diffChanged]:O,[this.styles.highlightedLine]:E}),children:(0,i.jsx)("pre",{className:this.styles.contentText,children:F})})]})},this.renderSplitView=({left:p,right:y},v)=>(0,i.jsxs)("tr",{className:this.styles.line,children:[this.renderLine(p.lineNumber,p.type,m.LEFT,p.value),this.renderLine(y.lineNumber,y.type,m.RIGHT,y.value)]},v),this.renderInlineView=({left:p,right:y},v)=>{let k;return p.type===l.DiffType.REMOVED&&y.type===l.DiffType.ADDED?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("tr",{className:this.styles.line,children:this.renderLine(p.lineNumber,p.type,m.LEFT,p.value,null)}),(0,i.jsx)("tr",{className:this.styles.line,children:this.renderLine(null,y.type,m.RIGHT,y.value,y.lineNumber)})]},v):(p.type===l.DiffType.REMOVED&&(k=this.renderLine(p.lineNumber,p.type,m.LEFT,p.value,null)),p.type===l.DiffType.DEFAULT&&(k=this.renderLine(p.lineNumber,p.type,m.LEFT,p.value,y.lineNumber,m.RIGHT)),y.type===l.DiffType.ADDED&&(k=this.renderLine(null,y.type,m.RIGHT,y.value,y.lineNumber)),(0,i.jsx)("tr",{className:this.styles.line,children:k},v))},this.onBlockClickProxy=p=>()=>this.onBlockExpand(p),this.renderSkippedLineIndicator=(p,y,v,k)=>{const{hideLineNumbers:j,splitView:C}=this.props,N=this.props.codeFoldMessageRenderer?this.props.codeFoldMessageRenderer(p,v,k):(0,i.jsxs)("pre",{className:this.styles.codeFoldContent,children:["Expand ",p," lines ..."]}),x=(0,i.jsx)("td",{children:(0,i.jsx)("a",{onClick:this.onBlockClickProxy(y),tabIndex:0,children:N})}),E=!C&&!j;return(0,i.jsxs)("tr",{className:this.styles.codeFold,children:[!j&&(0,i.jsx)("td",{className:this.styles.codeFoldGutter}),this.props.renderGutter?(0,i.jsx)("td",{className:this.styles.codeFoldGutter}):null,(0,i.jsx)("td",{className:(0,a.default)({[this.styles.codeFoldGutter]:E})}),E?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)("td",{}),x]}):(0,i.jsxs)(o.Fragment,{children:[x,this.props.renderGutter?(0,i.jsx)("td",{}):null,(0,i.jsx)("td",{})]}),(0,i.jsx)("td",{}),(0,i.jsx)("td",{})]},`${v}-${k}`)},this.renderDiff=()=>{const{oldValue:p,newValue:y,splitView:v,disableWordDiff:k,compareMethod:j,linesOffset:C}=this.props,{lineInformation:N,diffLines:x}=(0,l.computeLineInformation)(p,y,k,j,C,this.props.alwaysShowLines),E=this.props.extraLinesSurroundingDiff<0?0:Math.round(this.props.extraLinesSurroundingDiff),{lineBlocks:I,blocks:M}=(0,d.computeHiddenBlocks)(N,x,E);return N.map((O,F)=>{if(this.props.showDiffOnly){const oe=I[F];if(oe!==void 0){const de=M[oe].endLine===F;if(!this.state.expandedBlocks.includes(oe)&&de)return(0,i.jsx)(o.Fragment,{children:this.renderSkippedLineIndicator(M[oe].lines,oe,O.left.lineNumber,O.right.lineNumber)},F);if(!this.state.expandedBlocks.includes(oe))return null}}return v?this.renderSplitView(O,F):this.renderInlineView(O,F)})},this.render=()=>{const{oldValue:p,newValue:y,useDarkTheme:v,leftTitle:k,rightTitle:j,splitView:C,hideLineNumbers:N,hideMarkers:x,nonce:E}=this.props;if(this.props.compareMethod!==l.DiffMethod.JSON&&(typeof p!="string"||typeof y!="string"))throw Error('"oldValue" and "newValue" should be strings');this.styles=this.computeStyles(this.props.styles,v,E);const I=this.renderDiff();let M=N?2:3,O=N?2:4;x&&(M-=1,O-=1);const F=this.props.renderGutter?1:0,q=(k||j)&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{colSpan:(C?M:O)+F,className:this.styles.titleBlock,children:(0,i.jsx)("pre",{className:this.styles.contentText,children:k})}),C&&(0,i.jsx)("td",{colSpan:M+F,className:this.styles.titleBlock,children:(0,i.jsx)("pre",{className:this.styles.contentText,children:j})})]});return(0,i.jsx)("table",{className:(0,a.default)(this.styles.diffContainer,{[this.styles.splitView]:C}),children:(0,i.jsxs)("tbody",{children:[q,I]})})},this.state={expandedBlocks:[]}}}g.defaultProps={oldValue:"",newValue:"",splitView:!0,highlightLines:[],disableWordDiff:!1,compareMethod:l.DiffMethod.CHARS,styles:{},hideLineNumbers:!1,hideMarkers:!1,extraLinesSurroundingDiff:3,showDiffOnly:!0,useDarkTheme:!1,linesOffset:0,nonce:""},t.default=g})(pN);const w9=xm(pN);function ON({isOpen:t,onClose:e,history:n}){var a,l;const[r,s]=be.useState(null),i=u=>q2(new Date(u),"MMM d, yyyy HH:mm:ss"),o=(u,d)=>d?{oldValue:JSON.stringify(d,null,2),newValue:JSON.stringify(u,null,2)}:null;return c.jsx(Pt,{open:t,onClose:e,className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(Pt.Overlay,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[c.jsx(Pt.Title,{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Version History"}),c.jsx("button",{onClick:e,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:c.jsx(gs,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-5 h-[600px]",children:[c.jsx("div",{className:"col-span-2 border-r border-gray-200 dark:border-gray-700 overflow-y-auto",children:n.map((u,d)=>c.jsxs("button",{onClick:()=>s(d),className:`w-full px-4 py-3 flex items-start gap-3 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${r===d?"bg-blue-50 dark:bg-blue-900/30":""}`,children:[c.jsx(Jd,{className:"w-5 h-5 text-gray-400 dark:text-gray-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-left",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Version ",n.length-d]}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:i(u.timestamp)})]})]},u.timestamp))}),c.jsx("div",{className:"col-span-3 p-6 overflow-y-auto",children:r!==null?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Changes"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>s(u=>u!==null?Math.min(u+1,n.length-1):null),disabled:r>=n.length-1,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50",children:c.jsx(N2,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>s(u=>u!==null?Math.max(u-1,0):null),disabled:r<=0,className:"p-1.5 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50",children:c.jsx(Yd,{className:"w-4 h-4"})})]})]}),r<n.length-1&&c.jsx(w9,{oldValue:(a=o(n[r],n[r+1]))==null?void 0:a.oldValue,newValue:(l=o(n[r],n[r+1]))==null?void 0:l.newValue,splitView:!1,useDarkTheme:document.documentElement.classList.contains("dark"),styles:{contentText:{fontSize:"12px",lineHeight:"1.5",fontFamily:"monospace"}}})]}):c.jsx("div",{className:"flex items-center justify-center h-full text-gray-500 dark:text-gray-400",children:"Select a version to view changes"})})]})]})]})})}function $N({data:t}){var i;const e=hn(),n=((i=t.reviews)==null?void 0:i.reduce((o,a)=>o+a.count,0))||0,r=()=>{e("/knowledge",{state:{isEditing:!0,currentStep:1}})},s=()=>{e("/",{state:{activeTab:"knowledge",showSuccess:!0}})};return c.jsxs("div",{children:[c.jsx("div",{className:"relative p-8 bg-gradient-to-r from-[#6563fc]/80 to-purple-600/80 rounded-t-xl",children:c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-3xl font-bold text-white",children:t.brandName}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg backdrop-blur-sm transition-all",children:"View Knowledge Templates"}),c.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg backdrop-blur-sm transition-all",children:[c.jsx(O2,{className:"w-4 h-4"}),"Edit Configuration"]})]})]}),c.jsx("p",{className:"text-blue-100",children:t.websiteUrl})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-8",children:[c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-500/20 rounded-lg",children:c.jsx(C2,{className:"w-6 h-6 text-blue-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Products"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:t.products.length})]})]})}),c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:c.jsx(u5,{className:"w-6 h-6 text-purple-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Brand Tone"}),c.jsx("p",{className:"text-2xl font-bold text-white capitalize",children:t.brandTone})]})]})}),c.jsx("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-yellow-500/20 rounded-lg",children:c.jsx(zu,{className:"w-6 h-6 text-yellow-400"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-400",children:"Reviews"}),c.jsx("p",{className:"text-2xl font-bold text-white",children:n})]})]})})]}),c.jsxs("div",{className:"p-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-6",children:"Product Overview"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.products.map(o=>{var a,l,u;return c.jsx("div",{className:"group bg-gray-900/50 backdrop-blur-sm rounded-xl p-6 border border-gray-700/50 hover:border-[#6563fc]/50 transition-all",children:c.jsxs("div",{className:"flex items-start gap-4",children:[o.image&&c.jsx("img",{src:o.image,alt:o.name,className:"w-20 h-20 rounded-lg object-cover"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-white truncate group-hover:text-[#6563fc] transition-colors",children:o.name}),c.jsx("p",{className:"mt-1 text-sm text-gray-400 line-clamp-2",children:o.description}),c.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full",children:[c.jsx(F2,{className:"w-3 h-3"}),o.category]}),((l=(a=t.reviews)==null?void 0:a.find(d=>d.productId===o.id))==null?void 0:l.count)&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full",children:[c.jsx(zu,{className:"w-3 h-3"}),(u=t.reviews.find(d=>d.productId===o.id))==null?void 0:u.count," reviews"]})]})]})]})},o.id)})}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Main Keywords"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:t.mainKeywords.map((o,a)=>c.jsx("span",{className:"px-3 py-1.5 bg-gray-700/50 text-gray-300 text-sm rounded-full hover:bg-gray-600/50 transition-colors cursor-default",children:o},a))})]})]})]})}const x9=[{title:"Analysis",description:"Product data extraction"},{title:"Configuration",description:"Brand voice setup"},{title:"Review",description:"Import testimonials"}];function b9(){var F;const t=hn(),e=hs(),[n,r]=b.useState(0),[s,i]=b.useState(null),[o,a]=b.useState(""),[l,u]=b.useState(!1),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[g,w]=b.useState(!1),[S,p]=b.useState(!1),{formData:y,updateFormData:v,deleteFromHistory:k,history:j=[]}=th(),C=((F=e.state)==null?void 0:F.isEditing)||!1,N=!y||C,x=q=>{i(q),r(1),ye.success(`Successfully analyzed ${q.products.length} products!`)},E=q=>{a(q),r(2)},I=()=>{n>0&&r(n-1)},M=async()=>{if(!(y!=null&&y.timestamp)){ye.error("No knowledge base to delete");return}h(!0);try{await k(y.timestamp),ye.success("Knowledge base deleted successfully"),m(!1),t("/knowledge")}catch(q){console.error("Delete error:",q),ye.error("Failed to delete knowledge base")}finally{h(!1)}},O=async()=>{if(!s||!o){ye.error("Please complete all steps before saving");return}u(!0);try{const q={...s,brandTone:o,timestamp:new Date().toISOString()};await v(q),n6({particleCount:100,spread:70,origin:{y:.6}}),ye.success("Knowledge base saved successfully!",{duration:5e3,icon:""}),i(null),a(""),r(0)}catch(q){ye.error(q instanceof Error?q.message:"Failed to save knowledge base. Please try again.")}finally{u(!1)}};return N?c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsx(r6,{steps:x9,currentStep:n}),c.jsx("div",{className:"knowledge-content scrollbar-thin",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n>0&&c.jsxs("button",{onClick:I,className:"group mb-6 flex items-center gap-2 px-4 py-2 text-gray-400 hover:text-white transition-colors rounded-lg hover:bg-white/5",children:[c.jsx(T2,{className:"w-5 h-5 transition-transform group-hover:-translate-x-1"}),"Back"]}),c.jsx("div",{className:"space-y-12",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[n===0&&c.jsx(o6,{onAnalysisComplete:x}),n===1&&s&&c.jsx(l6,{analysisResult:s,onToneSelected:E}),n===2&&s&&c.jsx(p6,{analysisResult:s,selectedTone:o,onSave:O,isSaving:l})]})})]})})]}):c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Knowledge Base"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"View and manage your knowledge base insights"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-gray-700 text-white rounded-lg hover:bg-white/20 transition-colors",children:[c.jsx(P0,{className:"w-4 h-4"}),"History"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-gray-700 text-white rounded-lg hover:bg-white/20 transition-colors",children:[c.jsx(L0,{className:"w-4 h-4"}),"Share"]}),c.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",children:[c.jsx(F0,{className:"w-4 h-4"}),"Delete"]})]})]}),c.jsx("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all",children:c.jsx($N,{data:y})})]}),c.jsx(Pt,{open:f,onClose:()=>!d&&m(!1),className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(Pt.Overlay,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-gray-900 rounded-xl shadow-xl max-w-md w-full mx-4 p-6 border border-gray-700",children:[c.jsx(Pt.Title,{className:"text-xl font-semibold text-white mb-4",children:"Delete Knowledge Base"}),c.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this knowledge base? This action cannot be undone."}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>m(!1),disabled:d,className:"px-4 py-2 text-gray-400 hover:text-gray-300 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:M,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:d?"Deleting...":"Delete"})]})]})]})}),c.jsx(fN,{isOpen:g,onClose:()=>w(!1),data:y}),c.jsx(ON,{isOpen:S,onClose:()=>p(!1),history:[y]})]})}function k9(){const t=hn(),{formData:e,deleteFromHistory:n}=th(),[r,s]=b.useState(!1),[i,o]=b.useState(!1),[a,l]=b.useState(!1),[u,d]=b.useState(!1);b.useEffect(()=>(document.documentElement.style.scrollBehavior="smooth",()=>{document.documentElement.style.scrollBehavior="auto"}),[]);const h=async()=>{if(!(e!=null&&e.timestamp)){ye.error("No knowledge base to delete");return}d(!0);try{await n(e.timestamp),ye.success("Knowledge base deleted successfully"),s(!1),t("/knowledge")}catch(f){console.error("Delete error:",f),ye.error("Failed to delete knowledge base")}finally{d(!1)}};return e?c.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Knowledge Base"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"View and manage your knowledge base insights"})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-gray-700 text-white rounded-lg hover:bg-white/20 transition-colors",children:[c.jsx(P0,{className:"w-4 h-4"}),"History"]}),c.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 border border-gray-700 text-white rounded-lg hover:bg-white/20 transition-colors",children:[c.jsx(L0,{className:"w-4 h-4"}),"Share"]}),c.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",children:[c.jsx(F0,{className:"w-4 h-4"}),"Delete"]})]})]}),c.jsx("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all",children:c.jsx($N,{data:e})})]}),c.jsx(Pt,{open:r,onClose:()=>!u&&s(!1),className:"fixed inset-0 z-50 overflow-y-auto",children:c.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[c.jsx(Pt.Overlay,{className:"fixed inset-0 bg-black/30 backdrop-blur-sm"}),c.jsxs("div",{className:"relative bg-gray-900 rounded-xl shadow-xl max-w-md w-full mx-4 p-6 border border-gray-700",children:[c.jsx(Pt.Title,{className:"text-xl font-semibold text-white mb-4",children:"Delete Knowledge Base"}),c.jsx("p",{className:"text-gray-300 mb-6",children:"Are you sure you want to delete this knowledge base? This action cannot be undone."}),c.jsxs("div",{className:"flex justify-end gap-3",children:[c.jsx("button",{onClick:()=>s(!1),disabled:u,className:"px-4 py-2 text-gray-400 hover:text-gray-300 disabled:opacity-50",children:"Cancel"}),c.jsx("button",{onClick:h,disabled:u,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:u?"Deleting...":"Delete"})]})]})]})}),c.jsx(fN,{isOpen:i,onClose:()=>o(!1),data:e}),c.jsx(ON,{isOpen:a,onClose:()=>l(!1),history:[e]})]}):c.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-md w-full text-center",children:[c.jsx(D0,{className:"w-16 h-16 mx-auto text-gray-600 mb-6"}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"No Knowledge Base Found"}),c.jsx("p",{className:"text-gray-400 mb-8",children:"Create your first knowledge base by analyzing your store."}),c.jsx("button",{onClick:()=>t("/knowledge"),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Knowledge Base"})]})})}function E9(){const[t,e]=b.useState("all"),[n,r]=b.useState([]);b.useEffect(()=>{const l=JSON.parse(localStorage.getItem("savedTemplates")||"[]").map((u,d)=>({...u,id:u.id||`template-${Date.now()}-${d}`}));r(l)},[]);const s=n.filter(a=>t==="all"?!a.requestedAt:a.requestedAt),i=a=>new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(new Date(a)),o=a=>{const l=n.filter(u=>u.id!==a);localStorage.setItem("savedTemplates",JSON.stringify(l)),r(l),ye.success("Template removed from saved items")};return c.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Mes sauvegardes"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your saved and requested templates"})]})}),c.jsxs("div",{className:"flex space-x-1 rounded-xl bg-white/10 backdrop-blur-sm p-1 border border-gray-700 mb-6",children:[c.jsxs("button",{onClick:()=>e("all"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg ${t==="all"?"bg-[#6563fc] text-white shadow-lg shadow-[#6563fc]/25":"text-gray-400 hover:text-white"}`,children:[c.jsx(nm,{className:"w-4 h-4"}),"All Saved"]}),c.jsxs("button",{onClick:()=>e("requests"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg ${t==="requests"?"bg-[#6563fc] text-white shadow-lg shadow-[#6563fc]/25":"text-gray-400 hover:text-white"}`,children:[c.jsx(oo,{className:"w-4 h-4"}),"Request Templates"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>c.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all overflow-hidden group",children:[c.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[c.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex gap-2",children:[c.jsx("button",{className:"flex-1 px-3 py-1.5 bg-white/90 hover:bg-white text-gray-900 rounded-lg backdrop-blur-sm transition-colors",children:"View Template"}),c.jsx("button",{onClick:()=>o(a.id),className:"p-1.5 bg-white/90 hover:bg-white text-red-600 rounded-lg backdrop-blur-sm transition-colors",children:c.jsx(F0,{className:"w-5 h-5"})})]})})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"font-medium text-white",children:a.brand}),a.requestedAt&&c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${a.status==="Approved"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30"}`,children:a.status})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-2",children:[c.jsx(Jd,{className:"w-4 h-4"}),c.jsx("span",{children:a.requestedAt?`Requested ${i(a.requestedAt)}`:`Saved ${i(a.savedAt||new Date)}`})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 text-xs rounded-full",children:a.category}),!a.requestedAt&&c.jsxs("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-400 border border-purple-500/30 text-xs rounded-full flex items-center gap-1",children:[c.jsx(zu,{className:"w-3 h-3"}),"Saved"]})]})]})]},a.id))}),s.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-4",children:t==="all"?c.jsx(nm,{className:"w-8 h-8 text-gray-400"}):c.jsx(oo,{className:"w-8 h-8 text-gray-400"})}),c.jsxs("h3",{className:"text-lg font-medium text-white mb-1",children:["No ",t==="all"?"saved templates":"template requests"," yet"]}),c.jsx("p",{className:"text-gray-400",children:t==="all"?"Start saving templates you like for quick access":"Request templates from brands to get customized versions"})]})]})})}const S9=[{title:"Getting Started with Ad Templates",description:"Learn how to use our template library effectively",type:"video",duration:"5 min",image:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&q=80&w=800"},{title:"Creating High-Converting Ads",description:"Best practices for ad creation and optimization",type:"article",duration:"10 min read",image:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&q=80&w=800"},{title:"Advanced Ad Analytics",description:"Understanding performance metrics and optimization",type:"video",duration:"15 min",image:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=800"}];function N9(){return c.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"flex items-center justify-between mb-8",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Guides"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"Learn how to create better ads and improve your campaigns"})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S9.map((t,e)=>c.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] overflow-hidden group",children:[c.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[c.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),t.type==="video"&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"w-12 h-12 bg-white/90 rounded-full flex items-center justify-center",children:c.jsx(Zw,{className:"w-6 h-6 text-blue-600"})})})]}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.type==="video"?c.jsx(Zw,{className:"w-4 h-4 text-blue-400"}):c.jsx(oo,{className:"w-4 h-4 text-blue-400"}),c.jsx("span",{className:"text-sm text-gray-400",children:t.duration})]}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.title}),c.jsx("p",{className:"text-gray-400 mb-4",children:t.description}),c.jsxs("button",{className:"flex items-center gap-2 text-blue-400 hover:text-blue-300",children:["Start Learning",c.jsx(Yd,{className:"w-4 h-4"})]})]})]},e))})]})})}const _9=[{question:"How do I create my first ad template?",answer:"Navigate to Templates, click 'Create New', and follow our step-by-step guide to create your first ad template."},{question:"Can I export my templates?",answer:"Yes! You can export templates in multiple formats including PSD, AI, and PNG. Just click the export button on any template."},{question:"How do I share templates with my team?",answer:"Use the share button on any template to invite team members or generate a shareable link."}];function C9(){return c.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Help Center"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"Get help with your questions and find resources"})]}),c.jsxs("div",{className:"relative max-w-2xl mx-auto mb-12",children:[c.jsx($0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search for help...",className:"w-full pl-12 pr-4 py-3 bg-white/10 border border-gray-700 rounded-xl focus:ring-2 focus:ring-blue-500 text-white placeholder-gray-400"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[c.jsxs("button",{className:"p-6 bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all text-left",children:[c.jsx(c5,{className:"w-8 h-8 text-blue-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Live Chat"}),c.jsx("p",{className:"text-gray-400",children:"Chat with our support team"})]}),c.jsxs("button",{className:"p-6 bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all text-left",children:[c.jsx(R0,{className:"w-8 h-8 text-blue-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Email Support"}),c.jsx("p",{className:"text-gray-400",children:"Get help via email"})]}),c.jsxs("button",{className:"p-6 bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] hover:shadow-[0_0_30px_rgba(101,99,252,0.2)] transition-all text-left",children:[c.jsx(r5,{className:"w-8 h-8 text-blue-400 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Documentation"}),c.jsx("p",{className:"text-gray-400",children:"Browse our guides"})]})]}),c.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] overflow-hidden",children:[c.jsx("div",{className:"px-6 py-4 border-b border-gray-700",children:c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Frequently Asked Questions"})}),c.jsx("div",{className:"divide-y divide-gray-700",children:_9.map((t,e)=>c.jsxs("button",{className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-700/50 transition-colors",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-white font-medium",children:t.question}),c.jsx("p",{className:"mt-1 text-gray-400",children:t.answer})]}),c.jsx(A0,{className:"w-5 h-5 text-gray-400"})]},e))})]})]})})}const T9=[{id:"profile",icon:U0,title:"Profile Settings",description:"Manage your account information"},{id:"notifications",icon:_2,title:"Notifications",description:"Configure your notification preferences"},{id:"security",icon:Vu,title:"Security",description:"Update your password and security settings"},{id:"appearance",icon:d5,title:"Appearance",description:"Customize your interface"},{id:"billing",icon:I2,title:"Billing",description:"Manage your subscription and billing"},{id:"team",icon:el,title:"Team",description:"Manage team members and permissions"}],I9=[{name:"Free",price:"$0",features:["5 templates per month","Basic analytics","Email support"]},{name:"Pro",price:"$29",features:["Unlimited templates","Advanced analytics","Priority support","Custom branding"]},{name:"Enterprise",price:"Custom",features:["Custom solutions","Dedicated support","SLA","Advanced security"]}];function j9(){const{theme:t,setTheme:e}=Zb(),{currentUser:n}=Il(),[r,s]=b.useState("profile"),[i,o]=b.useState(!1),[a,l]=b.useState({name:(n==null?void 0:n.displayName)||"",email:(n==null?void 0:n.email)||"",company:"",role:"",notifications:{email:!0,push:!0,updates:!0,marketing:!1},currentPassword:"",newPassword:"",confirmPassword:""}),u=()=>{ye.success("Settings saved successfully"),o(!1)},d=(f,m)=>{l(g=>({...g,[f]:m})),o(!0)},h=()=>{switch(r){case"profile":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Profile Information"}),c.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Full Name"}),c.jsx("input",{type:"text",value:a.name,onChange:f=>d("name",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter your name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email Address"}),c.jsx("input",{type:"email",value:a.email,onChange:f=>d("email",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter your email"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Company"}),c.jsx("input",{type:"text",value:a.company,onChange:f=>d("company",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter your company name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Role"}),c.jsx("input",{type:"text",value:a.role,onChange:f=>d("role",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter your role"})]})]})]});case"notifications":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Notification Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-white",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:a.notifications.email,onChange:f=>d("notifications",{...a.notifications,email:f.target.checked}),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-white",children:"Push Notifications"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Receive push notifications"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:a.notifications.push,onChange:f=>d("notifications",{...a.notifications,push:f.target.checked}),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-white",children:"Product Updates"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Receive updates about new features"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:a.notifications.updates,onChange:f=>d("notifications",{...a.notifications,updates:f.target.checked}),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]});case"security":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Security Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),c.jsx("input",{type:"password",value:a.currentPassword,onChange:f=>d("currentPassword",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),c.jsx("input",{type:"password",value:a.newPassword,onChange:f=>d("newPassword",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Enter new password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Confirm New Password"}),c.jsx("input",{type:"password",value:a.confirmPassword,onChange:f=>d("confirmPassword",f.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 text-white",placeholder:"Confirm new password"})]})]})]});case"appearance":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Appearance Settings"}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-white mb-2",children:"Theme"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:()=>e("light"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t==="light"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[c.jsx(L2,{className:"w-5 h-5"}),"Light"]}),c.jsxs("button",{onClick:()=>e("dark"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${t==="dark"?"bg-blue-600 text-white":"bg-gray-600 text-gray-300 hover:bg-gray-500"}`,children:[c.jsx(R2,{className:"w-5 h-5"}),"Dark"]})]})]})})]});case"billing":return c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Billing & Plans"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:I9.map(f=>c.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-6 border border-gray-600 hover:border-blue-500 transition-all",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:f.name}),c.jsx("p",{className:"text-2xl font-bold text-white mb-4",children:f.price}),c.jsx("ul",{className:"space-y-2 mb-6",children:f.features.map((m,g)=>c.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[c.jsx(A0,{className:"w-4 h-4 text-blue-400"}),m]},g))}),c.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f.name==="Free"?"Current Plan":`Upgrade to ${f.name}`})]},f.name))})]});case"team":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-semibold text-white",children:"Team Members"}),c.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Invite Member"})]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"p-4 bg-gray-700/50 rounded-lg flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-white font-medium",children:"JD"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-white",children:"John Doe"}),c.jsx("p",{className:"text-sm text-gray-400",children:"john@example.com"})]})]}),c.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm",children:"Admin"})]})})]});default:return null}};return c.jsx("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-purple-900/30 via-gray-900 to-black",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-white",children:"Settings"}),c.jsx("p",{className:"mt-1 text-gray-400",children:"Manage your account preferences and settings"})]}),i&&c.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(O0,{className:"w-4 h-4"}),"Save Changes"]})]}),c.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[c.jsx("div",{className:"col-span-12 md:col-span-3",children:c.jsx("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] overflow-hidden",children:T9.map(f=>c.jsxs("button",{onClick:()=>s(f.id),className:`w-full flex items-center gap-3 p-4 text-left transition-colors ${r===f.id?"bg-blue-600/20 border-l-4 border-blue-600":"hover:bg-gray-700/50"}`,children:[c.jsx(f.icon,{className:`w-5 h-5 ${r===f.id?"text-blue-400":"text-gray-400"}`}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-medium ${r===f.id?"text-blue-400":"text-white"}`,children:f.title}),c.jsx("p",{className:"text-sm text-gray-400",children:f.description})]})]},f.id))})}),c.jsx("div",{className:"col-span-12 md:col-span-9",children:c.jsx("div",{className:"bg-gray-800/95 backdrop-blur-sm rounded-xl border border-gray-700 shadow-[0_0_15px_rgba(101,99,252,0.1)] p-6",children:h()})})]})]})})}function A9(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(!1),{login:o}=Il(),a=hn();async function l(u){u.preventDefault();try{i(!0),await o(t,n),ye.success("Successfully logged in!"),a("/")}catch(d){ye.error("Failed to log in. Please check your credentials."),console.error("Login error:",d)}finally{i(!1)}}return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(M2,{className:"w-12 h-12 text-blue-600"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Sign in to your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",c.jsx(Ra,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("form",{className:"space-y-6",onSubmit:l,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:u=>e(u.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(R0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:n,onChange:u=>r(u.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(Vu,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("div",{className:"text-sm",children:c.jsx(Ra,{to:"/reset-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?c.jsx(Xd,{className:"w-5 h-5 animate-spin"}):"Sign in"})})]})})})]})}function D9(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,u]=b.useState(!1),{signup:d}=Il(),h=hn();async function f(m){if(m.preventDefault(),s!==o)return ye.error("Passwords do not match");try{u(!0),await d(n,s,t),ye.success("Account created successfully!"),h("/")}catch(g){ye.error("Failed to create an account."),console.error("Signup error:",g)}finally{u(!1)}}return c.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx(M2,{className:"w-12 h-12 text-blue-600"})}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Create your account"}),c.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",c.jsx(Ra,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your account"})]})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsx("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:c.jsxs("form",{className:"space-y-6",onSubmit:f,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Full Name"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:t,onChange:m=>e(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(U0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:n,onChange:m=>r(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(R0,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s,onChange:m=>i(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(Vu,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password"}),c.jsxs("div",{className:"mt-1 relative",children:[c.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",required:!0,value:o,onChange:m=>a(m.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:text-white"}),c.jsx(Vu,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?c.jsx(Xd,{className:"w-5 h-5 animate-spin"}):"Create Account"})})]})})})]})}function P9(){return c.jsx(mI,{children:c.jsx(fT,{attribute:"class",children:c.jsx(JO,{children:c.jsxs(wv,{children:[c.jsx(Lt,{path:"/login",element:c.jsx(A9,{})}),c.jsx(Lt,{path:"/signup",element:c.jsx(D9,{})}),c.jsx(Lt,{path:"/*",element:c.jsx(XO,{children:c.jsxs("div",{className:"flex h-screen overflow-hidden bg-[#13141B]",children:[c.jsx(y5,{}),c.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[c.jsx(e$,{}),c.jsx("div",{className:"flex-1 overflow-hidden mt-6",children:c.jsx("div",{className:"page-bg h-full overflow-y-auto",children:c.jsxs(wv,{children:[c.jsx(Lt,{path:"/",element:c.jsx(c$,{})}),c.jsx(Lt,{path:"/inspirations",element:c.jsx(g3,{})}),c.jsx(Lt,{path:"/brands",element:c.jsx(ZL,{})}),c.jsx(Lt,{path:"/brands/:brandId/ads",element:c.jsx(t6,{})}),c.jsx(Lt,{path:"/knowledge",element:c.jsx(b9,{})}),c.jsx(Lt,{path:"/knowledge-base",element:c.jsx(k9,{})}),c.jsx(Lt,{path:"/saved",element:c.jsx(E9,{})}),c.jsx(Lt,{path:"/guides",element:c.jsx(N9,{})}),c.jsx(Lt,{path:"/help",element:c.jsx(C9,{})}),c.jsx(Lt,{path:"/settings",element:c.jsx(j9,{})})]})})})]}),c.jsx(t$,{})]})})})]})})})})}Xb(document.getElementById("root")).render(c.jsx(b.StrictMode,{children:c.jsx(P9,{})}))});export default M9();
